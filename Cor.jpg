<!DOCTYPE html>
<!-- saved from url=(0043)https://www.britannica.com/topic/bubble-tea -->
<html lang="en" class="topic-desktop ui-chrome139 ui-chrome" style="--100vh: 1064px;"><head prefix="og: https://ogp.me/ns# fb: https://ogp.me/ns/fb#"><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    

    <link rel="dns-prefetch" href="https://cdn.britannica.com/mendel-resources/3-148">
    <link rel="preconnect" href="https://cdn.britannica.com/mendel-resources/3-148">

    

    <link rel="preload" as="script" href="https://www.googletagservices.com/tag/js/gpt.js">

    

    <link rel="icon" href="https://www.britannica.com/favicon.png">

    

    
        
        
            <meta name="description" content="Bubble tea, beverage combining tea, milk, and “bubbles”—chewy gelatinous candies made of tapioca or fruit jelly. Bubble tea is a favourite in its homeland of Taiwan and is now popular worldwide. Bubble tea originated in the city of T’ai-nan, Taiwan, in the mid-1980s. Dozens of variations of the">
        
        
    

    
    <meta name="keywords" content="bubble tea, encyclopedia, encyclopeadia, britannica, article">

    
        <link rel="canonical" href="https://www.britannica.com/topic/bubble-tea">
    

    

    
    

    

    

    

    
        
        
        
            <title>Bubble tea | Definition, Origins, Types, Ingredients, &amp; Health Benefits | Britannica</title>
        
        
    

    

    







<script async="" src="./Bubble_files/clarity.js.download"></script><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-TE6YF92Y0D&amp;cx=c&amp;gtm=4e58s0h2"></script><script async="" src="https://www.clarity.ms/tag/aqzywv6j4m?ref=gtm2"></script><script src="./Bubble_files/154643575315468" async=""></script><script async="" src="./Bubble_files/fbevents.js.download"></script><script class="analytics-metadata" type="application/json">
{"leg":"C","adLeg":"D","userType":"ANONYMOUS","pageType":"Topic","pageSubtype":null,"articleTemplateType":"MEDIUM","gisted":false,"topicId":2216741,"articleId":635923,"hasSummarizeButton":false,"hasAskButton":true,"hasAiTopQuestions":false,"hasSimplifyButton":false,"mvstEvents":[{"bcom_id":"5680607050864942573","flag_key":"mendel-toc-left-rail","in_experiment":false,"variation":false}]}
</script>


    <script type="text/javascript">
    EBStat={accountId:-1,hostnameOverride:'webstats.eb.com',domain:'www.britannica.com', json:''};
    </script>



    

    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('consent', 'default', {
        'ad_personalization': 'denied',
        'ad_storage': 'denied',
        'ad_user_data': 'denied',
        'analytics_storage': 'denied',
        'region': ["AT","BE","BG","GB","HR","CY","CZ","DK","EE","FI","FR","DE","GR","HU","IE","IT","LV","LT","LU","MT","NL","PL","PT","RO","SK","SI","ES","SE","IS","LI","NO"],
        'wait_for_update': 500,
    });

    gtag('consent', 'default', {
        'ad_personalization': 'granted',
        'ad_storage': 'granted',
        'ad_user_data': 'granted',
        'analytics_storage': 'granted',
    });

    window.geoCountry = 'PH';
    window.isGdprCountry = false;
    window.isCcpaCountry = false;
    window.geoRegion = 'BTG';

</script>



    

    <link rel="preconnect" href="https://dev.visualwebsiteoptimizer.com/">
<script type="text/javascript" id="vwoCode">
    window._vwo_code || (function() {
        var account_id=698824,
            version=2.1,
            settings_tolerance=2000,
            hide_element='body',
            hide_element_style = 'opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;transition:none !important;',
            f=false,w=window,d=document,v=d.querySelector('#vwoCode'),cK='_vwo_'+account_id+'_settings',cc={};try{var c=JSON.parse(localStorage.getItem('_vwo_'+account_id+'_config'));cc=c&&typeof c==='object'?c:{}}catch(e){}var stT=cc.stT==='session'?w.sessionStorage:w.localStorage;code={nonce:v&&v.nonce,library_tolerance:function(){return typeof library_tolerance!=='undefined'?library_tolerance:undefined},settings_tolerance:function(){return cc.sT||settings_tolerance},hide_element_style:function(){return'{'+(cc.hES||hide_element_style)+'}'},hide_element:function(){if(performance.getEntriesByName('first-contentful-paint')[0]){return''}return typeof cc.hE==='string'?cc.hE:hide_element},getVersion:function(){return version},finish:function(e){if(!f){f=true;var t=d.getElementById('_vis_opt_path_hides');if(t)t.parentNode.removeChild(t);if(e)(new Image).src='https://dev.visualwebsiteoptimizer.com/ee.gif?a='+account_id+e}},finished:function(){return f},addScript:function(e){var t=d.createElement('script');t.type='text/javascript';if(e.src){t.src=e.src}else{t.text=e.text}v&&t.setAttribute('nonce',v.nonce);d.getElementsByTagName('head')[0].appendChild(t)},load:function(e,t){var n=this.getSettings(),i=d.createElement('script'),r=this;t=t||{};if(n){i.textContent=n;d.getElementsByTagName('head')[0].appendChild(i);if(!w.VWO||VWO.caE){stT.removeItem(cK);r.load(e)}}else{var o=new XMLHttpRequest;o.open('GET',e,true);o.withCredentials=!t.dSC;o.responseType=t.responseType||'text';o.onload=function(){if(t.onloadCb){return t.onloadCb(o,e)}if(o.status===200||o.status===304){_vwo_code.addScript({text:o.responseText})}else{_vwo_code.finish('&e=loading_failure:'+e)}};o.onerror=function(){if(t.onerrorCb){return t.onerrorCb(e)}_vwo_code.finish('&e=loading_failure:'+e)};o.send()}},getSettings:function(){try{var e=stT.getItem(cK);if(!e){return}e=JSON.parse(e);if(Date.now()>e.e){stT.removeItem(cK);return}return e.s}catch(e){return}},init:function(){if(d.URL.indexOf('__vwo_disable__')>-1)return;var e=this.settings_tolerance();w._vwo_settings_timer=setTimeout(function(){_vwo_code.finish();stT.removeItem(cK)},e);var t;if(this.hide_element()!=='body'){t=d.createElement('style');var n=this.hide_element(),i=n?n+this.hide_element_style():'',r=d.getElementsByTagName('head')[0];t.setAttribute('id','_vis_opt_path_hides');v&&t.setAttribute('nonce',v.nonce);t.setAttribute('type','text/css');if(t.styleSheet)t.styleSheet.cssText=i;else t.appendChild(d.createTextNode(i));r.appendChild(t)}else{t=d.getElementsByTagName('head')[0];var i=d.createElement('div');i.style.cssText='z-index: 2147483647 !important;position: fixed !important;left: 0 !important;top: 0 !important;width: 100% !important;height: 100% !important;background: white !important;display: block !important;';i.setAttribute('id','_vis_opt_path_hides');i.classList.add('_vis_hide_layer');t.parentNode.insertBefore(i,t.nextSibling)}var o=window._vis_opt_url||d.URL,s='https://dev.visualwebsiteoptimizer.com/j.php?a='+account_id+'&u='+encodeURIComponent(o)+'&vn='+version;if(w.location.search.indexOf('_vwo_xhr')!==-1){this.addScript({src:s})}else{this.load(s+'&x=true')}}};w._vwo_code=code;code.init();})();
</script>
<script type="text/javascript" id="vwoConsent">
  // VWO.init expects a 1 for opt-in, 3 for opt-out, 2 for pending
  const setVWOConsentState = (state) => {
    const currentConsentState = window.VWO?.consentState;
    if (currentConsentState === state) {
      return;
    }
    window.VWO = window.VWO || [];
    window.VWO.init =
      window.VWO.init ||
      function (state) {
        window.VWO.consentState = state;
      };
    console.log('setting vwo consent state to', state);
    window.VWO.init(state);
    // write vwoConsentState to cookie
    document.cookie = 'vwoConsentState=' + state + '; path=/;';
  };
  if (window.isGdprCountry) {
    // set initial consent
    const vwoConsentStateCookie = document.cookie.match(new RegExp('(^| )' + 'vwoConsentState' + '=([^;]+)'));
    const initialConsent = vwoConsentStateCookie ? Number(vwoConsentStateCookie[2]) : 2;
    setVWOConsentState(initialConsent);
    const addCmpEventListener = () => {
      window.__cmp(
        'addEventListener',
        [
          'consent',
          () => {
            const cmpConsentStatus = window.__cmp('consentStatus');
            const consentExists = cmpConsentStatus?.consentExists;
            const cmpData = window.__cmp('getCMPData');
            const vwoVendorId = 's31';
            if (consentExists) {
              if (cmpData?.vendorConsents?.[vwoVendorId]) {
                setVWOConsentState(1);
              } else {
                setVWOConsentState(3);
              }
            } else {
              setVWOConsentState(2);
            }
          },
          false,
        ],
        null
      );
    };
    // Check if __cmp is available, if not, set up a timer to wait for it
    if (typeof window.__cmp === 'function') {
      addCmpEventListener();
    } else {
      const cmpCheckInterval = setInterval(() => {
        if (typeof window.__cmp === 'function') {
          clearInterval(cmpCheckInterval);
          addCmpEventListener();
        }
      }, 250);
      // Clear the interval after 20 seconds if __cmp never becomes available
      setTimeout(() => {
        clearInterval(cmpCheckInterval);
      }, 20000);
    }
  } else {
    // if not in a GDPR country, set to opt-in
    setVWOConsentState(1);
  }
</script>

    

    

    

    

    <script type="text/javascript" data-type="Init Mendel">

    window.$UI = {};

    window.Constants = {"LICENSE_URL":"/bps/license","AJAX_PREFIX_URL":"/ajax","MARKETING_CONTENT":"/marketing-content","QUIZ_URL":"/quiz","MEDIA_OVERLAY_URL":"/media-overlay","CHATBOT_PAGE_URL":"/chatbot","PROCON_QUIZ_BROWSE_URL":"/procon-quiz/browse","TOPIC_FACTS_DATA_URL":"/facts","NEWSLETTER_PAGE_URL":"/newsletters","EXPLORE_URL":"/explore","QUIZ_BROWSE_IMAGE_QUIZZES":"images","MEDIA_URL":"/media","TOPIC_MEDIA_PATH":"/images-videos","TOPIC_TOP_QUESTION_URL":"/question","PORTAL_FINANCE_URL_PREFIX":"/money","PODCASTS_URL":"/podcasts","STAND_ALONE_VIDEO_URL":"/video","ONE_GOOD_FACT_URL":"/one-good-fact","MORE_ON_THIS_DAY_URL":"/more-on-this-day","ERROR_404_URL":"/error404","PROCON_CITED_IN_THE_NEWS_URL":"/procon/ProCon-in-the-News","TOPIC_QUOTES_URL":"/quotes","SEARCH_PAGE_URL":"/search","PROCON_URL":"/procon","TOPIC_CONTENT_AJAX_URL":"/topic-content/topic","ERROR_URL":"/error","TOPIC_PAGE_CONTENT_AJAX_URL":"/topic-content/page","TOPIC_COLLECTION_URL":"/summary","LOGINBOX_URL":"/auth/loginbox","MWU_LOGIN_URL":"https://cam.merriam-webster.com/login?redirect=https%3A%2F%2Funabridged.merriam-webster.com","PROCON_DEBATE_TOPICS_URL":"/procon/Debate-Topics","ONE_GOOD_FACT_BROWSE_URL":"/one-good-fact/all-good-facts","INFINITE_SCROLL_PREFIX_URL":"/scroll","TOPIC_TOP_QUESTION_BROWSE_URL":"/questions","QUIZ_BROWSE_URL":"/quiz/browse","domain":"britannica.com","BIO_BROWSE_URL":"/browse/biographies","CATEGORY_BROWSE_URL":"/browse","TIGHTROPE_QUIZ_URL":"/quiz/tightrope","ALPHA_BROWSE_URL":"/sitemap","DICTIONARY_URL":"/dictionary","COBRAND_IMAGE_URL":"/image/cobrand","PROCON_IN_THE_NEWS_URL":"/procon/pro-and-con-issues-in-the-news","PROCON_BROWSE_URL":"/procon","QUIZ_BROWSE_VOCAB_QUIZZES":"vocabulary-quizzes","SUBMISSION_URL":"/submission","EB_LOG_OUT":"/auth2/logout","NEWSLETTER_SUBSCRIPTION_URL":"/newsletter-subscription","MAINTENANCE_ERROR_URL":"https://maintenance.eb.com","PROFILE_EB_EDITOR_URL":"/editor","TOPIC_AJAX_URL":"/ajax/topic","AI_ABOUT_PAGE_URL":"/about-britannica-ai","TOPIC_SUMMARY_BROWSE_URL":"/summaries","TOPIC_ADDITIONAL_INFO_PATH":"/additional-info","VIDEO_CHANNEL_URL":"/videos","GALLERY_BROWSE_URL":"/gallery/browse","SUDOKU_GAME_URL":"/games/sudoku","PROCON_ABOUT_URL":"/procon/About-ProCon","ARTICLE_PRINT_URL":"/print/article","FIRST_EDITION_URL":"/subscriber/firstedition","WW1_PORTAL_URL":"/discover/World-War-I","MENDEL_COOKIE":"__mendel","PROCON_QUIZ_URL":"/procon-quiz","SHOW_ALL_CONTRIBUTORS":"/additional-info#contributors","PROFILE_EXPERT_URL":"/contributor","ASSEMBLY_IMAGE_URL":"/image/assembly","DAY_IN_HISTORY_URL":"/on-this-day","PORTAL_FINANCE_BROWSE_URL_PREFIX":"/money/browse","ERROR_400_URL":"/error400","CALCULATORS_BROWSE_URL":"/calculators","EB_LOGIN_URL":"/auth/eb-login","NEW_ARTICLES_URL":"/new-articles"};
    window.CDN = "https://cdn.britannica.com";
	window.CAM_SETTINGS_URL = "https://cam.britannica.com/settings";
    window.CAM_LOGIN_URL = "https://cam.britannica.com/login";
    window.CAM_SIGN_UP_URL = "https://cam.britannica.com/registration"

    window.Mendel = {
     	"config" : {
      		"domain": "britannica.com",
			"page": "Topic",
			"videoPlayerId": "9qxcjKRe",
			"sharedUrl": "https://www.britannica.com/topic/bubble-tea",
			"amuselabsUrl": "https://cdn3.amuselabs.com",
	    	"resourcesPrefixUrl": "https://cdn.britannica.com/mendel-resources/3-148/[url]?v=3.148.5",
			"date": 20250829,
			"userInfo": { "type": "ANONYMOUS"
										,"currency": "AUUS"
										,"country": "PH"
										,"state": "BTG"
										,"timezone": "Asia/Manila"
										,"bcomId": "5680607050864942573"
										,"adProvider": ""
										,"privacyInfo": {"inGdprCountry":false,"inCcpaState":false,"showConsent":false}
										,"hasAds": false
										,"testVersion": "C"
										,"adsTestVersion": "D"
										,"consumerId": ""
										,"instId": ""
										,"consumerUserName": ""
										,"instUserName": ""
										,"cognito": null
										,"isMwuSubscriber": false
			},
			"tvs":{ "r":[25,25,25,25], "a": [3,3,3,91]},
			"isLoggedInAsUser": false,
			"isPhone": false,
			"isDesktop": true,
			"logoutUrl": "/auth2/logout",
			"selfServiceUrl": "https://myaccount.britannica.com",
			"cdnUrl": "https://cdn.britannica.com",
			"chatbotApi": "https://www.britannica.com/chat-api",
	        "fetchOffset": 800,
			
			"mendelCookieName": "__mendel",
			"mendelCookie": {"surveyShown":false,"currentDate":20250829,"ts":1,"lti":2216741},
			

			"autocompleteToSearchPage": false,"topicUrl": "https://www.britannica.com/topic/bubble-tea",
	"freeTopicReason": "COUNTRY_IS_FREE",
	"topicId": 2216741,
	"template": "DESKTOP",
	"type": "CORE",
	"hasToc": false,
	"chatbotApi": "https://www.britannica.com/chat-api",
	"showPreview": false,
		},
        "GA": {"leg":"C","adLeg":"D","userType":"ANONYMOUS","pageType":"Topic","articleTemplateType":"MEDIUM","gisted":false,"topicId":2216741,"articleId":635923,"hasSummarizeButton":false,"hasAskButton":true,"hasAiTopQuestions":false,"hasSimplifyButton":false,"mvstEvents":[{"bcom_id":"5680607050864942573","flag_key":"mendel-toc-left-rail","in_experiment":false,"variation":false}]}
    };

	</script>



    

    <meta property="fb:app_id" content="1887621861548296">

	<meta name="twitter:card" content="summary_large_image">
	<meta name="twitter:site" content="@britannica">
	<meta name="twitter:image" content="https://cdn.britannica.com/43/236443-050-350513F6/Five-glasses-of-boba-with-different-colors-and-flavors.jpg">
	<meta name="twitter:description" content="Bubble tea, beverage combining tea, milk, and “bubbles”—chewy gelatinous candies made of tapioca or fruit jelly. Bubble tea is a favourite in its homeland of Taiwan and is now popular worldwide. Bubble tea originated in the city of T’ai-nan, Taiwan, in the mid-1980s. Dozens of variations of the">

	<meta property="og:type" content="ARTICLE">
	<meta property="og:title" content="Bubble tea | Definition, Origins, Types, Ingredients, &amp; Health Benefits | Britannica">
	<meta property="og:description" content="Bubble tea, beverage combining tea, milk, and “bubbles”—chewy gelatinous candies made of tapioca or fruit jelly. Bubble tea is a favourite in its homeland of Taiwan and is now popular worldwide. Bubble tea originated in the city of T’ai-nan, Taiwan, in the mid-1980s. Dozens of variations of the">
	<meta property="og:site_name" content="Encyclopedia Britannica">
	<meta property="og:url" content="https://www.britannica.com/topic/bubble-tea">
	<meta property="og:image" content="https://cdn.britannica.com/43/236443-050-350513F6/Five-glasses-of-boba-with-different-colors-and-flavors.jpg">
	<meta property="og:image:type" content="image/jpeg">

	<script type="text/javascript" data-type="init opengraph">
	Mendel.openGraph = {"type":"ARTICLE","title":"Bubble tea | Definition, Origins, Types, Ingredients, & Health Benefits","description":"Bubble tea, beverage combining tea, milk, and “bubbles”—chewy gelatinous candies made of tapioca or fruit jelly. Bubble tea is a favourite in its homeland of Taiwan and is now popular worldwide. Bubble tea originated in the city of T’ai-nan, Taiwan, in the mid-1980s. Dozens of variations of the","imageUrl":"https://cdn.britannica.com/43/236443-050-350513F6/Five-glasses-of-boba-with-different-colors-and-flavors.jpg","imageType":"image/jpeg","pageUrl":"https://www.britannica.com/topic/bubble-tea"}</script>



    

    <link rel="preconnect" href="https://fonts.googleapis.com/">
<link rel="dns-prefetch" href="https://fonts.googleapis.com/">
<link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">


    

    <link href="./Bubble_files/vendor-bundle.css" rel="stylesheet">
    <link href="./Bubble_files/mendel-css.css" rel="stylesheet">
    
    <link href="./Bubble_files/topic-page.css" rel="stylesheet">

    <script type="text/javascript">
        if (self !== top) { top.location = self.location; }
    </script><script type="text/javascript" nonce="">(function(){function _vwo_err(e){function gE(e,a){return"https://dev.visualwebsiteoptimizer.com/ee.gif?a=698824&s=j.php&_cu="+encodeURIComponent(window.location.href)+"&e="+encodeURIComponent(e&&e.message&&e.message.substring(0,1e3)+"&vn=")+(e&&e.code?"&code="+e.code:"")+(e&&e.type?"&type="+e.type:"")+(e&&e.status?"&status="+e.status:"")+(a||"")}var vwo_e=gE(e);try{typeof navigator.sendBeacon==="function"?navigator.sendBeacon(vwo_e):(new Image).src=vwo_e}catch(err){}}try{var extE=0,prevMode=false;window._VWO_Jphp_StartTime = (window.performance && typeof window.performance.now === 'function' ? window.performance.now() : new Date().getTime());;(function(){ try {window._vwoCc={delayNTlibs: 5000}} catch(e){ } })();(function(){window._VWO=window._VWO||{};var aC=window._vwo_code;if(typeof aC==='undefined'){window._vwo_mt='dupCode';return;}if(window._VWO.sCL){window._vwo_mt='dupCode';window._VWO.sCDD=true;try{if(aC){clearTimeout(window._vwo_settings_timer);var h=document.querySelectorAll('#_vis_opt_path_hides');var x=h[h.length>1?1:0];x&&x.remove();}}catch(e){}return;}window._VWO.sCL=true;;window._vwo_mt="live";var localPreviewObject={};var previewKey="_vis_preview_"+698824;var wL=window.location;;try{localPreviewObject[previewKey]=window.localStorage.getItem(previewKey);JSON.parse(localPreviewObject[previewKey])}catch(e){localPreviewObject[previewKey]=""}try{window._vwo_tm="";var getMode=function(e){var n;if(window.name.indexOf(e)>-1){n=window.name}else{n=wL.search.match("_vwo_m=([^&]*)");n=n&&atob(decodeURIComponent(n[1]))}return n&&JSON.parse(n)};var ccMode=getMode("_vwo_cc");if(window.name.indexOf("_vis_heatmap")>-1||window.name.indexOf("_vis_editor")>-1||ccMode||window.name.indexOf("_vis_preview")>-1){try{if(ccMode){window._vwo_mt=decodeURIComponent(wL.search.match("_vwo_m=([^&]*)")[1])}else if(window.name&&JSON.parse(window.name)){window._vwo_mt=window.name}}catch(e){if(window._vwo_tm)window._vwo_mt=window._vwo_tm}}else if(window._vwo_tm.length){window._vwo_mt=window._vwo_tm}else if(location.href.indexOf("_vis_opt_preview_combination")!==-1&&location.href.indexOf("_vis_test_id")!==-1){window._vwo_mt="sharedPreview"}else if(localPreviewObject[previewKey]){window._vwo_mt=JSON.stringify(localPreviewObject)}if(window._vwo_mt!=="live"){if(typeof extE!=="undefined"){extE=1}if(!getMode("_vwo_cc")){_vwo_code.load('https://dev.visualwebsiteoptimizer.com/j.php?mode=' + encodeURIComponent(window._vwo_mt) + '&a=698824&f=1&u=' + encodeURIComponent(window._vis_opt_url||document.URL)+'&eventArch=true'+'&x=true', { sL: window._vwo_code.sL }); if(window._vwo_code.sL) { prevMode = true; }}else{(function(){window._vwo_code&&window._vwo_code.finish();_vwo_ccc={u:"/j.php?a=698824&u=https%3A%2F%2Fwww.britannica.com%2Ftopic%2Fbubble-tea&vn=2.1&x=true"};var s=document.createElement("script");s.src="https://app.vwo.com/visitor-behavior-analysis/dist/codechecker/cc.min.js?r="+Math.random();document.head.appendChild(s)})()}}}catch(e){var vwo_e=new Image;vwo_e.src="https://dev.visualwebsiteoptimizer.com/ee.gif?s=mode_det&e="+encodeURIComponent(e&&e.stack&&e.stack.substring(0,1e3)+"&vn=");aC&&window._vwo_code.finish()}})();
;;window._vwo_cookieDomain="britannica.com";;;if(prevMode){return}if(window._vwo_mt === "live"){window.VWO=window.VWO||[];window._vwo_acc_id=698824;window.VWO._=window.VWO._||{};;;window.VWO.visUuid="D7E79A873BAF3F4C695F6E678DB797C85|49332eeb51dd4e246614af5d0c5de395";
;_vwo_code.sT=_vwo_code.finished();window.VWO=window.VWO||[];window.VWO.consentMode=window.VWO.consentMode||{};window.VWO.consentMode.vTC=function(c,a,e,d,b,z,g){function f(a,b,d){e.cookie=a+"="+b+"; expires="+new Date(864e5*d+ +new Date).toGMTString()+"; domain="+g+"; path=/"}-1==e.cookie.indexOf("_vis_opt_out")&&-1==d.location.href.indexOf("vwo_opt_out=1")&&(a=e.cookie.replace(/(?:(?:^|.*;\s*)_vwo_uuid_v2\s*=\s*([^;]*).*$)|^.*$/,"$1")||a,a=a.split("|"),b=new Image,g=window._vis_opt_domain||c||d.location.hostname.replace(/^www\./,""),b.src="https://dev.visualwebsiteoptimizer.com/v.gif?cd="+(window._vis_opt_cookieDays||0)+"&a=698824&d="+encodeURIComponent(d.location.hostname.replace(/^www\./,"") || c)+"&u="+a[0]+"&h="+a[1]+"&t="+z,d.vwo_iehack_queue=[b],f("_vwo_uuid_v2",a.join("|"),366))}.bind(null,"britannica.com",window.VWO.visUuid,document,window,0,_vwo_code.sT);
;clearTimeout(window._vwo_settings_timer);window._vwo_settings_timer=null;;;;var vwoCode=window._vwo_code;if(vwoCode.filterConfig&&vwoCode.filterConfig.filterTime==="balanced"){vwoCode.removeLoaderAndOverlay()}var vwo_CIF=false;var UAP=false;;;var _vwo_style=document.getElementById('_vis_opt_path_hides'),_vwo_css=(vwoCode.hide_element_style?vwoCode.hide_element_style():'{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;transition:none !important;}')+':root {--vwo-el-opacity:0 !important;--vwo-el-filter:alpha(opacity=0) !important;--vwo-el-bg:none !important;--vwo-el-ts:none !important;}',_vwo_text="" + _vwo_css;window.VWO=window.VWO||[];window.VWO.consentMode=window.VWO.consentMode||{};window.VWO.consentMode.hideVwoText= function(){if (_vwo_style) { var e = _vwo_style.classList.contains("_vis_hide_layer") && _vwo_style; if (UAP && !UAP() && vwo_CIF && !vwo_CIF()) { e ? e.parentNode.removeChild(e) : _vwo_style.parentNode.removeChild(_vwo_style) } else { if (e) { var t = _vwo_style = document.createElement("style"), o = document.getElementsByTagName("head")[0], s = document.querySelector("#vwoCode"); t.setAttribute("id", "_vis_opt_path_hides"), s && t.setAttribute("nonce", s.nonce), t.setAttribute("type", "text/css"), o.appendChild(t) } if (_vwo_style.styleSheet) _vwo_style.styleSheet.cssText = _vwo_text; else { var l = document.createTextNode(_vwo_text); _vwo_style.appendChild(l) } e ? e.parentNode.removeChild(e) : _vwo_style.removeChild(_vwo_style.childNodes[0])}}};;window.VWO.ssMeta = { enabled: 0, noSS: 0 };;(function(){window.VWO=window.VWO||[];var i=window.VWO.consentMode=window.VWO.consentMode||{};function s(e,t){true?window.VWO._&&window.VWO._.phoenixMT&&window.VWO._.phoenixMT.trigger(e):window.VWO.consentMode[t]&&window.VWO.consentMode[t]()}function n(){i.tLocked=!0,[i.cTTimer,i.popupTimer].forEach(clearInterval)}i.tLocked=!1,i.iLocked=!1,i.states={ACCEPTED:1,PENDING:2,REJECTED:3},i.hideVwoText||(i.hideVwoText=()=>{}),i.cConfig={pS:"",bE:null,cT:2000,cPB:"B",eT:true},i.cookieName="_vwo_consent",i.domain=window._vis_opt_domain||window._vwo_cookieDomain||window.location.host,window.VWO.init=function(e){var t,o,{iState:e,tState:n}=function(e){var t=i.getState().split(",");if("object"==typeof e&&null!==e)return{iState:e.i||parseInt(t[0],10),tState:e.t||parseInt(t[1],10)};t=parseInt(e,10);return{iState:t,tState:t}}(e);o=n,(t=e)&&o&&(t!=i.states.PENDING||o!=i.states.PENDING)&&(i.setState(e+","+n),function(e){if(i.cConfig.eT){if(e==i.states.REJECTED)return i.processRejected(e),s("cCR","onConsentRejected");e==i.states.ACCEPTED&&"B"!==i.cConfig.cPB&&(i.hT=!1,i.cCA=!0,i.dT=!1,s("cCA","onConsentAccepted")),"B"===i.cConfig.cPB&&!function(e){i.tLocked||(e==i.states.ACCEPTED&&i.cConfig.bE&&"undefined"!=typeof _vwo_text&&i.hideVwoText(),i.handleBlockState(e))}(e)}}(n),i.handleInsightsState(e))},i.handleBlockState=function(e){var{ACCEPTED:t,REJECTED:o}=i.states;e==t?(s("cCA","onConsentAccepted"),i.initLoad(e),n()):e==o&&i.processRejected(e)},i.handleInsightsState=function(e){var{ACCEPTED:t,REJECTED:o}=i.states;i.iLocked||(e==t?(i.hTI=!1,s("cCAI","onInsightsConsentAccepted"),i.iLocked=!0):e==o?i.insightsRejected():i.hTI=!0)},i.handleState=function(e){var{ACCEPTED:t,REJECTED:o}=i.states;e!=t&&e!=o||i[e==t?"initLoad":"processRejected"](e)},i.handleBlock=function(e,t){var o;t.eT&&((this.cConfig.cT<=0||null===this.cConfig.cT)&&e==this.states.PENDING?(i.dT=!0,i.tLocked=!0,(o=document.getElementById("_vis_opt_path_hides"))&&o.parentNode.removeChild(o),this.handleState(this.states.PENDING)):(this.hideForBlock(e,t),this.handleBlockState(e)))},i.hideForBlock=function(e,t){if(null===e||e==this.states.PENDING){this.setTimerAndApplyFilter(t);try{var o="undefined"!=typeof _vwo_text?_vwo_text:""}catch(e){}-1!==o.indexOf("body")?(t=document.getElementById("_vis_opt_path_hides"))&&(t.removeAttribute("style"),"style"===t.tagName.toLowerCase())&&(t.textContent=""):this.hideVwoText()}else e==this.states.ACCEPTED&&this.hideVwoText()},i.handleOtherModes=function(e){if(!e||e==this.states.PENDING)return this.initLoad(e);this.handleState(e)},i.selectMode=function(e){var t=this.states;if(!e)return this.processRejected(t.REJECTED)&&this.insightsRejected();var[o,n]=this.getState().split(",");e.eT?(window.VWO.consentMode.cReady=!1,"A"===e.cPB&&n!=t.REJECTED&&i.vTC&&i.vTC(),"B"===e.cPB?this.handleBlock(n,e):this.handleOtherModes(n)):i.vTC&&i.vTC(),this.handleInsightsState(o)},i.setTimerAndApplyFilter=function(e){if(e.cT)try{i.applyFilters(e),i.popupTimer=setInterval((function(){i.applyFilters(e)&&clearInterval(i.popupTimer)}),100),i.cTTimer=setTimeout((function(){i.tLocked=!0,i.iLocked=!0,i.timeOut=!0,true?window.VWO._&&window.VWO._.phoenixMT&&window.VWO._.phoenixMT.trigger("cCT"):i.onConsentTimeout&&i.onConsentTimeout(),i.processRejected(i.states.REJECTED),clearInterval(i.popupTimer)}),e.cT)}catch(e){}},i.setState=function(e){let t=[];var o,n=document.cookie.split("; ").find(e=>e.startsWith("_vwo_consent=")),n=(n&&([o,...n]=decodeURIComponent(n.split("=")[1]).split(":"),t=n),encodeURIComponent(e+":"+t.join(":")));this.setCookie(n)},i.getState=function(){var o=document.cookie.match("(^|;)\\s*"+this.cookieName+"=\\s*([^;]+)");if(o){let[e,t]=decodeURIComponent(o[2]).split(":")[0].split(",");return t&&e||(t=e||"2",e=t),e+","+t}return o=encodeURIComponent("2,2:~"),this.setCookie(o),"2,2"},i.setCookie=function(e){var e=`_vwo_consent=${e}; path=/;domain=.${this.domain};max-age=31536000`,t=window.VWO.ssMeta;t&&t.enabled&&!t.noSS&&(e+="; secure; samesite=none; Partitioned;"),document.cookie=e},i.initLoad=function(e){if(!window.VWO.consentMode.cReady)if(window.VWO.consentMode.cReady=!0,window.VWO.initVWOLib&&window.VWO.initVWOLib(),e!=i.states.PENDING||"P"!==i.cConfig.cPB&&"B"!==i.cConfig.cPB)i.hT=!1,i.vTC&&i.vTC(),i.processRejected(e),e==i.states.REJECTED&&(i.dT=!0),i.cCA=e==i.states.ACCEPTED;else{"P"===i.cConfig.cPB&&(i.hT=!0),i.deferredQueue=[];const t="undefined"!=typeof _vwo_code&&_vwo_code.finished();i.deferredQueue.push({method:"fn",payload:()=>{if("undefined"==typeof _vwo_code)return i.vTC&&i.vTC();var e=window._vwo_code.finished;window._vwo_code.finished=()=>t||!1,i.vTC&&i.vTC(),window._vwo_code.finished=e}})}},i.applyFilters=function(e){try{var t=window._vwo_code&&_vwo_text===_vwo_css;if(!t){var o,n,i,s,d,c,a,r,l,h,_=document.querySelector(e.pS);if(_||!document.getElementById("_vis_opt_overlay"))return o=2147483647,_&&((n=window.getComputedStyle(_).getPropertyValue("z-index"))&&"auto"!==n||(n=o),_.style.zIndex=n),i="position: fixed; top: 0; left: 0; right: 0; bottom: 0; height: 100%; width: 100%;-webkit-filter: blur(5px); filter: blur(5px); backdrop-filter: saturate(180%) blur(3px); -webkit-backdrop-filter: saturate(180%) blur(3px); z-index:"+((n=n||o)-1)+";",s=document.getElementById("_vis_opt_overlay"),d=e.bE?".vwo-overlay {"+i+"}":"",s?s.styleSheet?s.styleSheet.cssText=d:(c=document.createTextNode(d),s.appendChild(c),s.removeChild(s.childNodes[0])):(a=document.createElement("style"),r=document.getElementsByTagName("head")[0],l=document.getElementsByTagName("body")[0],(h=document.createElement("div")).classList.add("vwo-overlay"),l.prepend(h),a.setAttribute("id","_vis_opt_overlay"),a.setAttribute("type","text/css"),a.styleSheet?a.styleSheet.cssText=d:a.appendChild(document.createTextNode(d)),r.appendChild(a)),!!_}}catch(e){}},i.insightsRejected=function(){i.dTI=!0,s("cCRI","onInsightsConsentRejected"),i.iLocked=!0},i.processRejected=function(e){e==i.states.REJECTED&&(i.dT=!0,document.querySelectorAll('[id^="_vis_opt_path_hides"]').forEach(e=>e&&e.parentNode.removeChild(e)));var e=document.getElementsByClassName("vwo-overlay"),t=document.getElementsByClassName("vwo-content-loader"),o=document.getElementById("_vis_opt_overlay");(e=e&&e[0])&&e.parentElement.removeChild(e),(t=t&&t[0])&&t.parentElement.removeChild(t),o&&o.parentElement.removeChild(o),n()},"B"===i.cConfig.cPB&&i.cConfig.eT||i.hideVwoText();try{}catch(e){"function"==typeof _vwo_err&&_vwo_err(e)}i.selectMode(i.cConfig),window.VWO.consentState&&window.VWO.init(window.VWO.consentState)})();
;VWO._=VWO._||{};window._vwo_clicks=10;VWO._.allSettings=(function(){return{dataStore:{campaigns:{16:{"version":2,"clickmap":0,"multiple_domains":0,"type":"ANALYZE_HEATMAP","ibe":0,"urlRegex":"^.*$","exclude_url":"^.*\\\/games.*$","comb_n":{"1":"website"},"segment_code":"true","cEV":1,"pc_traffic":100,"stag":0,"mt":[],"globalCode":[],"metrics":[],"name":"Heatmap","triggers":[17485203],"goals":{"1":{"urlRegex":"^.*$","mca":false,"excludeUrl":"","type":"ENGAGEMENT","pUrl":"^.*$"}},"id":16,"combs":{"1":1},"ss":null,"sections":{"1":{"globalWidgetSnippetIds":{"1":[]},"triggers":[],"path":"","variation_names":{"1":"website"},"variations":{"1":[]}}},"ep":1748963753000,"status":"RUNNING","manual":false,"main":true}, 15:{"version":2,"clickmap":0,"multiple_domains":0,"type":"ANALYZE_RECORDING","ibe":0,"stag":0,"urlRegex":"^.*$","mt":[],"exclude_url":"^.*\\\/games.*$|^.*\\\/quiz.*$","comb_n":{"1":"website"},"aK":1,"bl":"","pc_traffic":100,"triggers":[17485206],"id":15,"cEV":1,"globalCode":[],"metrics":[],"name":"Recording","combs":{"1":1},"goals":{"1":{"urlRegex":"^.*$","mca":false,"excludeUrl":"","type":"ENGAGEMENT","pUrl":"^.*$"}},"sections":{"1":{"path":"","globalWidgetSnippetIds":{"1":[]},"triggers":[],"variations":{"1":[]}}},"segment_code":"true","ss":null,"wl":"","status":"RUNNING","ep":1748963747000,"manual":false,"main":true}, 38:{"version":4,"clickmap":0,"stag":1,"multiple_domains":0,"type":"VISUAL_AB","ibe":1,"mt":{"1":"17567928"},"triggers":[17486448],"status":"RUNNING","urlRegex":"","id":38,"exclude_url":"||","comb_n":{"3":"Just-copy","1":"Control","2":"Stylized,-larger"},"segment_code":"true","cEV":1,"pc_traffic":100,"sV":1,"pgre":true,"muts":{"post":{"refresh":true,"enabled":true}},"globalCode":{"post":"GL_698824_38_post","pre":"GL_698824_38_pre"},"metrics":[{"type":"g","id":1,"metricId":0}],"name":"[EB PROD] MKTG | Login Box | Subscribe Link","varSegAllowed":false,"goals":{"1":{"type":"CUSTOM_GOAL","mca":false,"url":"._vwo_coal_1755799709026","identifier":null}},"ps":true,"aMTP":1,"ss":null,"combs":{"3":0.333333,"1":0.333333,"2":0.333333},"sections":{"1":{"globalWidgetSnippetIds":{"3":[],"1":[],"2":[]},"triggers":[],"path":"","variation_names":{"3":"Just-copy","1":"Control","2":"Stylized,-larger"},"variations":{"3":[{"rtag":"R_698824_38_1_3_0","xpath":".AnonymousUserDropdownOptions > div:nth-of-type(2) > ul:nth-of-type(1) > li:nth-of-type(1) > a:nth-of-type(1)","tag":"C_698824_38_1_3_0"}],"1":[{"rtag":"R_698824_38_1_1_0","dHE":true,"xpath":"DIV#global-nav-react > DIV:first-child > DIV:first-child > DIV:first-child > DIV:first-child + DIV > DIV:first-child + DIV + A + A + UL > LI:first-child > A:first-child","tag":"C_698824_38_1_1_0"}],"2":[{"rtag":"R_698824_38_1_2_0","xpath":".AnonymousUserDropdownOptions > div:nth-of-type(2) > ul:nth-of-type(1) > li:nth-of-type(1) > a:nth-of-type(1)","tag":"C_698824_38_1_2_0"}]},"segment":{"3":1,"1":1,"2":1}}},"pg_config":["2692029"],"manual":false,"ep":1755797206000}, 37:{"version":4,"clickmap":1,"multiple_domains":0,"type":"VISUAL_AB","ibe":1,"stag":0,"mt":{"2":"17486451","1":"17492976"},"triggers":[17492973],"urlRegex":"","status":"RUNNING","segment_code_v2":"(_vwo_s().f_e(_vwo_s().dt(), 'desktop'))","comb_n":{"2":"No-FT-Pop-Up","1":"Control"},"segment_code":"(_vwo_s().f_nin(_vwo_s().de(), 'ipod') && _vwo_s().f_nin(_vwo_s().de(), 'ipad') && _vwo_s().f_nin(_vwo_s().de(), 'iphone') && _vwo_s().f_nin(_vwo_s().de(), 'winphone') && _vwo_s().f_nin(_vwo_s().de(), 'android') && _vwo_s().f_nin(_vwo_s().de(), 'googletv') && _vwo_s().f_nin(_vwo_s().de(), 'symbian') && _vwo_s().f_nin(_vwo_s().de(), 'blackberry')) && (_vwo_s().f_d_con(_vwo_s().ua(), 'Mobile'))","cEV":1,"pc_traffic":100,"id":37,"ps":true,"muts":{"post":{"refresh":true,"enabled":true}},"globalCode":[],"metrics":[{"type":"g","id":1,"metricId":0},{"type":"m","id":2,"metricId":1717665}],"name":"[EB Prod] Premium | MKTG | No FT Iteration #2 | Exit Pop","varSegAllowed":false,"goals":{"2":{"type":"CUSTOM_GOAL","identifier":"vwo_bounce","mca":false},"1":{"type":"CUSTOM_GOAL","identifier":null,"mca":false}},"pgre":true,"combs":{"2":0.5,"1":0.5},"ss":{"csa":0},"sections":{"1":{"globalWidgetSnippetIds":{"2":[],"1":[]},"triggers":[],"path":"","variation_names":{"2":"No-FT-Pop-Up","1":"Control"},"variations":{"2":[{"rtag":"R_698824_37_1_2_0","dHE":true,"xpath":"BODY","tag":"C_698824_37_1_2_0"}],"1":[]},"segment":{"2":1,"1":1}}},"exclude_url":"","pg_config":["2684334"],"manual":false,"ep":1755725384000}},changeSets:{},plugins:{"GEO":{"cc":"PH","cEU":"","r":"40","vn":"geoip2","rn":"Calabarzon","c":"Nasugbu","cn":"Philippines","conC":"AS"},"DACDNCONFIG":{"AST":false,"jsConfig":{"mrp":20,"se":1,"ele":1,"cInstJS":"","recData360Enabled":1,"cRecJS":"","iche":1,"hC":10,"earc":1,"dtd":"1000","dtdfd":"","ge":1,"dt":"mobile","ast":0,"ipWhitelist":"","sampApm":"","fsLogRule":"","it":"","uct":"","eavr":"0","spa":"0"},"FB":false,"debugEvt":false,"sConfig":{"dClassVal":"(^elementor-)|elementor-|(^active)|active"},"SST":false,"aSM":false,"CJ":false,"BSECJ":false,"IAF":false,"CINSTJS":false,"CKLV":false,"DT":{"DELAYAFTERTRIGGER":1000,"DEVICE":"mobile","TC":"function(){ return _vwo_t.cm('eO','js',VWO._.dtc.ctId); };","SEGMENTCODE":"function(){ return _vwo_s().f_e(_vwo_s().dt(),'mobile') };"},"eNC":false,"PRTHD":false,"CRECJS":false,"DNDOFST":1000,"SPAR":false,"SD":{"UTC":0,"IT":0},"CSHS":false,"SCC":"{\"cache\":0,\"sT\":2000,\"hE\":\"body\"}","SPA":true,"DONT_IOS":false,"UCP":false,"RDBG":false},"LIBINFO":{"HEATMAP_HELPER":{"HASH":"ea658d5fcb67abb559ac4d1109446e0bbr"},"TRACK":{"LIB_SUFFIX":"","HASH":"fba156dd32749f4ef983161c32c48488br"},"SURVEY":{"HASH":"df0b84dfff4645fb6d1fda3cd3a1ab85br"},"OPA":{"PATH":"\/4.0","HASH":"b8276f22317d11a6facaddc9f64ebe3fbr"},"WORKER":{"HASH":"70faafffa0475802f5ee03ca5ff74179br"},"SURVEY_HTML":{"HASH":"03888dfbff0588a0a517c45d94ce4093br"},"SURVEY_DEBUG_EVENTS":{"HASH":"c0ccff8d21382a59d9070b22ac4297b8br"},"DEBUGGER_UI":{"HASH":"35091fed35f3709e5d1f9152e24de051br"},"EVAD":{"LIB_SUFFIX":"","HASH":""}},"UA":{"br":"Chrome","de":"Other","ps":"desktop:false:Windows:10:Chrome:139:Other","os":"Windows","dt":"desktop"},"IP":"158.62.11.217","PIICONFIG":false},vwoData:{"gC":null},crossDomain:{},integrations:{},events:{"vwo_cursorThrashed":{},"vwo_surveyCompleted":{},"vwo_pageUnload":{},"vwo_appTerminated":{},"vwo_appComesInForeground":{},"vwo_appGoesInBackground":{},"vwo_appLaunched":{},"vwo_autoCapture":{},"vwo_zoom":{},"vwo_debugLogs":{},"vwo_fling":{},"vwo_scroll":{},"vwo_singleTap":{},"vwo_appNotResponding":{},"vwo_page_session_count":{},"vwo_vA":{},"vwo_survey_surveyCompleted":{},"vwo_survey_submit":{},"vwo_survey_reachedThankyou":{},"vwo_survey_questionAttempted":{},"vwo_analyzeRecording":{},"vwo_survey_complete":{},"vwo_survey_close":{},"vwo_survey_attempt":{},"vwo_customConversion":{},"vwo_revenue":{},"vwo_customTrigger":{},"vwo_leaveIntent":{},"vwo_conversion":{},"vwo_timer":{"nS":["timeSpent"]},"vwo_sessionSync":{},"vwo_screenViewed":{},"vwo_surveyQuestionSubmitted":{},"vwo_dom_scroll":{"nS":["bottom","pxBottom","pxTop","top"]},"vwo_sdkUsageStats":{},"vwo_tabOut":{},"vwo_copy":{},"vwo_quickBack":{},"revenueDemo":{},"vwo_recommendation_block_shown":{},"vwo_errorOnPage":{},"vwo_surveyAttempted":{},"vwo_surveyExtraData":{},"vwo_surveyQuestionDisplayed":{},"vwo_surveyQuestionAttempted":{},"vwo_surveyDisplayed":{},"vwo_surveyClosed":{},"vwo_variationShown":{},"vwo_goalVisit":{"nS":["expId"]},"vwo_orientationChanged":{},"vwo_dom_click":{"nS":["target","target.innerText"]},"vwo_pageView":{},"vwo_dom_submit":{},"vwo_newSessionCreated":{},"vwo_networkChanged":{},"vwo_trackGoalVisited":{},"vwo_analyzeHeatmap":{},"vwo_analyzeForm":{},"vwo_tabIn":{},"vwo_survey_display":{},"vwo_doubleTap":{},"vwo_syncVisitorProp":{},"vwo_longPress":{},"vwo_appCrashed":{},"vwo_fmeSdkInit":{},"vwo_rC":{},"vwo_performance":{},"vwo_log":{},"vwo_repeatedHovered":{},"vwo_repeatedScrolled":{},"vwo_survey_questionShown":{},"vwo_mouseout":{},"vwo_selection":{},"vwo_pageRefreshed":{}},visitorProps:{},uuid:"D7E79A873BAF3F4C695F6E678DB797C85",syV:{},syE:{},cSE:{},CIF:false,syncEvent:"sessionCreated",syncAttr:"sessionCreated"},sCIds:{},oCids:["16","15","38","37"],triggers:{"17492970":{"cnds":[{"id":1001,"event":"widget-1755725464262-js-ready","filters":[[["tags.ct_92881718b12d0f61309f5ce781dbba0d"],"exec"]]}]},"17492973":{"cnds":["a",{"id":1002,"event":"vwo_pageView","filters":[]},["o",{"id":500,"event":"vwo_pageView","filters":[["storage.cookies._vis_opt_exp_37_combi","nbl"]]},["a",{"event":"vwo_mutationObserved","id":2},{"event":"vwo_notRedirecting","id":4,"filters":[]},{"event":"vwo_visibilityTriggered","id":5,"filters":[]},{"id":1000,"event":"vwo_pageView","filters":[["deviceType","in",["desktop"]]]}]]],"dslv":2},"17485203":{"cnds":["a",{"event":"vwo__activated","id":3,"filters":[["event.id","eq","16"]]},{"event":"vwo_notRedirecting","id":4,"filters":[]},{"event":"vwo_visibilityTriggered","id":5,"filters":[]},{"id":1000,"event":"vwo_pageView","filters":[]}],"dslv":2},"17567928":{"cnds":[{"id":1000,"event":"vwo_dom_click","filters":[["event.target","sel","._vwo_coal_1755799709026"]]}],"dslv":2},"17486448":{"cnds":["a",{"event":"vwo_mutationObserved","id":2},{"event":"vwo_notRedirecting","id":4,"filters":[]},{"event":"vwo_visibilityTriggered","id":5,"filters":[]},{"id":1000,"event":"vwo_pageView","filters":[]},{"id":1002,"event":"vwo_pageView","filters":[]}],"dslv":2},"5":{"cnds":[{"event":"vwo_postInit","id":101}]},"2":{"cnds":[{"event":"vwo_variationShown","id":100}]},"17486451":{"cnds":[{"id":1000,"event":"vwo_pageView","filters":[]}],"dslv":2},"8":{"cnds":[{"event":"vwo_pageView","id":102}]},"9":{"cnds":[{"event":"vwo_groupCampTriggered","id":105}]},"3":{"cnds":["a",{"id":107,"event":"vwo_pageView"},{"id":108,"event":"vwo_leaveIntent"}],"dslv":2},"75":{"cnds":[{"event":"vwo_urlChange","id":99}]},"17485206":{"cnds":["a",{"event":"vwo__activated","id":3,"filters":[["event.id","eq","15"]]},{"event":"vwo_notRedirecting","id":4,"filters":[]},{"event":"vwo_visibilityTriggered","id":5,"filters":[]},{"id":1000,"event":"vwo_pageView","filters":[]}],"dslv":2},"17492976":{"cnds":[{"id":1000,"event":"vwo_dom_click","filters":[["event.targetUrl","urlReg","^https?\\:\\\/\\\/(w{3}\\.)?cam\\.britannica\\.com\\\/subscribe\\\/bp\\-annual\\-nft\\-discount\\\/?(?:[\\?#].*)?$"]]}],"dslv":2},"17492967":{"cnds":[{"id":1001,"event":"widget-1755725464262-hw-ready","filters":[[["tags.ct_a4a2fe25a8dc0e597bde7af47bdc724a"],"exec"]]}]}},tags:{ct_a4a2fe25a8dc0e597bde7af47bdc724a:{ fn:function(executeTrigger, vwo_$) {
            (function(){document.querySelector('#vwo-widget-1755725464262').addEventListener('close_button_clicked',(function(){try{var t=localStorage.getItem('vwo_w_1755725464262');t&&((t=JSON.parse(t)).d=1,localStorage.setItem('vwo_w_1755725464262',JSON.stringify(t)))}catch(t){}}))})()
            }}, ct_92881718b12d0f61309f5ce781dbba0d:{ fn:function(executeTrigger, vwo_$) {
            (function(){setTimeout((function(){var e=document.querySelector("[vwo-widget-id='1755725464262']");e&&function(){var e="false";e="true"===e;var t=window._vwo_handleMutations||function(e,t){t()};this.querySelector(".vwo-modal__close-button").onclick=function(){t(this.parentNode,function(){this.parentNode&&this.parentNode.removeChild(this),this.dispatchEvent(new Event("close_button_clicked"))}.bind(this))}.bind(this),this.querySelector(".vwo-modal__form").onsubmit=function(n){t(this.parentNode,function(){if(e){n.preventDefault();var t=document.querySelector(".vwo-modal__form"),o=t.action||"",i=t.method||"get",d=new FormData(t),s=new URLSearchParams(d).toString(),r=new URL(o,document.baseURI),a=new XMLHttpRequest,c="get"===i?r.href+"?"+s:r.href;a.open(i,c,!0),"get"!==i&&a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),"get"===i?a.send():a.send(s),this.parentNode&&this.parentNode.removeChild(this)}this.dispatchEvent(new Event("form_submitted"))}.bind(this))}.bind(this)}.bind(e)()})),setTimeout((function(){document.dispatchEvent(new Event('vwo_widget_added_1755725464262'))}))})()
            }}, GL_698824_38_post:{ fn:function(VWO_CURRENT_CAMPAIGN, VWO_CURRENT_VARIATION,nonce = ""){}}, GL_698824_38_pre:{ fn:function(VWO_CURRENT_CAMPAIGN, VWO_CURRENT_VARIATION,nonce = ""){try{
;(function(){try{var findReactInternalInstanceKey=function(element){return Object.keys(element).find(function(n){return n.startsWith("__reactInternalInstance$")||n.startsWith("__reactFiber$")})},getFiberNode=function(DOMNode,reactInternalsKey){if(DOMNode&&reactInternalsKey)return DOMNode[reactInternalsKey]},updateFiberNode=function(node,fiber,reactInternalsKey){var nodeName=(nodeName=node.nodeName)&&nodeName.toLowerCase();fiber.stateNode=node,fiber.child=null,fiber.tag=node.nodeType===Node.ELEMENT_NODE?5:6,fiber.type&&(fiber.type=fiber.elementType="vwo-"+nodeName),fiber.alternate&&(fiber.alternate.stateNode=node),node[reactInternalsKey]=fiber},updatePropsNode=function(option,el){function vwoAttrTimeout(){var key=Object.keys(el).find(function(n){return n.startsWith("__reactProps$")})||"",endTime=Date.now();if(key&&el[key])switch(option.name){case"href":el[key].href=option.value;break;case"onClick":el[key].onClick&&delete el[key].onClick;break;case"onChange":el[key].onChange&&el[key].onChange({target:el})}key||3e3<endTime-startTime||setTimeout(vwoAttrTimeout,1)}var startTime=Date.now();vwoAttrTimeout()};window.originalReplaceWith||(window.originalReplaceWith=vwo_$.fn.replaceWith),vwo_$.fn.replaceWith2&&!window.originalReplaceWithBeforeReact?window.originalReplaceWithBeforeReact=vwo_$.fn.replaceWith2:vwo_$.fn.replaceWith&&!window.originalReplaceWithBeforeReact&&(window.originalReplaceWithBeforeReact=vwo_$.fn.replaceWith),vwo_$.fn.replaceWith=vwo_$.fn.replaceWith2=function(i){var isInputANode,reactInternalsKey;return this.length?(isInputANode=!1,"object"==typeof i?isInputANode=!0:i=i.trim(),(reactInternalsKey=findReactInternalInstanceKey(this[0]))?i?this.each(function(t,e){var fiber=getFiberNode(e,reactInternalsKey),node=document.createElement("div");node.innerHTML=isInputANode?i.nodeType===Node.TEXT_NODE?i.textContent:i.outerHTML:i,fiber&&updateFiberNode(node.firstChild,fiber,reactInternalsKey),node.firstChild&&(node.firstChild.__vwoControlOuterHTML=e.__vwoControlOuterHTML||e.outerHTML,node.firstChild.__vwoExpInnerHTML=node.firstChild.innerHTML),e.parentNode&&e.parentNode.replaceChild(node.firstChild,e)}):this:originalReplaceWithBeforeReact.apply(this,[].slice.call(arguments))):this},vwo_$.fn.html&&!window.originalHtmlBeforeReact&&(window.originalHtmlBeforeReact=vwo_$.fn.html),vwo_$.fn.html=function(n){if(!this.length)return this;this.each(function(t,e){e.hasOwnProperty("__vwoControlInnerHTML")||(e.__vwoControlInnerHTML=e.innerHTML.replaceAll(/(?=<!--)([\s\S]*?)-->/gm,""),e.__vwoExpInnerHTML=n)});var node,reactInternalsKey=findReactInternalInstanceKey(this[0]);return reactInternalsKey&&n&&((node=document.createElement("div")).innerHTML=n),void 0===n?this[0]&&this[0].innerHTML:this.each(function(t,e){var isFirstChildReferred=!1,fiber=(reactInternalsKey&&node&&(isFirstChildReferred=1===e.childNodes.length&&1===node.childNodes.length),getFiberNode(isFirstChildReferred?e.firstChild:e,reactInternalsKey));e.innerHTML=n,fiber&&e&&updateFiberNode(isFirstChildReferred?e.firstChild:e,fiber,reactInternalsKey)})},vwo_$.fn.vwoReplaceWith=function(){if(this.length){var content=this[0].outerHTML;if(content)return vwo_$(this).replaceWith(content)}return this},vwo_$.fn.vwoAttr&&!window.originalVwoAttrBeforeReact&&(window.originalVwoAttrBeforeReact=vwo_$.fn.vwoAttr),vwo_$.fn.vwoAttr=function(){var newHref_1;return this.length&&1===arguments.length&&arguments[0].href&&(newHref_1=arguments[0].href,this.each(function(i,el){updatePropsNode({name:"onClick"},el),updatePropsNode({name:"href",value:newHref_1},el)})),originalVwoAttrBeforeReact.apply(this,[].slice.call(arguments))}}catch(e){console.info(e)}})();(function(){try{var getFiberNode=function(DOMNode,reactInternalsKey){if(DOMNode&&reactInternalsKey)return DOMNode[reactInternalsKey]};window.originalBeforeReact||(window.originalBeforeReact=vwo_$.fn.before),vwo_$.fn.before=function(i){try{if(!this.length)return this;var isInputANode=!1,reactInternalsKey=("object"==typeof i&&(isInputANode=!0),element=this[0],Object.keys(element).find(function(n){return n.startsWith("__reactInternalInstance$")||n.startsWith("__reactFiber$")}));if(reactInternalsKey){if(!i)return this;var nodeToBeInserted_1=i[0]||i;if(!nodeToBeInserted_1)return this;this.each(function(t,e){var _c,element,fiber=getFiberNode(e,reactInternalsKey);document.createElement("div");fiber&&isInputANode&&(fiber=(null==(fiber=getFiberNode(e,reactInternalsKey))?void 0:fiber.return)!==getFiberNode(e.parentNode,reactInternalsKey)||!(null!=(fiber=getFiberNode(e.parentNode,reactInternalsKey))&&fiber.stateNode),_c=(null==(_c=getFiberNode(nodeToBeInserted_1,reactInternalsKey))?void 0:_c.return)!==getFiberNode(nodeToBeInserted_1.parentNode,reactInternalsKey)||!(null!=(_c=getFiberNode(nodeToBeInserted_1.parentNode,reactInternalsKey))&&_c.stateNode),!!(element=e)&&Object.keys(element).some(function(n){return n.startsWith("__reactInternalInstance$")})&&(fiber||_c)||(nodeToBeInserted_1.previousElementSibling&&null!=(element=getFiberNode(nodeToBeInserted_1.previousElementSibling,reactInternalsKey))&&element.sibling&&(getFiberNode(nodeToBeInserted_1.previousElementSibling,reactInternalsKey).sibling=getFiberNode(nodeToBeInserted_1.nextElementSibling,reactInternalsKey)),(null==(fiber=nodeToBeInserted_1.parentNode)?void 0:fiber.firstChild)===nodeToBeInserted_1&&nodeToBeInserted_1.nextElementSibling&&null!=(_c=getFiberNode(nodeToBeInserted_1.parentNode,reactInternalsKey))&&_c.child&&(getFiberNode(nodeToBeInserted_1.parentNode,reactInternalsKey).child=getFiberNode(nodeToBeInserted_1.nextElementSibling,reactInternalsKey)),e.previousElementSibling&&null!=(element=getFiberNode(e.previousElementSibling,reactInternalsKey))&&element.sibling&&(getFiberNode(e.previousElementSibling,reactInternalsKey).sibling=getFiberNode(nodeToBeInserted_1,reactInternalsKey)),nodeToBeInserted_1&&null!=(fiber=getFiberNode(nodeToBeInserted_1,reactInternalsKey))&&fiber.sibling&&(getFiberNode(nodeToBeInserted_1,reactInternalsKey).sibling=getFiberNode(e,reactInternalsKey)),nodeToBeInserted_1&&null!=(_c=getFiberNode(nodeToBeInserted_1,reactInternalsKey))&&_c.return&&(getFiberNode(nodeToBeInserted_1,reactInternalsKey).return=getFiberNode(e.parentNode,reactInternalsKey)),e.parentNode.firstChild===e&&null!=(element=getFiberNode(e.parentNode,reactInternalsKey))&&element.child&&(getFiberNode(e.parentNode,reactInternalsKey).child=getFiberNode(nodeToBeInserted_1,reactInternalsKey)),nodeToBeInserted_1.previousElementSibling&&null!=(_c=null==(fiber=getFiberNode(nodeToBeInserted_1.previousElementSibling,reactInternalsKey))?void 0:fiber.alternate)&&_c.sibling&&(getFiberNode(nodeToBeInserted_1.previousElementSibling,reactInternalsKey).alternate.sibling=null==(element=getFiberNode(nodeToBeInserted_1.nextElementSibling,reactInternalsKey))?void 0:element.alternate),(null==(fiber=nodeToBeInserted_1.parentNode)?void 0:fiber.firstChild)===nodeToBeInserted_1&&nodeToBeInserted_1.nextElementSibling&&null!=(element=null==(_c=getFiberNode(nodeToBeInserted_1.parentNode,reactInternalsKey))?void 0:_c.alternate)&&element.child&&(getFiberNode(nodeToBeInserted_1.parentNode,reactInternalsKey).alternate.child=null==(fiber=getFiberNode(nodeToBeInserted_1.nextElementSibling,reactInternalsKey))?void 0:fiber.alternate),e.previousElementSibling&&null!=(element=null==(_c=getFiberNode(e.previousElementSibling,reactInternalsKey))?void 0:_c.alternate)&&element.sibling&&(getFiberNode(e.previousElementSibling,reactInternalsKey).alternate.sibling=null==(fiber=getFiberNode(nodeToBeInserted_1,reactInternalsKey))?void 0:fiber.alternate),nodeToBeInserted_1&&null!=(element=null==(_c=getFiberNode(nodeToBeInserted_1,reactInternalsKey))?void 0:_c.alternate)&&element.sibling&&(getFiberNode(nodeToBeInserted_1,reactInternalsKey).alternate.sibling=null==(fiber=getFiberNode(e,reactInternalsKey))?void 0:fiber.alternate),nodeToBeInserted_1&&null!=(element=null==(_c=getFiberNode(nodeToBeInserted_1,reactInternalsKey))?void 0:_c.alternate)&&element.return&&(getFiberNode(nodeToBeInserted_1,reactInternalsKey).alternate.return=null==(fiber=getFiberNode(e.parentNode,reactInternalsKey))?void 0:fiber.alternate),e.parentNode.firstChild===e&&null!=(element=null==(_c=getFiberNode(e.parentNode,reactInternalsKey))?void 0:_c.alternate)&&element.child&&(getFiberNode(e.parentNode,reactInternalsKey).alternate.child=null==(fiber=getFiberNode(nodeToBeInserted_1,reactInternalsKey))?void 0:fiber.alternate)))})}}catch(e){}var element;return originalBeforeReact.apply(this,[].slice.call(arguments))}}catch(e){console.info(e)}})();
}catch(e){}}}},rules:[{"tags":[{"priority":4,"id":"runCampaign","data":"campaigns.37"}],"triggers":["17492973"]},{"tags":[{"id":"metric","metricId":0,"data":{"campaigns":[{"g":1,"c":38}],"type":"g"}}],"triggers":["17567928"]},{"tags":[{"priority":4,"id":"runCampaign","data":"campaigns.16"}],"triggers":["17485203"]},{"tags":[{"priority":4,"id":"runCampaign","data":"campaigns.38"}],"triggers":["17486448"]},{"tags":[{"priority":4,"id":"runCampaign","data":"campaigns.15"}],"triggers":["17485206"]},{"tags":[{"id":"metric","metricId":0,"data":{"campaigns":[{"g":1,"c":37}],"type":"g"}}],"triggers":["17492976"]},{"tags":[{"id":"metric","metricId":1717665,"data":{"campaigns":[{"g":2,"c":37}],"type":"m"}}],"triggers":["17486451"]},{"tags":[{"priority":2,"id":"groupCampaigns"},{"priority":3,"id":"prePostMutation"}],"triggers":["8"]},{"tags":[{"priority":2,"id":"visibilityService"}],"triggers":["9"]},{"tags":[{"id":"runTestCampaign"}],"triggers":["2"]},{"tags":[{"id":"urlChange"}],"triggers":["75"]},{"tags":[{"id":"checkEnvironment"}],"triggers":["5"]}],pages:{"ec":[{"2659077":{"inc":["o",["url","urlReg","(?i).*"]]}}]},pagesEval:{"ec":[2659077]},stags:{}}})();
;;var commonWrapper=function(argument){if(!argument){argument={valuesGetter:function(){return{}},valuesSetter:function(){},verifyData:function(){return{}}}}var getVisitorUuid=function(){if(window._vwo_acc_id>=1037725){return window.VWO&&window.VWO.get("visitor.id")}else{return window.VWO._&&window.VWO._.cookies&&window.VWO._.cookies.get("_vwo_uuid")}};var pollInterval=100;var timeout=6e4;return function(){var accountIntegrationSettings={};var _interval=null;function waitForAnalyticsVariables(){try{accountIntegrationSettings=argument.valuesGetter();accountIntegrationSettings.visitorUuid=getVisitorUuid()}catch(error){accountIntegrationSettings=undefined}if(accountIntegrationSettings&&argument.verifyData(accountIntegrationSettings)){argument.valuesSetter(accountIntegrationSettings);return 1}return 0}var currentTime=0;_interval=setInterval((function(){currentTime=currentTime||performance.now();var result=waitForAnalyticsVariables();if(result||performance.now()-currentTime>=timeout){clearInterval(_interval)}}),pollInterval)}};
        commonWrapper({valuesGetter:function(){return {"ga4s":0}},valuesSetter:function(data){var singleCall=data["ga4s"]||0;if(singleCall){window.sessionStorage.setItem("vwo-ga4-singlecall",true)}var ga4_device_id="";if(typeof window.VWO._.cookies!=="undefined"){ga4_device_id=window.VWO._.cookies.get("_ga")||""}if(ga4_device_id){window.vwo_ga4_uuid=ga4_device_id.split(".").slice(-2).join(".")}},verifyData:function(data){if(typeof window.VWO._.cookies!=="undefined"){return window.VWO._.cookies.get("_ga")||""}else{return false}}})();
        var pushBasedCommonWrapper=function(argument){var firedCamp={};if(!argument){argument={integrationName:"",getExperimentList:function(){},accountSettings:function(){},pushData:function(){}}}return function(){window.VWO=window.VWO||[];var getVisitorUuid=function(){if(window._vwo_acc_id>=1037725){return window.VWO&&window.VWO.get("visitor.id")}else{return window.VWO._&&window.VWO._.cookies&&window.VWO._.cookies.get("_vwo_uuid")}};var sendDebugLogsOld=function(expId,variationId,errorType,user_type,data){try{var errorPayload={f:argument["integrationName"]||"",a:window._vwo_acc_id,url:window.location.href,exp:expId,v:variationId,vwo_uuid:getVisitorUuid(),user_type:user_type};if(errorType=="initIntegrationCallback"){errorPayload["log_type"]="initIntegrationCallback";errorPayload["data"]=JSON.stringify(data||"")}else if(errorType=="timeout"){errorPayload["timeout"]=true}if(window.VWO._.customError){window.VWO._.customError({msg:"integration debug",url:window.location.href,lineno:"",colno:"",source:JSON.stringify(errorPayload)})}}catch(e){window.VWO._.customError&&window.VWO._.customError({msg:"integration debug failed",url:"",lineno:"",colno:"",source:""})}};var sendDebugLogs=function(expId,variationId,errorType,user_type){var eventName="vwo_debugLogs";var eventPayload={};try{eventPayload={intName:argument["integrationName"]||"",varId:variationId,expId:expId,type:errorType,vwo_uuid:getVisitorUuid(),user_type:user_type};if(window.VWO._.event){window.VWO._.event(eventName,eventPayload,{enableLogs:1})}}catch(e){eventPayload={msg:"integration event log failed",url:window.location.href};window.VWO._.event&&window.VWO._.event(eventName,eventPayload)}};var callbackFn=function(data){if(!data)return;var expId=data[1],variationId=data[2],repeated=data[0],singleCall=0,debug=0;var experimentList=argument.getExperimentList();var integrationName=argument["integrationName"]||"vwo";if(typeof argument.accountSettings==="function"){var accountSettings=argument.accountSettings();if(accountSettings){singleCall=accountSettings["singleCall"];debug=accountSettings["debug"]}}if(debug){sendDebugLogs(expId,variationId,"intCallTriggered",repeated);sendDebugLogsOld(expId,variationId,"initIntegrationCallback",repeated)}if(singleCall&&(repeated==="vS"||repeated==="vSS")||firedCamp[expId]){return}window.expList=window.expList||{};var expList=window.expList[integrationName]=window.expList[integrationName]||[];if(expId&&variationId&&["VISUAL_AB","VISUAL","SPLIT_URL"].indexOf(_vwo_exp[expId].type)>-1){if(experimentList.indexOf(+expId)!==-1){firedCamp[expId]=variationId;var visitorUuid=getVisitorUuid();var pollInterval=100;var currentTime=0;var timeout=6e4;var user_type=_vwo_exp[expId].exec?"vwo-retry":"vwo-new";var interval=setInterval((function(){if(expList.indexOf(expId)!==-1){clearInterval(interval);return}currentTime=currentTime||performance.now();var toClearInterval=argument.pushData(expId,variationId,visitorUuid);if(debug&&toClearInterval){sendDebugLogsOld(expId,variationId,"",user_type);sendDebugLogs(expId,variationId,"intDataPushed",user_type)}var isTimeout=performance.now()-currentTime>=timeout;if(isTimeout&&debug){sendDebugLogsOld(expId,variationId,"timeout",user_type);sendDebugLogs(expId,variationId,"intTimeout",user_type)}if(toClearInterval||isTimeout){clearInterval(interval)}if(toClearInterval){window.expList[integrationName].push(expId)}}),pollInterval||100)}}};window.VWO.push(["onVariationApplied",callbackFn]);window.VWO.push(["onVariationShownSent",callbackFn])}};
    var surveyDataCommonWrapper=function(argument){window._vwoFiredSurveyEvents=window._vwoFiredSurveyEvents||{};if(!argument){argument={getCampaignList:function(){return[]},surveyStatusChange:function(){},answerSubmitted:function(){}}}return function(){window.VWO=window.VWO||[];function getValuesFromAnswers(answers){return answers.map((function(ans){return ans.value}))}function generateHash(str){var hash=0;for(var i=0;i<str.length;i++){hash=(hash<<5)-hash+str.charCodeAt(i);hash|=0}return hash}function getEventKey(data,status){if(status==="surveySubmitted"){var values=getValuesFromAnswers(data.answers).join("|");return generateHash(data.surveyId+"_"+data.questionText+"_"+values)}else{return data.surveyId+"_"+status}}function commonSurveyCallback(data,callback,surveyStatus){if(!data)return;var surveyId=data.surveyId;var campaignList=argument.getCampaignList();if(surveyId&&campaignList.indexOf(+surveyId)!==-1){var eventKey=getEventKey(data,surveyStatus);if(window._vwoFiredSurveyEvents[eventKey])return;window._vwoFiredSurveyEvents[eventKey]=true;var surveyData={accountId:data.accountId,surveyId:data.surveyId,uuid:data.uuid};if(surveyStatus==="surveySubmitted"){Object.assign(surveyData,{questionType:data.questionType,questionText:data.questionText,answers:data.answers,answersValue:getValuesFromAnswers(data.answers),skipped:data.skipped})}var pollInterval=100;var currentTime=0;var timeout=6e4;var interval=setInterval((function(){currentTime=currentTime||performance.now();var done=callback(surveyId,surveyStatus,surveyData);var expired=performance.now()-currentTime>=timeout;if(done||expired){window._vwoFiredSurveyEvents[eventKey]=true;clearInterval(interval)}}),pollInterval)}}window.VWO.push(["onSurveyShown",function(data){commonSurveyCallback(data,argument.surveyStatusChange,"surveyShown")}]);window.VWO.push(["onSurveyCompleted",function(data){commonSurveyCallback(data,argument.surveyStatusChange,"surveyCompleted")}]);window.VWO.push(["onSurveyAnswerSubmitted",function(data){commonSurveyCallback(data,argument.answerSubmitted,"surveySubmitted")}])}};
    (function(){var VWOOmniTemp={};window.VWOOmni=window.VWOOmni||{};for(var key in VWOOmniTemp)Object.prototype.hasOwnProperty.call(VWOOmniTemp,key)&&(window.VWOOmni[key]=VWOOmniTemp[key]);window._vwoIntegrationsLoaded=1;pushBasedCommonWrapper({integrationName:"GA4",getExperimentList:function(){return [38,37]},accountSettings:function(){var accountIntegrationSettings={"grantedScopes":{"createAudiences":true,"viewAudienceData":true},"manualSetup":true,"setupVia":"gtm","dataVariable":"dataLayer"};if(accountIntegrationSettings["debugType"]=="ga4"&&accountIntegrationSettings["debug"]){accountIntegrationSettings["debug"]=1}else{accountIntegrationSettings["debug"]=0}return accountIntegrationSettings},pushData:function(expId,variationId){var accountIntegrationSettings={"grantedScopes":{"createAudiences":true,"viewAudienceData":true},"manualSetup":true,"setupVia":"gtm","dataVariable":"dataLayer"};var ga4Setup=accountIntegrationSettings["setupVia"]||"gtag";if(typeof window.gtag!=="undefined"&&ga4Setup=="gtag"){window.gtag("event","VWO",{vwo_campaign_name:window._vwo_exp[expId].name+":"+expId,vwo_variation_name:window._vwo_exp[expId].comb_n[variationId]+":"+variationId});window.gtag("event","experience_impression",{exp_variant_string:"VWO-"+expId+"-"+variationId});return true}return false}})();pushBasedCommonWrapper({integrationName:"GA4-GTM",getExperimentList:function(){return [38,37]},accountSettings:function(){var accountIntegrationSettings={"grantedScopes":{"createAudiences":true,"viewAudienceData":true},"manualSetup":true,"setupVia":"gtm","dataVariable":"dataLayer"};if(accountIntegrationSettings["debugType"]=="gtm"&&accountIntegrationSettings["debug"]){accountIntegrationSettings["debug"]=1}else{accountIntegrationSettings["debug"]=0}return accountIntegrationSettings},pushData:function(expId,variationId){var accountIntegrationSettings={"grantedScopes":{"createAudiences":true,"viewAudienceData":true},"manualSetup":true,"setupVia":"gtm","dataVariable":"dataLayer"};var ga4Setup=accountIntegrationSettings["setupVia"]||"gtm";var dataVariable=accountIntegrationSettings["dataVariable"]||"dataLayer";if(typeof window[dataVariable]!=="undefined"&&ga4Setup=="gtm"){window[dataVariable].push({event:"vwo-data-push-ga4",vwo_exp_variant_string:"VWO-"+expId+"-"+variationId});return true}return false}})();
        ;})();(function(){window.VWO=window.VWO||[];var pollInterval=100;var _vis_data={};var intervalObj={};var analyticsTimerObj={};var experimentListObj={};window.VWO.push(["onVariationApplied",function(data){if(!data){return}var expId=data[1],variationId=data[2];if(expId&&variationId&&["VISUAL_AB","VISUAL","SPLIT_URL"].indexOf(window._vwo_exp[expId].type)>-1){}}])})();;
;var vD=VWO.data||{};VWO.data={content:{"fns":{"list":{"vn":1,"args":{"1":{}}}}},as:"r3.visualwebsiteoptimizer.com",dacdnUrl:"https://dev.visualwebsiteoptimizer.com",accountJSInfo:{"mrp":20,"rp":60,"noSS":false,"pc":{"t":0,"a":9.45},"ts":1756512222,"url":{},"pvn":0}};for(var k in vD){VWO.data[k]=vD[k]};var gcpfb=function(a,loadFunc,status,err,success){function vwoErr() {_vwo_err({message:"Google_Cdn failing for " + a + ". Trying Fallback..",code:"cloudcdnerr",status:status});} if(a.indexOf("/cdn/")!==-1){loadFunc(a.replace("cdn/",""),err,success); vwoErr(); return true;} else if(a.indexOf("/dcdn/")!==-1&&a.indexOf("evad.js") !== -1){loadFunc(a.replace("dcdn/",""),err,success); vwoErr(); return true;}};window.VWO=window.VWO || [];window.VWO._= window.VWO._ || {};window.VWO._.gcpfb=gcpfb;;window._vwoCc = window._vwoCc || {}; if (typeof window._vwoCc.dAM === 'undefined') { window._vwoCc.dAM = 1; };var d={cookie:document.cookie,URL:document.URL,referrer:document.referrer};var w={VWO:{_:{}},location:{href:window.location.href,search:window.location.search},_vwoCc:window._vwoCc};;window._vwo_cdn="https://dev.visualwebsiteoptimizer.com/cdn/";window._vwo_apm_debug_cdn="https://dev.visualwebsiteoptimizer.com/cdn/";window.VWO._.useCdn=true;window.vwo_eT="br";window._VWO=window._VWO||{};window._VWO.fSeg={};window._VWO.dcdnUrl="/dcdn/settings.js";;window.VWO.sTs=1756476329;window._VWO._vis_nc_lib=window._vwo_cdn+"edrv/beta/nc-649bf9eb321a11d8aba88fb2035bb5f2.br.js";var loadWorker=function(url){_vwo_code.load(url, { dSC: true, onloadCb: function(xhr,a){window._vwo_wt_l=true;if(xhr.status===200 ||xhr.status===304){var code="var window="+JSON.stringify(w)+",document="+JSON.stringify(d)+";window.document=document;"+xhr.responseText;var blob=new Blob([code||"throw new Error('code not found!');"],{type:"application/javascript"}),url=URL.createObjectURL(blob); var CoreWorker = window.VWO.WorkerRef || window.Worker; window.mainThread={webWorker:new CoreWorker(url)};window.vwoChannelFW=new MessageChannel();window.vwoChannelToW=new MessageChannel();window.mainThread.webWorker.postMessage({vwoChannelToW:vwoChannelToW.port1,vwoChannelFW:vwoChannelFW.port2},[vwoChannelToW.port1, vwoChannelFW.port2]);if(!window._vwo_mt_f)return window._vwo_wt_f=true;_vwo_code.addScript({text:window._vwo_mt_f});delete window._vwo_mt_f}else{if(gcpfb(a,loadWorker,xhr.status)){return;}_vwo_code.finish("&e=loading_failure:"+a)}}, onerrorCb: function(a){if(gcpfb(a,loadWorker)){return;}window._vwo_wt_l=true;_vwo_code.finish("&e=loading_failure:"+a);}})};loadWorker("https://dev.visualwebsiteoptimizer.com/cdn/edrv/beta/worker-5a32aeb554b962b0af8fd8472a392f75.br.js");;var _vis_opt_file;var _vis_opt_lib;var check_vn=function f(){try{var[r,n,t]=window.jQuery.fn.jquery.split(".").map(Number);return 2===r||1===r&&(4<n||4===n&&2<=t)}catch(r){return!1}};var uxj=vwoCode.use_existing_jquery&&typeof vwoCode.use_existing_jquery()!=="undefined";var lJy=uxj&&vwoCode.use_existing_jquery()&&check_vn();if(window.VWO._.allSettings.dataStore.previewExtraSettings!=undefined&&window.VWO._.allSettings.dataStore.previewExtraSettings.isSurveyPreviewMode){var surveyHash=window.VWO._.allSettings.dataStore.plugins.LIBINFO.SURVEY_DEBUG_EVENTS.HASH;var param1="evad.js?va=";var param2="&d=debugger_new";var param3="&sp=1&a=698824&sh="+surveyHash;_vis_opt_file=uxj?lJy?param1+"vanj"+param2:param1+"va_gq"+param2:param1+"edrv/beta/va_gq-3897b0c450d78578b3d6297e4b3d01ee.br.js"+param2;_vis_opt_file=_vis_opt_file+param3;_vis_opt_lib="https://dev.visualwebsiteoptimizer.com/dcdn/"+_vis_opt_file}else if(window.VWO._.allSettings.dataStore.mode!=undefined&&window.VWO._.allSettings.dataStore.mode=="PREVIEW"){ var path1 = 'edrv/beta/pd_'; var path2 = window.VWO._.allSettings.dataStore.plugins.LIBINFO.EVAD.HASH + ".js"; ;_vis_opt_file=uxj?lJy?path1+"vanj.js":path1+"va_gq"+path2:path1+"edrv/beta/va_gq-3897b0c450d78578b3d6297e4b3d01ee.br.js"+path2;_vis_opt_lib="https://dev.visualwebsiteoptimizer.com/cdn/"+_vis_opt_file}else{var vaGqFile="edrv/beta/va_gq-3897b0c450d78578b3d6297e4b3d01ee.br.js";_vis_opt_file=uxj?lJy?"edrv/beta/vanj-1cec8fa1d2ab4d404542d91a629a74e5.br.js":vaGqFile:"edrv/beta/va_gq-3897b0c450d78578b3d6297e4b3d01ee.br.js";if(_vis_opt_file.indexOf("vanj")>-1&&!check_vn()){_vis_opt_file=vaGqFile}}window._vwo_library_timer=setTimeout((function(){vwoCode.removeLoaderAndOverlay&&vwoCode.removeLoaderAndOverlay();vwoCode.finish()}),vwoCode.library_tolerance&&typeof vwoCode.library_tolerance()!=="undefined"?vwoCode.library_tolerance():2500),_vis_opt_lib=typeof _vis_opt_lib=="undefined"?window._vwo_cdn+_vis_opt_file:_vis_opt_lib;var loadLib=function(url){_vwo_code.load(url, { dSC: true, onloadCb:function(xhr,a){window._vwo_mt_l=true;if(xhr.status===200 || xhr.status===304){if(!window._vwo_wt_f)return window._vwo_mt_f=xhr.responseText;_vwo_code.addScript({text:xhr.responseText});delete window._vwo_wt_f;}else{if(gcpfb(a,loadLib,xhr.status)){return;}_vwo_code.finish("&e=loading_failure:"+a);}}, onerrorCb: function(a){if(gcpfb(a,loadLib)){return;}window._vwo_mt_l=true;_vwo_code.finish("&e=loading_failure:"+a);}})};loadLib(_vis_opt_lib);VWO.load_co=function(u,opts){return window._vwo_code.load(u,opts);};;;}}catch(e){_vwo_code.finish();_vwo_code.removeLoaderAndOverlay&&_vwo_code.removeLoaderAndOverlay();_vwo_err(e);window.VWO.caE=1}})();
</script>

    

    

    

    <script>
	            window.dataLayer = window.dataLayer || [];
				window.dataLayer.push( {
				   'gtm.start': new Date().getTime(),
				   event: 'gtm.js'
			   	});
            </script>
			<script src="./Bubble_files/gtm.js.download" async=""></script>
			<script src="./Bubble_files/gtm(1).js.download" async=""></script>
		

    

    <script type="application/ld+json">
    {"headline":"Bubble tea | Definition, Origins, Types, Ingredients, & Health Benefits","image":{"url":"https://cdn.britannica.com/43/236443-050-350513F6/Five-glasses-of-boba-with-different-colors-and-flavors.jpg","@type":"ImageObject"},"author":[{"name":"Gregory Lewis McNamee","url":"https://www.britannica.com/editor/Gregory-Lewis-McNamee/4763","@type":"Person"}],"keywords":"bubble tea","wordcount":381,"url":"https://www.britannica.com/topic/bubble-tea","datePublished":"2022-12-07T00:00:00Z","description":"Bubble tea, beverage combining tea, milk, and “bubbles”—chewy gelatinous candies made of tapioca or fruit jelly. Bubble tea is a favourite in its homeland of Taiwan and is now popular worldwide. Bubble tea originated in the city of T’ai-nan, Taiwan, in the mid-1980s. Dozens of variations of the","publisher":{"logo":{"url":"https://corporate.britannica.com/wp-content/themes/eb-corporate/_img/logo.png","@type":"ImageObject"},"name":"Encyclopedia Britannica","@type":"Organization"},"@type":"Article","sameAs":"https://www.wikidata.org/wiki/Q715858","@context":"https://schema.org"}
</script>

<script type="text/javascript" nonce="">/* For license info, refer to: https://dev.visualwebsiteoptimizer.com/cdn/edrv/license.txt */
(function(){"use strict";if(window.VWO=window.VWO||[],window.VWO.coreLibExecuted)return;var e,t,n,o,i,r,s;window.VWO.coreLibExecuted=1,window.VWO.v="7.0",window.VWO.v_e="b184684d0",window.VWO.betaTimeStamp=1756293855170,window._VWO_VaGQ_StartTime=performance.now(),window.VWO.modules={vwoUtils:{cookies:{}},utils:{},tags:{},phoenixPlugins:{events:{predefinedEvents:{}}},otherLibDeps:{}},window.VWO._=window.VWO._||{},Object.defineProperty(window.VWO._,"phoenixMT",{value:{bus:{},idMapping:{},counter:0,eventHistory:{},on:function(e,t,n){this.bus[e]=this.bus[e]||[],n&&n.syncToDataLayer&&(t.syncToDataLayer=!!n.syncToDataLayer);const o=this.bus[e].push(t);return this.idMapping[this.counter]=[e,o-1],this.counter++},once:function(e,t){this.bus[e]&&1==this.bus[e].length?this.bus[e][0]=t:this.on(e,t)},getAllEvents:function(){return Object.keys(this.bus)},trigger:function(e,t={}){var n;let o=[];if(!this.bus[e])return this.eventHistory[e]=this.eventHistory[e]||[],this.eventHistory[e].push(t);((null===(n=window._vwoCc)||void 0===n?void 0:n.delayCustomGoal)||["vwo_campaignsLoaded","vwo_insightsFunnel","vwo_reRun"].indexOf(e)>-1)&&(this.eventHistory[e]=this.eventHistory[e]||[],this.eventHistory[e].push(t));for(let n=(this.bus[e]||[]).length-1;n>=0;n--)if(this.bus[e][n])try{const i=this.bus[e][n];i.syncToDataLayer?o.push(i):i.call(this,t)}catch(e){}const i=o.length;if(i){for(let e=i-1;e>=0;e--)o[e].call(this,t);this.mergeEventPayloadAndDispatchCall(t)}},getEventHistory:function(e){return this.eventHistory[e]},clearEventHistory:function(e){delete this.eventHistory[e]},mergeEventPayloadAndDispatchCall(e){var t,n,o,i,r;const s=(null===(t=e._vwo)||void 0===t?void 0:t.syncEventData)||{},a=(null===(n=e._vwo)||void 0===n?void 0:n.eventDataConfig)||{};let c=(null===(r=null===(i=null===(o=window.VWO)||void 0===o?void 0:o.nls)||void 0===i?void 0:i.getEventsProps)||void 0===r?void 0:r.call(i,e))||{};const d=window.VWO._.cookies.get("_vwo_uuid");let l={};if(Object.keys(c).length&&Object.keys(a).length&&!a.multipleDomainCallSent){const e=Object.keys(a);for(let t=e.length-1;t>=0;--t){const n=e[t];d===n?(l[n]=Object.assign(Object.assign({},a[n]),c),l[n].addVwoPageMeta=!0):(l[n]=a[n],l[d]=c,l[d].addVwoPageMeta=!0,a.multipleDomainCallSent=!0)}}else l=Object.keys(c).length?{[d]:Object.assign(Object.assign({},c),{addVwoPageMeta:!0})}:a||{};s._vwo=s._vwo||{},s._vwo.eventDataConfig=l,Object.keys(s).length&&this.trigger("syncDataToDataLayer",{event:e,eventName:e.vwoEventName,syncEventData:s})},triggerForBothSides:function(e,t={}){this.trigger(e,t),window.VWO.phoenix('trigger("${{1}}", "${{2}}")',null,{captureGroups:[e,t]})},off:function(e){if(this.idMapping[e]){const[t,n]=this.idMapping[e];t&&(this.bus[t][n]=null,delete this.idMapping[e])}},clearEvent:function(e){if(this.bus[e]&&0!==this.bus[e].length){for(let t=0;t<this.counter;t++)this.idMapping[t]&&this.idMapping[t][0]===e&&(this.idMapping[t]=[]);delete this.bus[e]}}},enumerable:!1,writable:!1}),window.VWO._.native={},window.VWO._.native.JSON=window.JSON,function(e){e.DOM="vwo_dom"}(e||(e={})),function(e){e.WILD_CARD="*",e.TRIGGER="trigger",e.POST_INIT="post-init",e.TIMER="vwo_timer"}(t||(t={})),function(e){e.URL_CHANGE="vwo_urlChange",e.LEAVE_INTENT="vwo_leaveIntent",e.CLICK_EVENT="vwo_dom_click",e.SUBMIT_EVENT="vwo_dom_submit",e.PAGE_LOAD_EVENT="vwo_page_load"}(n||(n={})),function(e){e.PAGE_VIEW="vwo_pageView",e.PAGE_UNLOAD_EVENT="vwo_pageUnload"}(o||(o={})),function(e){e.EXIT_CONDITIONS="__exitConditions"}(i||(i={})),function(e){e.DOM_CONTENT_LOADED="DOMContentLoaded",e.SCROLL="scroll",e.CLICK="click",e.SUBMIT="submit"}(r||(r={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(s||(s={}));class a{constructor(e){this.setLevel(e)}setLevel(e="warn"){this.logLevel=s[e.toUpperCase()]}info(e,t={}){this.customLog(s.INFO,e,t)}debug(e,t={}){this.customLog(s.DEBUG,e,t)}warn(e,t={}){var n,o;this.customLog(s.WARN,e,t,null===(o=null===(n=window.VWO)||void 0===n?void 0:n._)||void 0===o?void 0:o.customError)}error(e,t={}){var n,o;this.customLog(s.ERROR,e,t,null===(o=null===(n=window.VWO)||void 0===n?void 0:n._)||void 0===o?void 0:o.customError)}customLog(e,t,n,o=null){var i,r,s;if(e>=this.logLevel){const a=this.formatMessage(e,t,n);null===(s=null===(r=null===(i=window.VWOEvents)||void 0===i?void 0:i.store)||void 0===r?void 0:r.actions)||void 0===s||s.addLogsForDebugging(a),o?o(a):this.consoleLog(e,[a])}}consoleLog(e,t){switch(e){case s.INFO:console.info(...t);break;case s.WARN:console.warn(...t);break;case s.ERROR:console.error(...t);break;default:console.log(...t)}}formatMessage(t,n,o){var i,a;const c=Object.keys(o).reduce(((e,t)=>e.replace(new RegExp(`{{${t}}}`,"g"),o[t])),n),d=`${e.DOM}_`;let l=o;const u=(null===(i=o.data)||void 0===i?void 0:i.vwoEventName)||o.vwoEventName;u!==d+r.CLICK&&u!==d+r.SUBMIT||(l=o.data?null===(a=o.data)||void 0===a?void 0:a.props:l.props,l=l||{name:u});let w=JSON.stringify;try{w=window.VWO._.native.JSON.stringify||JSON.stringify}catch(e){}return`VWO: [${s[t].toUpperCase()}] [${(new Date).toUTCString()}] ${c} ${w(l)}`}}var c=new a("warn");class d{formatErrorObject(e){return"string"==typeof e&&(e={msg:e}),e}setCustomError(e){const t=this;window.VWO._.customError=function(n){n=t.formatErrorObject(n),e(n)}}}const l=e=>{try{window.VWO._.customError(e)}catch(e){}};function u(e,t={sendErrorLog:!1},n){try{return e()}catch(e){return t.sendErrorLog&&setTimeout((()=>{try{l({msg:t.msg||"safelyGetValue failed!",url:t.url||"errorHandler.ts",source:t.source||e})}catch(e){}}),100),n}}function w(e,t){try{return e()}catch(e){return void(t&&!t.disabledErrLog&&console.error("Error occurred:",e))}}const _={isVisBucketedForTrack:()=>u((()=>window.VWO._.insights.isVisBucketedForTrack())),includeFunnel:e=>u((()=>window.VWO._.insights.includeFunnel(e))),excludeFunnel:e=>u((()=>window.VWO._.insights.excludeFunnel(e))),isFunnelIncluded:e=>u((()=>window.VWO._.insights.isFunnelIncluded(e))),isFunnelExcluded:e=>u((()=>window.VWO._.insights.isFunnelExcluded(e))),activateFunnels:()=>u((()=>window.VWO._.insights.activateFunnels())),markFunnelValue:(e,t,n,o)=>u((()=>window.VWO._.insights.markFunnelValue(e,t,n,o))),includeInsightsMetric:e=>u((()=>window.VWO._.insights.includeInsightsMetric(e))),isMetircTriggered:e=>u((()=>window.VWO._.insights.isMetircTriggered(e)))},g=()=>window.VWO._.CampaignEnum||{},p=()=>window.VWO._.insightsCampaignUtils||{},h=()=>window.VWO._.insightsLibUtils||{};function v(e,t,n,o){return new(n||(n=Promise))((function(i,r){function s(e){try{c(o.next(e))}catch(e){r(e)}}function a(e){try{c(o.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((o=o.apply(e,t||[])).next())}))}window.VWO._=window.VWO._||{},window.VWO._.insightsUtils=window.VWO._.insightsUtils||_;const{toString:f}=Object.prototype;function m(e){return"[object Object]"===f.call(e)}function O(e){return"[object Array]"===f.call(e)}function E(e){return"[object Null]"===f.call(e)}function S(e){return"[object Undefined]"===f.call(e)}function T(e){return!S(e)&&!E(e)}function C(e){return!Number.isNaN(e)&&"[object Number]"===f.call(e)}function I(e){return"[object String]"===f.call(e)}class y{mergeNestedObjects(...e){return e.reduce(((e,t)=>this.recursivelyMerge(e,t)))}mergeNestedObjectsV2(e={mergeArrays:!1},...t){return t.reduce(((t,n)=>this.recursivelyMerge(t,n,{},e)))}createNestedObjects(e,t){let n=e;return t&&t.split(".").forEach((e=>{Object.prototype.hasOwnProperty.call(n,e)||(n[e]={}),n=n[e]})),n}clearNestedObject(e,t){let n=e;const o=t.split("."),i=o[o.length-1];for(let e=0;e<o.length-1;e++)n=n[o[e]];m(n[i])?n[i]={}:delete n[i]}recursivelyMerge(e,t,n={},o={mergeArrays:!1}){if(m(e)&&m(t)){const i={};Object.keys(e).concat(Object.keys(t)).forEach((e=>{i[e]=1}));const r=Object.getOwnPropertyDescriptors(e),s=Object.getOwnPropertyDescriptors(t);return Object.keys(i).forEach((i=>{s[i]?Object.defineProperty(n,i,s[i]):Object.defineProperty(n,i,r[i]),this.recursivelyMerge(e[i],t[i],n[i],o)})),n}return o.mergeArrays&&O(e)&&O(t)?(O(n)||(n=[]),n.splice(0,n.length,...e.concat(t)),n):t||e}}var A=new y;function b(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t}const V=function(e){const t=e.toString();let n,o;((n=t.match(/^(?:async\s+)?([A-Za-z0-9_$]*)\s*=>/))||(n=t.match(/^(?:async\s+)?\((.*)\)\s*=>/))||(n=t.match(/^(?:async\s+)?function(?:\s+[A-Za-z_$]*)?\s*\((.*)\)\s*{/)))&&(o=n[1]);const i={};let r=!1;return o.split(",").forEach(((e,t)=>{"vwo_$"===e.trim()&&(i[t]=window.vwo_$,r=!0)})),r?function(...t){return Object.keys(i).forEach((e=>{+e<t.length&&(t[e]=i[e])})),e(...t)}:e};let N;function R(e){if(!e)return e;try{e=window.decodeURIComponent(e)}catch(e){}return e}const L=function(){if(void 0!==N)return N;const e=[],t=window.VWO._.allSettings.dataStore.campaigns;let n,o;for(let n in t)e.push(n);return N=!!(n=(window.location.search+window.location.hash).match(/.*_vis_test_id=(.*?)&.*_vis_opt_preview_combination=(.*?)(?:&|#|$)/))&&(!(!e.includes(n[1])||!t[n[1]]||void 0===t[n[1]].combs[o=R(n[2])])&&o),N},W={SET_COOKIE:"sC",GET_COOKIE:"gC",ERASE_COOKIE:"eC",SET_THIRD_PARTY_COOKIE:"sTPC",SET_THIRD_PARTY_COOKIE_ERROR:"sTPCE"};window._vwo_evq=window._vwo_evq||[];var P="jI",D=window._vwo_evq;const x=window._vwo_ev=window._vwo_ev||function(...e){if(!e[0])throw new Error("Invalid Event:"+e[0]);e[0]!==P?D.push([].slice.call(arguments)):D.unshift([P])};window.VWO._.triggerEvent=window._vwo_ev;class U{}var M={};function k(e,t){const n=document.createEvent("Event");e="vwo."+e,n.initEvent&&(n.initEvent(e,!1,!1),n.data=t,document.dispatchEvent&&document.dispatchEvent(n))}function G(e,t){M.queue=M.queue||[];const n=window.VWO._.ac&&window.VWO._.ac.rdbg;if("meta"==e&&!n)return;if(!document.createEvent)return;const o=window.VWO;if(!o.nls||!o.nls.Recording)return void M.queue.push({eventName:e,data:t});M.queue.push({eventName:e,data:t});const i=M.queue.splice(0);for(var r of i)k(r.eventName,r.data)}const F=(e=(e=>null))=>{window.VWO._.vAEH=e};var $;window.VWO.modules.vwoUtils.utils={customEvent:G},function(e){e[e.Object=0]="Object",e[e.Property=1]="Property",e[e.Document=2]="Document",e[e.Variable=3]="Variable",e[e.OverWrite=4]="OverWrite",e[e.Delete=5]="Delete"}($||($={}));const j={CAMPAIGN_FLOW_START:"cFS",TEST_NOT_RUNNING:"tNR",CAMPAIGN_FLOW_END:"cFE",REGISTER_CONVERSION:"vwo_rC",CONVERT_GOAL_FOR_ALL_EXPERIMENTS:"cGFAE",UNHIDE_ALL_VARIATIONS:"uAV",DIMENSION_TAG_PUSHED:"dTP",CONVERT_VISIT_GOAL_FOR_EXPERIMENT:"cVGFE",UNHIDE_SECTION:"uS",EXCLUDE_URL:"eURL",BEFORE_REDIRECT_TO_URL:"bRTR",URL_CHANGED:"uC",HIDE_ELEMENTS:"hE",ELEMENT_LOAD_ERROR:"eLTTE",NOT_REDIRECTING:"vwo_notRedirecting",VISIBILITY_TRIGGERED:"vwo_visibilityTriggered",VARIATION_APPLIED:"vwo_vA",VARIATION_APPLIED_ERROR:"vwo_variationAppliedError",ELEMENT_LOAD_TIMER_STOP:"eLTSt",SEND_NEW_VISITOR_CALL:"sNVC",CONVERT_REVENUE_GOALS_FOR_EXPERIMENT:"cRGFE",CHOOSE_COMBINATION:"cC",START_APPLY_CHANGES:"sAC",END_APPLY_CHANGES:"eAC",CAMPAIGN_COMBI_CREATED:"cCC",ELEMENT_LOADED:"eL",ELEMENT_NOT_LOADED:"eNL",MATCH_WILDCARD:"mW",DELETE_CSS_RULE:"dCSSR",SPLIT_READY_TO_REDIRECT:"sURL",SESSION:"vwo_session",NEW_SESSION:"newSession",UNHIDE_VARIATION:"uV",NEW_SESSION_CREATED:"newSessionCreated",PAUSE:"pause",SPLIT_URL:"sURL",SHOULD_EXECUTE_LIB_ERROR:"shouldExecLib",UPDATE_SETTINGS_CALL:"uSC",EXCLUDE_GOAL_URL:"eGURL",HEATMAP_CLICK:"hCl",POST_URL_CHANGE:"hC",AFTER_SAMPLING_TRIGGER:"sT",CONVERT_ALL_VISIT_GOALS_FOR_EXPERIMENT:"cAVGFE",OPT_OUT:"oO",POST_INIT:"vwo_postInit",PAGE_VIEW:"vwo_pageView",ELEMENT_CHANGES_APPLIED:"elementChangesApplied",REGISTER_HIT:"registerHit",REDIRECT_DECISION:"rD",RETRACK_VISITOR:"retrackVisitor",CAMPAIGN_NOT_ELIGIBLE:"runCampaign.notEligible",UNHIDE_ELEMENT:"unhideElement",TOGGLE_VISIBILITY_LOCK:"runCampaign.toggleVisibilityLock",CAMPAIGN_READY:"runCampaign.campaignReady",MODIFIED_ELEMENT:"runTestCampaign.modifiedEl",ERROR:"error",SSR_COMPLETE:"vwo_mutationObserved",SET_ENV:"setEnvironment",ACTIVATED:"vwo_activated",_ACTIVATED:"vwo__activated",RECORDING_NOT_ELIGIBLE:"rNE",VARIATION_SHOWN:"vwo_variationShown",NEW_SURVEY_FOUND:"nSF",SYNC_VISITOR_PROP:"vwo_syncVisitorProp",TAG_EVALUATED:"vwo_tagEval",HTML_ELEMENT_LOADED:"vwo_elementLoaded",HTML_ELEMENT_HYDRATED:"vwo_elementHydrated",CAMPAIGN_UNLOADED:"vwo_campUnload",CAMPAIGNS_LOADED:"vwo_campaignsLoaded",EXECUTE_FUNNEL_FOR_GOAL_CAMPAIGN:"executeFunnelCampForGoalCampaign",EDITOR_APPLY_CHANGES_COMPLETE:"editorApplyChangesComplete",INIT_VWO_INTERNALS:"initVWOInternals",SET_CAMPAIGN_TO_OBSERVE:"setCampaignToObserve",SEGMENTATION_EVALUATED:"sE",SEGMENTATION_FAILED:"sF",ELEMENTS_SHOWN_WITHOUT_CHANGES:"eSWC",CUSTOM_CONVERSION:"vwo_conversion",REVENUE_CONVERSION:"vwo_revenue",DOM_SUBMIT:"vwo_dom_submit",DOM_CLICK:"vwo_dom_click",GOAL_CONVERTED:"vwo_goalConverted",GOAL_VISIT:"vwo_goalVisit",EVALUATE_GOAL_PAGE_FOR_PREJS:"vwo_evalPreCampJs",GROUP_WINNER_CHOOSEN:"vwo_groupWinnerChosen",CHECK_SEGMENTATION:"checkSegmentation",TRACK_NEW_SESSION_CREATED:"tnSC",TRACK_SESSION_CREATED:"tSC",PAGE_UNLOAD:"vwo_pageUnload",SPA_VISIBILITY_SERVICE:"visibilityForSpa",SESSION_INIT_COMPLETE:"vwo_sessionInitComplete",TIB_DONE:"vwo_topInitializeBeginDone",TOGGLE_MUT_OBSERVER:"toggleMutationObserver",DOM_CONTENTLOADED:"vwo_dom_DOMContentLoaded",SPLIT_VARIATION_SHOWN:"splitVariationShown",VWO_EXECUTED:"vE",ACTIVATE_API_TRIGGERED:"aAT",CAMPAIGN_TAG_EXECUTED:"cTE",RUN_REVERT_TAGS:"runrT",VARIATION_SHOWN_SENT:"vwo_variationShownSent",PAGE_EXIT:"pageExitEvent",COOKIE_CONSENT_ACCEPTED:"cCA",COOKIE_CONSENT_ACCEPTED_INSIGHTS:"cCAI",COOKIE_CONSENT_REJECTED_INSIGHTS:"cCRI",COOKIE_CONSENT_REJECTED:"cCR",COOKIE_CONSENT_TIMEOUT:"cCT",LOAD_SURVEY_LIB:"loadSurveyLib",NATIVE_DOM_CONTENT_LOADED:"vwo_domReady",RECOM_BLOCK_SHOWN:"vwo_recommendation_block_shown",SYNC_EVENTS_COMPLETED:"vwo_syncEventsCallCompleted",SEND_SYNC_CALL:"vwo_sendSyncCall",LOAD_SETTINGS:"vwo_loadSettings",DEBUG_EVENT:"vwo_debugLogs",NEW_SESSION_TRACKED:"vwo_newSnTracked",GOAL_CONVERSION_FAILED:"vwo_goalConversionFailed"};let B="",H=()=>"",K=e=>e,q=e=>e;var J;window.VWO._.namespaceKeyWithAccId=K;const X=null===(J=window._vwoCc)||void 0===J?void 0:J.cookiePrefix,Y=e=>X?e.startsWith(X)?e:`${X}${e}`:e,z=e=>{if(!X)return e;const t=e.replace(/^(\^)/,"").replace(/(\$)$/,"");return`^${X.replace(/([.*+?^${}()|[\]\\])/g,"\\$1")}${t}$`};class Q{constructor(){this.handleEmptyValue=e=>""===e?"~":e,this.revertEmptyValue=e=>"~"===e?"":e,this.encodeData=e=>{const t=Object.entries(e);let n="";for(let e=0;e<t.length;e++){const[o,i]=t[e],{sId:r,mId:s,p:a,variation:c}=i,d=`p.rU:${encodeURIComponent(this.handleEmptyValue(a.rU))},p.t:${encodeURIComponent(this.handleEmptyValue(a.t))},p.u:${encodeURIComponent(this.handleEmptyValue(a.u))}`;n+=`${o}:${this.handleEmptyValue(r)},${this.handleEmptyValue(s)},${d},${this.handleEmptyValue(c)}|`}return n.slice(0,-1)},this.decodeData=e=>{if("~"===e)return;const t={},n=e.split("|");for(let e=0;e<n.length;e++){const[o,...i]=n[e].split(":"),[r,s,...a]=i.join(":").split(","),c=this.revertEmptyValue(a.pop()||""),d={};for(let e=0;e<a.length;e++){const t=a[e],[n,...o]=t.split(":");if(n.startsWith("p.")){d[n.slice(2)]=this.revertEmptyValue(decodeURIComponent(o.join(":")))}}t[o]={sId:this.revertEmptyValue(r),mId:this.revertEmptyValue(s),p:d,variation:c}}return t},this.consentMode=window.VWO.consentMode||!1,this.goalCookieStore={},this.ccN=Y("_vwo_consent")}processQueue(){var e;const t=window.VWO.consentMode.deferredQueue||[];for(;t.length>0;){const n=t.shift();null===(e=n.payload)||void 0===e||e.call(n)}}extractSavedCalls(){const e=this.getSyncDataFromConsentCookie();if(e)return this.decodeData(e)}overrideCookies(e){const t=e._create;e._create=(...n)=>{if(!this.consentMode.dT)return this.consentMode.hT&&n[0].includes("_goal")?(this.setGoalCookie(n[0],n[1]),void this.consentMode.deferredQueue.push({method:"fn",payload:()=>t.apply(e,n)})):t.apply(e,n)};const n=e.createThirdParty;e.createThirdParty=function(...t){const o=window.VWO.consentMode;if(!o.dT){if(!o.hT)return n.apply(e,t);{const[i,r,s,a]=t;if(window.VWO.modules.utils.consentModeUtils.triggerEvent(W.SET_COOKIE,i,r,s,a,!0),"_vwo"!==i&&this._create(i,r,s,a),"_combi_choose"===i.slice(-13))return;o.deferredQueue.push({method:"fn",payload:()=>n.apply(e,t)})}}};const o=e.get;e.get=(...t)=>{if(!this.consentMode.dT||"_vis_opt_test_cookie"!==t[0]){if(this.consentMode.hT){const e=this.getGoalCookie(t[0]);if(e)return e}return o.apply(e,t)}};const i=e.waitForThirdPartySync;e.waitForThirdPartySync=function(t){return window.VWO.consentMode.hT?t():i.apply(e,t)}}initConsentMode(){const e=this.consentMode||{};if(e.goalLogs=[],window.VWO.consentMode.deferredQueue=window.VWO.consentMode.deferredQueue||[],e.timeOut&&(this.consentMode.wFC=!1,this.setTimeOutFlags(e),this.triggerEvent(j.COOKIE_CONSENT_TIMEOUT)),e.hT&&this.setupConsentAcceptedListener(e),"B"!==e.cConfig.cPB||e.timeOut||this.setupConsentTimeoutListener(e),"P"===e.cConfig.cPB&&this.handlePartiallyBlocked(e),e.preview)return this.handlePreviewMode(e);this.handleConsentRejected(),this.setupInsightsConsentActionListener()}setupInsightsConsentActionListener(){window.VWO._.phoenixMT.on(j.COOKIE_CONSENT_REJECTED_INSIGHTS,(()=>{window.fetcher.setValue("VWO.consentMode.dTI",!0),this.triggerEvent(j.COOKIE_CONSENT_REJECTED_INSIGHTS)}))}handlePartiallyBlocked(e){if(e.savedCalls=this.extractSavedCalls(),e.cCA&&e.savedCalls&&window.VWO._.phoenixMT.on("vwo_phoenixInitialized",(()=>{this.syncSaved(e.savedCalls),this.updateConsentCookie("~"),delete e.savedCalls})),!1===e.hT&&e.preview&&!e.dT&&!e.cCA){let e;for(const t in window._vwo_exp){e=window._vwo_exp[t];break}const t=window.VWO._.cookies.get("_vis_opt_exp_"+e.id+"_combi");if(e.multiple_domains&&t){const n="SPLIT_URL"===e.type||null,o={id:e.id,mId:""};this.syncTpc(o,t,n,e,!0)}}}setupConsentAcceptedListener(e){const t=window.VWO._.phoenixMT.on(j.COOKIE_CONSENT_ACCEPTED,(()=>{e.savedCalls&&(this.syncSaved(e.savedCalls),delete e.savedCalls),this.processQueue(),!e.preview&&this.triggerEvent(j.COOKIE_CONSENT_ACCEPTED),this.updateConsentCookie("~"),window.VWO._.phoenixMT.off(t)}))}queueGoalLogs(e,t,n,o){const i=window.VWO.consentMode;if(!i||!i.preview)return!0;if(i.dT)return!1;if(!i.hT)return!0;if(!window.mainThread)return window.fetcher.getValue('VWO.modules.utils.consentModeUtils.queueGoalLogs("${{1}}","${{2}}", "${{3}}", "${{4}}")',null,{captureGroups:[e,t,n,o]}),!1;let{goalLogs:r}=i;return r.push({expId:e,goalId:t,revenue:n,success:o}),!1}triggerGoalLogs(){const e=window.VWO.consentMode.goalLogs;for(;e.length>0;){const t=e.shift(),{expId:n,goalId:o,revenue:i,success:r}=t;window.VWO.modules.tags.wildCardCallback({oldArgs:[n,o,i,r],campaignId:n,goalId:o},j.REGISTER_CONVERSION)}}handlePreviewMode(e){e.hT&&window.VWO.phoenix&&window.VWO.phoenix('on("${{1}}", "${{2}}")',null,{captureGroups:[j.URL_CHANGED,()=>{window.fetcher.setValue("VWO.consentMode.goalLogs",[])}]}),this.setupConsentAcceptedListenerForPreview(e),this.setupConsentRejectedListenerForPreview()}setupConsentTimeoutListener(e){window.VWO._.phoenixMT.on(j.COOKIE_CONSENT_TIMEOUT,(()=>{this.triggerEvent(j.COOKIE_CONSENT_TIMEOUT),this.setTimeOutFlags(e)}))}setTimeOutFlags(e){e.dTI=!0,window.fetcher.setValue("VWO.consentMode.dTI",!0),e.dT=!0,window.fetcher.setValue("VWO.consentMode.dT",!0),e.wFC&&window.fetcher.setValue("VWO.consentMode.wFC",!1)}setupConsentAcceptedListenerForPreview(e){window.VWO._.phoenixMT.on(j.COOKIE_CONSENT_ACCEPTED,(()=>{this.triggerEvent(j.COOKIE_CONSENT_ACCEPTED),this.triggerGoalLogs(),e.wFC&&window.fetcher.setValue("VWO.consentMode.wFC",!1),!e.dT&&window.fetcher.setValue("VWO.consentMode.dT",!1)}))}setupConsentRejectedListenerForPreview(){window.VWO._.phoenixMT.on(j.COOKIE_CONSENT_REJECTED,(()=>{this.triggerEvent(j.COOKIE_CONSENT_REJECTED),window.fetcher.setValue("VWO.consentMode.dT",!0)}))}handleConsentRejected(){window.VWO._.phoenixMT.on(j.COOKIE_CONSENT_REJECTED,(()=>{window.fetcher.setValue("VWO.consentMode.dT",!0)}))}triggerEvent(e){window.VWO.phoenix&&window.VWO.phoenix('trigger("${{1}}")',null,{captureGroups:[e]})}getGoalCookie(e){const t=e;return this.goalCookieStore[Y(t)]}setGoalCookie(e,t){return window.mainThread&&window.fetcher.getValue('VWO.modules.utils.consentModeUtils.setGoalCookie("${{1}}","${{2}}")',null,{captureGroups:[e,t]}),this.goalCookieStore[e]=t}deferOnConsent(e,t,n,o,i,r,...s){if(!this.consentMode)return;const{dT:a,hT:c,deferredQueue:d}=this.consentMode;if(a)return!0;if(c){if(["applySyncRequest","handlerForReqFromWT","processVariationAppliedCallback"].includes(e)){if("processVariationAppliedCallback"===e)return d.push({method:e,payload:()=>n.apply(o,s)});if(!i.includes("_goal"))return!1;if(this.setGoalCookie(i,r),"handlerForReqFromWT"===e)return d.push({method:e,payload:()=>document.cookie=s[0]})}return i&&i.name===j.VARIATION_SHOWN&&this.saveForSync(r.d),n&&n(o||{}),d.push({method:e,payload:()=>u((()=>t[e].apply(t,s)))}),!0}}prepareDataForSync(e,t,n){const o={d:{}};o.d.msgId=e.mId,o.d.visId=e.mId.split("-")[0],o.d.sessionId=e.sId;const i={title:e.p.t,url:e.p.u,referrerUrl:e.p.rU};return this.consentMode.customParams=i,o.d.event={props:{page:i,id:t,variation:e.variation,isFirst:1},name:j.VARIATION_SHOWN,time:Date.now()},null!=n&&(o.d.event.props.isSplitVariation=n),o}addCustomParams(e){const t=this.consentMode;return!t||(!t.customParams||(!e.includes(j.VARIATION_SHOWN)&&!e.includes("l.gif")||"P"!==t.cConfig.cPB||!("P"===t.cConfig.cPB&&!t.hT)))}syncSaved(e){const t={VWO:{firedTime:Date.now()},executingTagTrigger:null,name:j.VARIATION_SHOWN,props:{},time:Date.now()};Object.keys(e).map((n=>{const o=e[n],i=window._vwo_exp[n];let r=null,s=null;if("SPLIT_URL"===i.type&&(r=!0,s="1"!=o.variation),!window.VWO._.cookies.get("_vis_opt_exp_"+n+"_combi"))return;const a=this.prepareDataForSync(o,n,s);window.VWO.modules.tags.dataSync.utils.addDataFromMTAndSend(null,null,a,null,!0,null,t,+n),this.syncImg(o,n,i),this.syncTpc(o,n,r,i)}))}syncTpc(e,t,n,o,i=!1){if(!o.multiple_domains)return;const r=[`_vwo_uuid_${t}`,e.mId.split("-")[0],3650,void 0,t,void 0,o];!i&&window.VWO._.cookies.createThirdParty(...r),r[0]=`_vis_opt_exp_${t}_combi`,r[1]=e.variation,r[3]=100,window.VWO._.cookies.createThirdParty(...r),null!=n&&(r[0]=`_vis_opt_exp_${e.id}_split`,window.VWO._.cookies.createThirdParty(...r))}syncImg(e,t,n){let o=window.VWO.modules.utils.libUtils.extraData2();const i=encodeURIComponent(o);o=n.ps||void 0===n.ps?"&ed="+i:"";const r="l.gif?experiment_id="+t+"&account_id="+window._vwo_acc_id+"&cu="+encodeURIComponent(e.p.u)+"&combination="+e.variation+"&s=1&sId="+e.sId+"&u="+e.mId.split("-")[0]+o;window.VWO.modules.tags.dataSync.utils.sendCall(null,{url:r},null,null,!0)}saveForSync(e){let t=this.getSyncDataFromConsentCookie(),n=t?this.decodeData(t):{};const o={rU:e.event.props.page.referrerUrl,u:e.event.props.page.url,t:e.event.props.page.title},i={sId:e.sessionId,mId:e.msgId,p:o,variation:e.event.props.variation},r=Object.assign(Object.assign({},n),{[e.event.props.id]:i});let s=this.encodeData(r);this.updateConsentCookie(s)}getSyncDataFromConsentCookie(){const e=`${this.ccN}=`,t=document.cookie.split("; ").find((t=>t.startsWith(e)));if(t){const e=decodeURIComponent(t.split("=")[1]).split(":");if(e.length>1)return e.shift(),"~"===e[0]?null:e.join(":")}return null}updateConsentCookie(e){const t=document.cookie.match(new RegExp(`(^|;\\s*)${this.ccN}=([^;]*)`)),n=t?t[2]:null;let o="";if(n){o=decodeURIComponent(n).split(":")[0]}const i=encodeURIComponent(`${o}:${e}`);window.VWO.consentMode.setCookie(i)}}const Z=function(){const e=window.VWO.consentMode;return!!e&&!!e.dT},ee=new Q;window.VWO.modules.utils.consentModeUtils=ee;let te=!1;function ne(e){return e.split(";").reduce(((e,t)=>{const n=t.indexOf("=");if(-1!==n){const o=t.substring(0,n).trim(),i=t.substring(n+1).trim();e[o]=i}else e[t.trim()]="";return e}),{})}class oe{constructor(){this.operations=[]}push(e,t){this.operations.push({name:e,value:t})}pop_front(){this.operations.splice(0,1)}fullfil(e,t=!0){const n=ne(e);t&&this.pop_front(),this.operations.forEach((e=>{n[e.name]=e.value}));return Object.entries(n).map((e=>e.join("="))).join("; ")}}class ie{static internalUtils(){var e;return{isCookiePayloadObject:e=>!(!m(e)||!["value","fromThread","origin"].reduce(((t,n)=>t&&n in e),!0)),isCurrentContextMT:!!(null===(e=null===window||void 0===window?void 0:window.mainThread)||void 0===e?void 0:e.webWorker)}}getSetter(e){return t=>{if("string"==typeof t)t={value:t};else if(!ie.internalUtils().isCookiePayloadObject(t))return void console.error("Invalid value type!");const{value:n,fromThread:o}=t;let{origin:i}=t,r=!0;return(ie.internalUtils().isCurrentContextMT||"MAIN"===o)&&(document.__cookie=n,r="MAIN"!==o),r&&e({type:"sync",data:{propertyName:"cookie",value:{value:ie.internalUtils().isCurrentContextMT?document.__cookie:n,fromThread:ie.internalUtils().isCurrentContextMT?"MAIN":"WORKER",origin:te?"WORKER":i}},syncType:$.Document}),!0}}}function re(e){if(!ie.internalUtils().isCookiePayloadObject(e))return void console.error("Invalid value type!");const{value:t}=e;if(window.VWO.consentMode){if(Z())return;let e=t.split("=");if(ee.deferOnConsent("handlerForReqFromWT",null,null,null,e[0],e[1],t))return}te=!0,document.cookie=t,te=!1}let se={},ae;{class e{constructor(){this.enabled=!1,this.lastSentCookieString=""}isEnabled(){return this.enabled}enable(){this.enabled||(this.enabled=!0,window.fetcher.setValue("window.VWO._.isCookieFallbackEnabled",!0))}syncCookieToWorkerThread(e=(ie.internalUtils().isCurrentContextMT?"MAIN":"WORKER")){!this.enabled||this.lastSentCookieString===document.cookie&&"WORKER"!==e||(this.lastSentCookieString=document.cookie,window.fetcher.postMessage({type:"sync",data:{propertyName:"cookie",value:{value:document.cookie,fromThread:ie.internalUtils().isCurrentContextMT?"MAIN":"WORKER",origin:e}},syncType:$.Document}))}applySyncRequest(e){const{value:t}=e;if(!t)return l({msg:"Syncing error occurred in cookie fallback mode - value not present!",url:"fallback/cookies.ts",source:window.VWO._.native.JSON.stringify(t)});if(window.VWO.consentMode){if(Z())return;let n=t.split("=");if(ee.deferOnConsent("applySyncRequest",this,null,null,n[0],n[1],e))return}document.cookie=t,this.syncCookieToWorkerThread("WORKER")}}se=new e}function ce(e){ae=e}function de(e){window.VWO=null!=e?e:ae}var le=parseInt(+new Date/1e3,10),ue,we=function(){return ue||(ue=window.VWO.data.ts||le)};const _e=Object.keys;function ge(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])}function pe(e,t){var n;if(e&&"function"==typeof t)if(e instanceof Array){for(n=0;n<e.length;n++)if(!1===t(e[n],n))return}else for(n in e)if(e.hasOwnProperty(n)&&!1===t(e[n],n))return}function he(e,t){if(!(e instanceof Array))return-1;for(var n=0;n<e.length;n++)if(t===e[n])return n;return-1}function ve(e,t){for(var n=this.getKeys(t),o=0;o<n.length;o++)e.setAttribute(n[o],t[n[o]])}function fe(e){return/^(https?:\/\/|\/\/)/.test(e)}function me(e,t){for(var n=[],o=0;o<e.length;o++)n.push(t(e[o]));return n}function Oe(e,t){for(var n=[],o=0;o<e.length;o++)t(e[o],o)&&n.push(e[o]);return n}function Ee(e){var t=we();return e?t:1e3*t+ +new Date%1e3}function Se(e){var t=we(),n=parseInt(+new Date/1e3,10)-le;return e?t+n:1e3*(t+n)+ +new Date%1e3}function Te(){return(new Date).getTimezoneOffset()/60}function Ce(e,t){var n=!1;return function(...o){n||(n=!0,setTimeout((()=>{n=!1,e.apply(this,o)}),t))}}function Ie(e,t,n){var o,i,r,s=!1;return-1===t||n?(i=requestAnimationFrame,r=cancelAnimationFrame):(i=setTimeout,r=clearTimeout),function(...n){s&&(r(o),o=null),o=i((function(){e.apply(this,n)}),t),s=!0}}let ye=0;const Ae={};function be(e,t){const n=++ye;Ae[n]={executeCallback:()=>{delete Ae[n],e()},animationFrameId:null,timeOutId:null};const o=function(){return window.setTimeout((()=>{Ae[n]&&(null!==Ae[n].animationFrameId&&cancelAnimationFrame(Ae[n].animationFrameId),Ae[n].executeCallback())}),1e3/60)},i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||o;t||ae&&ae._&&ae._.ac&&ae._.ac.aSP?(Ae[n].animationFrameId=i((()=>{Ae[n]&&(null!==Ae[n].timeOutId&&clearTimeout(Ae[n].timeOutId),Ae[n].executeCallback())})),o!=i&&(Ae[n].timeOutId=o())):e()}function Ve(){var e,t,n;return(null===(n=null===(t=null===(e=window.google_tag_manager)||void 0===e?void 0:e[Object.getOwnPropertyNames(window.google_tag_manager).filter((e=>-1!==e.indexOf("GTM")))[0]])||void 0===t?void 0:t.dataLayer)||void 0===n?void 0:n.name)||"dataLayer"}function Ne(e,t,n=""){try{if(!t||"object"!=typeof t)return;let o,i;if(e.endsWith("]")){const t=e.match(/(.+?)\[(\d+)\]/);t&&(i=e,e=t[1],o=parseInt(t[2]))}if(t.hasOwnProperty(e)){let i=t[e];if(void 0!==o){if(!Array.isArray(i))return;i=i[o]}return n?Ne(n.slice(1),i):i}{const o=(e=i||e).lastIndexOf(".");if(-1===o)return;const r=e.substring(0,o);return Ne(r,t,e.substring(o)+n)}}catch(e){}}function Re(e,t){return e.length>t?e.slice(0,t-1)+"...":e}function Le(e){return e?Math.round(100*e)/100:0}function We(e){return null!==e&&"object"==typeof e&&!Array.isArray(e)}function Pe(){}try{Pe.prototype=Object.create(Array.prototype),Object.defineProperty(Pe.prototype,"clear",{value:void 0,writable:!0,enumerable:!1})}catch(e){}function De(e){return null==e}function xe({baseUrl:e,pathname:t,queryParams:n}){const o=new URL(e);return o.pathname=t,Object.entries(n).forEach((([e,t])=>{o.searchParams.set(e,String(t))})),o.href}function Ue(e,t,n){if(void 0!==n){const o=e.includes("?")?"&":"?";e+=`${o}${t}=${encodeURIComponent(n)}`}return e}function Me(e){return u((()=>e.length>0),void 0,!1)}function ke(e){try{if(!e)return!1;return"https:"===new URL(e).protocol}catch(e){return!1}}var Ge=Object.freeze({__proto__:null,getKeys:_e,extend:ge,forEach:pe,arrayContains:he,setAttrs:ve,isAbsoluteUrl:fe,map:me,filter:Oe,getServerStartTimestamp:Ee,getCurrentTimestamp:Se,getTimeZoneOffset:Te,throttle2:Ce,debounce:Ie,processCallbackInRequestAnimationFrame:be,getdLName:Ve,getVariableValue:Ne,truncateData:Re,roundNumber:Le,isObject:We,ArrayPrototypeCopy:Pe,isUndefinedOrNull:De,buildUrl:xe,appendParamIfDefined:Ue,arrayHasElements:Me,isURLValid:ke});const Fe=({url:e,method:t="POST",cacheBurst:n=!1,body:o,includeCredentials:i=!0},{onSuccessCallback:r=(()=>null),onErrorCallback:s=(()=>null)}={})=>v(void 0,void 0,void 0,(function*(){n&&(e=Ue(Ue(e,"eTime",Se()),"v",window.VWO.v_e));try{const n=yield fetch(e,Object.assign(Object.assign({method:t},We(o)?{body:window.VWO._.native.JSON.stringify(o)}:{}),{credentials:i?"include":"omit"}));if(n.ok)return r(n),n;throw new Error(n.statusText)}catch(e){throw s(e),e}})),$e={request:Fe},je=window.VWO.TRACK_SESSION_COOKIE_EXPIRY_CUSTOM||1/48,Be={TRACK_GLOBAL_COOKIE_NAME:"_vwo_ds",TRACK_SESSION_COOKIE_NAME:"_vwo_sn",TRACK_SESSION_COOKIE_EXPIRY:je,SESSION_TIMER_EXPIRE:60*je*60*1e3*24,COOKIE_VERSION:3,COOKIE_TS_INDEX:1,COOKIE_VERSION_INDEX:0,FIRST_SESSION_ID_INDEX:0,PC_TRAFFIC_INDEX:1,RELATIVE_SESSION_ID_INDEX:0,PAGE_ID_INFORMATION_INDEX:1,SESSION_SYNCED_STATE_INDEX:4,PAGE_ID_EXPIRY:15,GLOBAL_OPT_OUT:"_vwo_global_opt_out",OPT_OUT:"_vis_opt_out",TEST_COOKIE:"_vis_opt_test_cookie",COOKIE_JAR:"_vwo",SAME_SITE:"_vwo_ssm",UUID:"uuid",UUID_V2:"uuid_v2",VWO_COOKIE_QUERY_PARAM:"vwo_q",DEFAULT_EXPIRY:100,UUID_COOKIE_EXPIRY:365.2425};function He(){return Math.min(window.VWO.TRACK_GLOBAL_COOKIE_EXPIRY_CUSTOM||window.VWO.data.rp||90,90)}var Ke,qe=window._vwo_acc_id,Je=[],Xe,Ye=!1,ze=function(){for(var e=0;e<Je.length;e++)Je[e].d||(Je[e].c(),Je[e].d=!0)};function Qe(){return window._vis_debug}const Ze={domain:void 0,_create:function(e,t,n,o,i,r,s){var a,c;Qe()&&0!==e.indexOf("debug")&&(e="debug"+e);const d=n>0;let l=window._vis_opt_cookieDays;window.VWO._.cLFE&&(r=!1),"_vwo_sn"!==e&&"_vwo_ds"!==e&&"_vis_opt_test_cookie"!==e&&!isNaN(l=parseFloat(l))&&isFinite(l)&&d&&(n=l);var u="";if(i?u+="; expires="+new Date(i).toGMTString():n?u+="; expires="+new Date((new Date).getTime()+864e5*n).toGMTString():!1===n&&(u="; expires=Thu, 01 Jan 1970 00:00:01 GMT"),o||(o=Ze.domain),void 0!==o){o=(null===(c=null===(a=window.VWO._.allSettings.dataStore.plugins.DACDNCONFIG)||void 0===a?void 0:a.jsConfig)||void 0===c?void 0:c.dNISD)&&!window._vis_opt_domain?"":"; domain=."+o}const w=Y(e+"="+encodeURIComponent(t)+u+(o||"")+"; path=/");window.VWO._.ss&&!s?(document.cookie=w+"; secure; samesite=none; Partitioned;",6===window._vwo_acc_id&&e.indexOf("_vwo_ds")>-1&&!Ye&&(this.create(e,"",!1,o,1,r,!0),Ye=!0)):document.cookie=w},create:function(e,t,n,o,i,r,s){this._create(e,t,n,o,i,r,s),se.syncCookieToWorkerThread(),x(W.SET_COOKIE,e,t,n,i),G("meta",{ckName:e,ckValue:t,ckDays:n,ckExpiryTs:i})},get:function(e,t,n,o){var i;e=e.trim(),!n&&Qe()&&(e="debug"+e),window.VWO._.cLFE,e=Y(e);var r=document.cookie.match(new RegExp("(?:^|;)\\s*"+e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")+"=(.*?)(?:;|$)","i"));return i=r&&decodeURIComponent(r[1]),x(W.GET_COOKIE,e,i),i},erase:function(e,t,n){this.create(e,"",!1,t,1,n),x(W.ERASE_COOKIE,e)},createThirdParty:function(e,t,n,o,i,r,s){if(!window.mainThread)return window.fetcher.getValue("VWO._.cookies.createThirdParty",[e,t,n,o,i,r,s]);let a=!1;if(i&&(a=s?s.multiple_domains:window._vwo_exp[i].multiple_domains),"_vwo"!==e&&this._create(e,t,n,o),Qe()&&0!==e.indexOf("debug")&&(e="debug"+e),!(i&&a||r||"_vwo"===e))return void x(W.SET_THIRD_PARTY_COOKIE_ERROR,e,t,n,o);const c=window._vwo_server_url||"https://dev.visualwebsiteoptimizer.com";$e.request({url:c+"ping_tpc.php?account="+qe+"&name="+encodeURIComponent(e)+"&value="+encodeURIComponent(t)+"&days="+n+"&random="+Math.random(),method:"GET",cacheBurst:!0},{onSuccessCallback:ze,onErrorCallback:e=>{l({msg:"Error setting third party cookie",url:"cookies.ts"})}}),x(W.SET_COOKIE,e,t,n,i,!0)},waitForThirdPartySync:function(e){return v(this,void 0,void 0,(function*(){window.mainThread?Je.push({c:e}):yield window.fetcher.getValue('VWO._.cookies.waitForThirdPartySync("${{1}}")',null,{captureGroups:[e]})}))},getAll:function(e=!1){const t=document.cookie.split(/; ?/),n={};for(let e=0;e<t.length;e++){const o=t[e].split("="),i=o[0],r=o[1];try{n[i]=r}catch(e){}}return n},getItem:function(e,t=!1){return e.indexOf("_vis_opt_")>-1||e.indexOf("_vwo_")>-1?this.get(e)||this.get(e,!0):this.get(e,!0,!0,!0)},setItem:function(e,t){this.create(e,t)},includes:function(e,t=!1){e=z(e);const n=new RegExp(e),o=Object.keys(Ze.getAll());for(let e=0;e<o.length;e++)if(n.test(o[e]))return 1;return 0}};window.VWO._.cookies=Ze;var et={};function tt(e,t){const n=window.VWO._.allSettings.dataStore.campaigns||{};if(Object.hasOwnProperty.call(n,e)){if(Ze.get("_vis_opt_exp_"+e+"_combi"))return delete et[e],!0;const o=n[e].combs||{};if(Object.hasOwnProperty.call(o,t))for(const e in o)Object.hasOwnProperty.call(o,e)&&(o[e]=e===t?1:0);return delete et[e],!0}return!1}function nt(e){if(!window._vis_debug&&!L())if(Array.isArray(e)&&e.length)for(const t of e){const{e:e,v:n}=t;tt(e,n)||(et[e]=n)}else for(const e in et)Object.hasOwnProperty.call(et,e)&&tt(e,et[e])}const ot={VISITOR_IS_NOT_OPTED_OUT:"visitorIsNotOptedOut",VISITOR_IS_OPTED_OUT_COMPLETELY:"visitorIsOptedOutCompletely",VISITOR_IS_OPTED_OUT:"visitorIsOptedOut"};var it;!function(e){e[e.OPTED_OUT_WITH_EXPERIENCE=0]="OPTED_OUT_WITH_EXPERIENCE",e[e.OPTED_OUT_PARTIALLY=1]="OPTED_OUT_PARTIALLY",e[e.OPTED_OUT_COMPLETELY=2]="OPTED_OUT_COMPLETELY"}(it||(it={}));class rt{setOptOutStateConfig(){let e,t,n,o;switch(e=window.VWO._.isWorkerThread?window.phoenix.storages.storages.cookies.get("_vis_opt_out",!0):window.VWO._.cookies.get("_vis_opt_out",!0),e&&(e=Number(e)),e){case 0:t=ot.VISITOR_IS_OPTED_OUT,n=!0,o=!1;break;case 1:case 2:t=ot.VISITOR_IS_OPTED_OUT_COMPLETELY,n=!1,o=!1;break;default:t=ot.VISITOR_IS_NOT_OPTED_OUT,n=!0,o=!0}window.VWO.phoenix&&window.fetcher.setValue("window.VWO._.optOutStates",{state:t,executeLib:n,shouldWeTrackVisitor:o}),window.VWO._.optOutStates={state:t,executeLib:n,shouldWeTrackVisitor:o}}callStopAnalyzeAndSurvey(){window.VWO._.optOutStates.shouldWeTrackVisitor||(window.VWO._.isWorkerThread?window.fetcher.getValue("window.VWO.modules.otherLibDeps.stopAnalyzeAndSurvey"):window.VWO.modules.otherLibDeps.stopAnalyzeAndSurvey())}getOptOutStateConfig(){return window.VWO._.optOutStates}shouldExecuteLibOnBasisOfCurrentOptOutState(){return!(!L()&&!window._vis_debug)||(this.getOptOutStateConfig().executeLib||window._removeVwoGlobalStyle(),this.getOptOutStateConfig().executeLib)}shouldWeTrackVisitor(){return!(!L()&&!window._vis_debug)||this.getOptOutStateConfig().shouldWeTrackVisitor}isVisitorOptedOut(){return!L()&&!window._vis_debug&&this.getOptOutStateConfig().state!==ot.VISITOR_IS_NOT_OPTED_OUT}}const st=new rt;window.VWO.modules.vwoUtils.optOut=st;var at=function(){};function ct(e){window.vwo_iehack_queue||(window.vwo_iehack_queue=[]),window.vwo_iehack_queue.push(e)}function dt(e,t,n,o=!1){var i,r;if(!o&&!st.shouldWeTrackVisitor())return;if(ee.deferOnConsent("sendCall",this,t,null,null,null,e,null,n,o))return;var s,a=new Image;t=t||at,n=n||at,a.onload=function(){s||(s=1,t())},a.onerror=function(){s||(s=1,n())},e.serverUrl=(null===(r=null===(i=window.VWO.data)||void 0===i?void 0:i.accountJSInfo)||void 0===r?void 0:r.collUrl)||e.serverUrl||window._vwo_server_url;var c=e.serverUrl+e.url;c=Ue(c,"vn",e.vn),c=Ue(c,"vns",e.vns),c=Ue(c,"vno",e.vno),c=Ue(c,"eTime",Se()),c=Ue(c,"v",window.VWO.v_e),e.url.indexOf("&cu=")<0&&e.url.indexOf("&url=")<0&&(c+="&_cu="+encodeURIComponent(document.URL.slice(0,100))),document.referrer&&e.url.indexOf("&ru=")<0&&(c+="&_ru="+encodeURIComponent(document.referrer.slice(0,100))),c+="&random="+Math.random();const d=u((()=>window.VWO._.nativeConstants.get("navigator")))||window.navigator;"function"==typeof d.sendBeacon?d.sendBeacon(c):(a.src=c,ct(a))}window.VWO.modules.vwoUtils.sendCall=dt;var lt={};const ut=function(e,t){this.dependencies={},this.callback=e,this.name=t};ut.prototype.add=function(e){e&&(this.dependencies[e]=0)},ut.prototype.unResolve=function(e){if(e)for(var t in this.dependencies)this.dependencies.hasOwnProperty(t)&&t===e&&(this.remove(e),this.add(e))},ut.prototype.resolve=function(e){if(e){for(var t in this.dependencies)this.dependencies.hasOwnProperty(t)&&t===e&&(this.dependencies[t]=1);this.canResolve(this.dependencies)&&this.callback()}},ut.prototype.remove=function(e){delete this.dependencies[e]},ut.prototype.canResolve=function(){for(var e in this.dependencies)if(this.dependencies.hasOwnProperty(e)&&!this.dependencies[e])return!1;return!0};const wt={init:function(e,t){var n=new ut(e,t);return t&&(lt[t]=n),n},getDependencyManager:function(e){return lt[e]}};let _t=3,gt=50,pt=window._vwo_server_url||"https://dev.visualwebsiteoptimizer.com/",ht={TPC_SUPPORT_DETECTION_FAILED:"TPC_SUPPORT_DETECTION_FAILED",TPC_NOT_SUPPORTED:"TPC_NOT_SUPPORTED",LOCAL_OPT_OUT_PARTIALLY_FAILED:"LOCAL_OPT_OUT_PARTIALLY_FAILED",GLOBAL_OPT_OUT_DETECTON_FAILED:"GLOBAL_OPT_OUT_DETECTON_FAILED",GLOBAL_OPT_OUT_PARTIALLY_FAILED:"GLOBAL_OPT_OUT_PARTIALLY_FAILED"},vt={GLOBAL_OPT_OUT:"_vwo_global_opt_out",OPT_OUT:"_vis_opt_out",UUID:"_vwo_uuid",UUID_V2:"_vwo_uuid_v2",_VIS_OPT_:"_vis_opt_",_VWO_:"_vwo_"},ft=function(){},mt;const Ot=function(e,t){const n=document.createElement("script"),o=100*Math.random(),i="jsonpCallback"+parseInt(o,10),r=document.getElementsByTagName("head")[0];window[i]=function(e){delete window[i],r.removeChild(n),t(e)},n.src=e+"?callback="+i+"&random="+Math.random(),window.VWO.nonce&&(n.nonce=window.VWO.nonce),r.appendChild(n)},Et={init:function(e){e&&(Et.options=e,Et.serverUrl=pt,e.exG?(mt=wt.init((function(){e.success(Tt)}),"optOutDM"),mt.add("thirdPartyCookieSupport"),mt.add("globalOptOutStatus"),Tt.isThirdPartyCookiesSupported({success:function(t){t?mt.resolve("thirdPartyCookieSupport"):e.error({errorType:ht.TPC_NOT_SUPPORTED})},error:function(){e.error({errorType:ht.TPC_SUPPORT_DETECTION_FAILED})}}),Tt.checkGlobalOptOutStatus({success:function(){mt.resolve("globalOptOutStatus")},error:function(){e.error({errorType:ht.GLOBAL_OPT_OUT_DETECTON_FAILED})}})):(St.isOptedOut=St.checkOptOutStatus(),e.success(St)))},process:function(e,t){const n=Ze.get(vt.OPT_OUT,!0),o=window.location.href.indexOf("vwo_disable_alert")>-1;if(n||window.location.href.indexOf("vwo_opt_out=1")>-1)return n||o||alert("You have successfully opted out of VWO for this website."),St.isOptedOut=!0,"0"!==n&&("2"!==n?Et.optOut(e,t):Ct(),!0)},optOut:function(e,t){if(!e)return;st.callStopAnalyzeAndSurvey(),e.domain||(e.domain=window._vwo_cookieDomain),(t=t||{}).success=t.success||ft,t.error=t.error||ft;const n=e.optOutExpiry||3650,o=Ze.get(vt.OPT_OUT,!0);if(e.config&&e.config.maintainExperiences)return Ze.create(vt.OPT_OUT,0,n,e.domain,void 0,!0),void st.setOptOutStateConfig();o&&"0"!==o||(Ze.create(vt.OPT_OUT,1,100,e.domain,void 0,!0),st.setOptOutStateConfig()),e.url="cdc?cookies="+window.VWO._.native.JSON.stringify([{name_regex:"_vwo_uuid_*",isDeleted:1}])+"&accountId="+e.accountId+"&r="+Math.random(),e.serverUrl=pt,e.retryRequest=e.retryRequest||0;const i=document.cookie.split(";");for(let t=0;t<i.length;t++)if((i[t].indexOf(vt._VIS_OPT_)>-1||i[t].indexOf(vt._VWO_)>-1)&&i[t].indexOf(vt.OPT_OUT)<0){const[n,o]=i[t].split("=");n&&Ze.erase(n.trim(),e.domain,!0)}Ct(),It(),dt(e,(function(){It(),Ze.create(vt.OPT_OUT,2,100,e.domain,void 0,!0),window.VWO.phoenix&&window.VWO.phoenix("deactivate"),st.setOptOutStateConfig(),t.success()}),(function(){e.retryRequest++,e.retryRequest<=_t?setTimeout((function(){Et.optOut(e,t)}),gt):t.error({errorType:ht.LOCAL_OPT_OUT_PARTIALLY_FAILED})}),!0)},updateGlobalOptOutState:function(e,t){Et.options=e,Tt.checkGlobalOptOutStatus(t)}},St={checkOptOutStatus:function(){return!!Ze.get(vt.OPT_OUT,!0)},optOut:function(e,t){e?Et.process(Et.options,t):(Ze.erase(vt.OPT_OUT,Et.options.domain,!0),St.isOptedOut=!1)}},Tt={globalOptOut:function(e,t){const n=Et.options,o=e?1:0,i=[{name:vt.GLOBAL_OPT_OUT,value:o,isDeleted:0}];t=t||{},n.url="cdc?cookies="+window.VWO._.native.JSON.stringify(i)+"&accountId="+n.accountId+"&r="+Math.random(),n.serverUrl=pt,dt(n,(function(){Tt.isGloballyOptedOut=e,t.success()}),(function(){t.error(ht.GLOBAL_OPT_OUT_PARTIALLY_FAILED)}),!0)},checkGlobalOptOutStatus:function(e){(e=e||{}).success=e.success||ft,e.error=e.error||ft,Tt.isThirdPartyCookiesSupported({success:function(t){Tt.isGloballyOptedOut=!!t&&!!parseInt(t[vt.GLOBAL_OPT_OUT],10),e.success(Tt.isGloballyOptedOut)},error:e.error})},isThirdPartyCookiesSupported:function(e){(e=e||{}).success=e.success||ft,e.error=e.error||ft;const t=Et.options.accountId;dt({url:"cdc?cookies="+window.VWO._.native.JSON.stringify([{name:"_vis_opt_test_cookie",value:1,isDeleted:0}])+"&accountId="+t+"&r="+Math.random(),serverUrl:pt,vn:window.VWO.v_e},(function(){Ot(pt+"cdc",(function(n){n&&n["_vis_opt_test_cookie_"+t]?(Tt.tpc=!0,e.success(n)):(Tt.tpc=!1,e.success(Tt.tpc))}))}),(function(){e.error({errorType:ht.TPC_SUPPORT_DETECTION_FAILED})}),!0)}};function Ct(){let e=window.VWO._.localStorageService;Ze.erase("_vwo",window._vwo_cookieDomain,!0),e.deleteItem("_vwo");try{e.deleteItem("vwoSn"),e.deleteItem("_vwo_nls_q_"+window._vwo_acc_id)}catch(e){}}function It(){const e=window._vwo_exp_ids||[];for(let t=0;t<e.length;t++){const n=e[t];if(n&&window._vwo_exp[n]){const e=document.getElementById(`_vis_opt_path_hides_${n}`);e&&e.parentNode&&e.parentNode.removeChild(e)}}window._removeVwoGlobalStyle()}function yt(){const e=window.VWO;Ze.erase(Be.OPT_OUT,window._vwo_cookieDomain,!0),window.VWO.phoenix&&!st.shouldExecuteLibOnBasisOfCurrentOptOutState()||(st.setOptOutStateConfig(),e.nls&&delete e.nls.stopRecording,e.survey&&delete e.survey.stopCollectingData)}function At(e={}){window.VWO.modules.otherLibDeps.stopAnalyzeAndSurvey(),Et.optOut({accountId:window._vwo_acc_id,config:e})}var bt;!function(e){e[e.EVENT=40]="EVENT",e[e.ATTRIBUTE=40]="ATTRIBUTE"}(bt||(bt={}));const Vt={EMPTY_EVENT:"Event name cannot be empty!",EVENT_MORE_THAN_LIMIT:"Event name should not be greater than 40 characters!",EVENT_NOT_STRING:"Invalid event name: event name can only be a string!",ATTRIBUTE_MORE_THAN_LIMIT:"Attribute name should not be greater than 40 characters!",ATTRIBUTE_NOT_OBJECT:"Invalid attribute type: attribute can only be an object!"};class Nt{static toCamelCase(e){return e.replace(/[^\w\s-.][\w]/g,(function(e){return e.toUpperCase()})).replace(/[^\w\s-.]/g,"").replace(/ [\w]/g,(function(e){return e.toUpperCase()})).replace(/ /g,"")}static filterPropertyName(e){let t=Nt.toCamelCase(e.slice(e.search(/[\w-.]/g)));return t=t.replace(/^(_|vwo_|\.|v_|i_|-)*/g,""),"props"===t?"":t}static filterEventName(e){if(this.whiteListedEvents[e])return e;let t=Nt.toCamelCase(e.slice(e.search(/[\w-.]/g)));return t=t.replace(/^(_|vwo_|\.|v_|i_|-)*/g,""),"visitors"===t.toLowerCase()&&(t+="_1"),t}static filterAttributeObjectKeys(e){if("object"!=typeof e||Array.isArray(e))return Nt.logWarningAndReportError(Vt.ATTRIBUTE_NOT_OBJECT);const t={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){let o=Nt.whiteListedProps[n]?n:Nt.filterPropertyName(n);if(!o.trim())return Nt.logWarningAndReportError(`Invalid attribute name: '${n}' is not allowed as an attribute name!`);o.length>40&&(o=o.slice(0,40),console.warn(Vt.ATTRIBUTE_MORE_THAN_LIMIT));const i=m(e[n])||O(e[n])?window.VWO._.native.JSON.stringify(e[n]):e[n];["name","time"].includes(o)?(t.conflictingPropsData=t.conflictingPropsData||{},t.conflictingPropsData[o]=i):t[o]=i}return t}static logWarningAndReportError(e){console.log("%cVWO Event API Error:","font-weight:bold;",e),l({msg:"VWO Event API Error: "+e,url:"NamingUtil.ts"})}}var Rt;Nt.whiteListedProps={vwo_hubspot_id:!0},Nt.whiteListedEvents={[j.RECOM_BLOCK_SHOWN]:!0,[j.DEBUG_EVENT]:!0},function(e){e.PRE="PRE",e.POST="POST"}(Rt||(Rt={}));const Lt={[j.VARIATION_SHOWN]:{ignoreMetricDataCheck:!0},[j.PAGE_VIEW]:{},[j.DOM_CLICK]:{},[j.DOM_SUBMIT]:{},[j.CUSTOM_CONVERSION]:{},[j.REVENUE_CONVERSION]:{},[j.SYNC_VISITOR_PROP]:{ignoreMetricDataCheck:!0},[j.PAGE_UNLOAD]:{},[j.DEBUG_EVENT]:{ignoreMetricDataCheck:!0}},Wt=e=>!!Lt[e],Pt=e=>!!u((()=>window.VWO._.allSettings.dataStore.events[e].ls)),Dt=e=>u((()=>!!window.VWO._.allSettings.dataStore.events[e])),xt=e=>u((()=>!!window.VWO._.allSettings.dataStore.events[e].aT)),Ut=()=>{let e=[],t=[],n=!1;const o=n=>{const o=e.length>0,i=t.length>0;return n?n===Rt.PRE?o:n===Rt.POST?i:void 0:o||i},i=(i,r)=>{if(!n||!o(i))return r;const s=!r||!We(r),a=Object.assign({},u((()=>r.d.event.props))||{}),d=u((()=>r.d.event.name));let l=Object.assign({},r);const w=i===Rt.POST?t:e;for(const e of w)if("function"==typeof e)try{const t=e(l)||l;if(-1===t)return-1;l=t}catch(e){c.warn(`Error while running ${i}-Hook callback!`)}return s?r:(i===Rt.PRE&&Wt(d)&&((e,t)=>{const n=e.d.event.name,o=window.VWO._.allSettings.dataStore.events[n];if(!o.wP)return;Object.assign(t,o.wP||{});const i=e.d.event.props;for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&!(e in t)&&delete i[e]})(l,a),l)};return{init:(o,i)=>{Array.isArray(i.preHookList)&&(e=[...e,...i.preHookList]),Array.isArray(i.postHookList)&&(t=[...t,...i.postHookList]),o.event.addPreHook=t=>(e.push(t),e.length-1),o.event.addPostHook=e=>(t.push(e),t.length-1),n=!0},runAllHooks(e,t){const n=i(Rt.PRE,e);if(-1===n)return{processedData:n,wrappedCallback:t};return{processedData:n,wrappedCallback:(...e)=>{i(Rt.POST,n),t(...e)}}},canRunHook:o}},Mt=Ut(),kt="lT",Gt="sT",Ft="ivp",$t="gp",jt="ca",Bt=10,Ht="custom",Kt=function(){},qt="w",Jt=[739074,714884,708439,765649],Xt={VS_DATA:"vwoVsData"},Yt={SPLIT_REDIRECT:"_vwo_split_redirect"},zt="vwoStandardTrigger",Qt={get campaignCookies(){return new RegExp("_vis_opt_exp_(\\d+)_(.+)")},get uuidCookie(){return new RegExp("_vwo_uuid_(\\d+)")}},Zt="mutElg",en="sL",tn=1,nn=":",on="-",rn="|",sn=function(...e){window.fetcher.getValue("VWO._.triggerEvent",e)};var an={PARSE_TLD:"pTLD"},cn=["co","org","com","net","edu","au","ac"];function dn(e){var t,n=e.split("."),o=n.length,i=n[o-2];return i&&cn.includes(i)?(t=n[o-3]+"."+i+"."+n[o-1],sn(an.PARSE_TLD,e,t),t):(t=i+"."+n[o-1],sn(an.PARSE_TLD,e,t),t)}const ln="_vwo_referrer",un=.00139;let wn;const _n={updateReferrer(e){wn=e},init(){{const e=u((()=>{const e=window.VWO._.allSettings.dataStore.crossDomain.eC;return delete window.VWO._.allSettings.dataStore.crossDomain.eC,e}))||{};wn=Ze.get(ln)||e[ln],e[ln]&&Ze.createThirdParty(ln,"",-1,void 0,void 0,!0,void 0),"string"!=typeof wn&&this.updateReferrer(document.referrer),window.fetcher.getValue('window.VWO.modules.vwoUtils.referrer.updateReferrer("${{1}}")',null,{captureGroups:[wn]})}},get:()=>-1!==location.search.search("_vwo_test_ref")?document.referrer:wn,set(){wn&&Ze.createThirdParty(ln,wn,un,void 0,void 0,!0,void 0)}};window.VWO.modules.vwoUtils.referrer=_n;const gn={get navigator(){return navigator},get pageTitle(){return document.title},get doNotTrack(){return window.doNotTrack},get windowName(){return window.name},get currentUrl(){return window._vis_opt_url||window.location.href},get location(){return window.location},get document(){return window.location},get history(){return window.history},get accountId(){return window._vwo_acc_id},get smartCodeVersion(){return window._vwo_code_version},get serverUrl(){return window._vwo_server_url||"https://dev.visualwebsiteoptimizer.com/"},get vwoText(){return window._vwo_text},get vwoCode(){return window._vwo_code},get MutationObserver(){let e=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;return window.Zone&&window.Zone.__symbol__&&(e=window[window.Zone.__symbol__("MutationObserver")]),e},get vwoInternalProperties(){return window.VWO._},get cookie(){return document.cookie},get visDebug(){return window._vis_debug},get cookieDomain(){return window._vis_opt_domain||window._vwo_cookieDomain||dn(window.location.host||new URL(document.URL).host)},get vwoStyle(){return window._vwo_style},get screen(){return window.screen},get vwoCss(){return window._vwo_css},get visOptUrl(){return window._vis_opt_url},get allSettings(){return window.VWO._.allSettings},get apiSectionCallback(){return window._vwo_api_section_callback},get encodeURIComponent(){return window.encodeURIComponent},get page(){return{title:gn.pageTitle,url:gn.currentUrl,referrerUrl:_n.get()}},get timeSpentInASession(){var e,t,n,o,i,r;return+Date.now()-1e3*+(null===(n=null===(t=null===(e=window.VWO.phoenix)||void 0===e?void 0:e.store)||void 0===t?void 0:t.getters)||void 0===n?void 0:n.sessionStart)?(+Date.now()-1e3*+(null===(r=null===(i=null===(o=window.VWO.phoenix)||void 0===o?void 0:o.store)||void 0===i?void 0:i.getters)||void 0===r?void 0:r.sessionStart))/1e3:0},get vwoUUID(){return window._vwo_uuid}};window.VWO.modules.dataStorePlugin=gn;const pn={combi:"cb",goal:"gl",exclude:"ex",uuid:"ud",split:"sp"},hn=()=>{const e={q:Be.VWO_COOKIE_QUERY_PARAM,d:""};try{let t="";const n=window._vwo_exp||{},o=window.VWO._.cookies.getAll(),i={};for(const e in o)if(o[e]){const r=o[e],s=Qt.campaignCookies.exec(e),a=Qt.uuidCookie.exec(e),c=(s||a||[])[1];if(!c||n[c]&&!n[c].multiple_domains)continue;if(a&&a[1])t+=`ud_${a[1]}=${r}`;else if(s&&s[1]){const e=s[2].split("_"),n=e[0],o=e[1],a=pn[n];if(!a)continue;if("goal"===n){const e=`${a}_${c}`;if(+r>1)t+=`${e}_${o}=${r}`;else{i[e]=i[e]||"";const t=i[e].length;t>0&&","!==i[e][t-1]&&(i[e]+=","),i[e]+=o}}else t+=`${a}_${c}=${r}`}"|"!==t[t.length-1]&&(t+="|")}Object.keys(i).forEach((e=>{t+=`${e}_${i[e]}=1|`})),e.d=t&&encodeURIComponent(t.slice(0,t.length-1))}catch(e){}return e},vn={cb:"combi",gl:"goal",ex:"exclude",ud:"uuid",sp:"split"},fn={},mn=(e=window.VWO._.cookies.setItem)=>{try{const t=gn.currentUrl,n=new URL(t).searchParams.get(Be.VWO_COOKIE_QUERY_PARAM);if(n){const t=(t,n)=>{fn[t]||(e(t,n),fn[t]=!0)},o=decodeURIComponent(n).split("|");for(const e of o){const[n,o]=e.split("="),[i,r,s]=n.split("_");if(vn[i]){const e=vn[i];if("uuid"===e)t(`_vwo_uuid_${r}`,o);else{const n=`_vis_opt_exp_${r}_${e}`;"goal"===e&&s?s.split(",").forEach((e=>{t(`${n}_${e}`,o)})):t(n,o)}}}}}catch(e){}},On=()=>{if(!window._vwo_code)return null;const e=window._vwo_code||{},t=window.performance.getEntriesByType("resource").find((e=>e.name.includes("/j.php?a=")));let n=-1,o=-1;if(t){const e=Math.abs(t.fetchStart-t.startTime),i=Math.abs(t.requestStart-t.fetchStart),r=Math.abs(t.responseEnd-t.responseStart),s=+window._VWO_Jphp_StartTime;o=e+i+r,n=isNaN(s)?-1:s-t.responseEnd}return{settings_tolerance:u((()=>e.settings_tolerance())),library_tolerance:u((()=>e.library_tolerance())),settingsTimedOut:!!e.sT,libraryTimedOut:!!e.lT,timeToStartExecuteJphp:n,totalDownloadTime:o}},En=/:nth-parent\((\d+)\)$/,Sn=/[A-Za-z1-9]*?:tm\(["']([\s\S]*?)["']\)(?:\:nth-parent\(\d\))?/,Tn=e=>e.indexOf(":tm(")>-1,Cn=e=>!!Tn(e),In=e=>{const t=e.match(En)||[];if(t.length<2)return;const n=+t[1];return isNaN(n)?void 0:n};function yn(){const e={};return function(t){if(e[t])return e[t];if(Tn(t)){const{targetElement:n,targetText:o,ancestorLevelCount:i,childSel:r}=(e=>{const t=e.match(Sn)||[e],n=t[0],[o]=e.split(":tm("),i=t[1],r=In(n),s=void 0!==t.index?e.slice(t.index+n.length,e.length).trim():"",a=o.trim().split(" ");return{targetElement:1==a.length?a[0].toUpperCase():a.map((e=>(-1===e.search(/(\.|#)/)&&(e=e.toUpperCase()),e))).join(" "),targetText:i,ancestorLevelCount:r,childSel:s}})(t);return e[t]={targetElement:n,targetText:o,ancestorLevelCount:i,childSel:r}}return{targetElement:"",targetText:""}}}const An=yn(),bn={};function Vn(e){if(Array.isArray(bn[e]))return bn[e];const t=e.split("<vwo_sep>");return 1===t.length?bn[e]=[{sel:e,isTxtSel:!0}]:bn[e]=t.map((e=>({sel:e.trim(),isTxtSel:Cn(e)})))}const Nn=e=>"number"==typeof e,Rn=(e,t)=>!(!e||e.sel!==t),Ln=(e,t)=>Nn(e)&&e===t,Wn=({targetElement:e,targetText:t,ancestorLevelCount:n,childSel:o},i)=>{const r=[e,t].join(".");if(!i||!Array.isArray(i[r]))return null;for(let e=0;e<i[r].length;e++){const t=i[r][e];if(!t)return null;const s=!n&&!t.d||Ln(n,t.d),a=!o&&!t.cd||Rn(t.cd,o);if(s&&a)return t}return null},Pn=()=>Object.assign({},u((()=>window.VWO._.txtCfg))||{}),Dn=Pn(),xn=()=>{Dn.o&&u((()=>{Dn.o.d()}))};window.VWO.modules.utils.textBasedSelectorUtils={disconnectMutationObserver:xn};const Un=e=>{const t=Vn(e),n=window.VWO._.txtCfg||{},o=n.mp=n.mp||{};let i="";const r=e=>{i+=e+","};for(const e of t)if(e.isTxtSel)if(o[e.sel])r(o[e.sel]);else{const t=An(e.sel),i=Wn(t,n.txtSelMap);if(i&&i.s){const t="."+i.s;r(t),o[e.sel]=t}}else r(e.sel);return i},Mn=()=>{window.VWO._.txtCfg&&window.VWO._.txtCfg.mp&&window.fetcher.setValue("window.VWO._.txtCfg.mp",window.VWO._.txtCfg.mp)};class kn{toAbsURL(e){return e?new URL(e,document.baseURI).href:e}isHashPresent(e){return-1!==e.indexOf("#")}isQueryParamPresent(e,t){var n=e.indexOf("#"),o=e.indexOf("?"),i=t?-1:e.indexOf("=");return-1===n?-1!==o||-1!==i:-1!==o&&n>o||-1!==i&&n>i}otherSide(...e){return e[0]="VWO.modules.vwoUtils.urlUtils."+e[0],window.fetcher.getValue(...e)}}const Gn={};function Fn(e,t,n,o){return e+"||"+t+"||"+(n?"1":"0")+"||"+(o?"1":"0")}var $n=function(e){return e.replace(/^(https?:\/\/)(?:w{3}\.)?(.*?)(?:\/(?:home|default|index)\..{3,4}|\/$)?(?:\/)?([\?#].*)?$/i,"$1$2$3")},jn=function(e){return e.replace(/^(https?:\/\/)(?:w{3}\.)?(.*?)(?:(?:home|default|index)\..{3,4})?([\?#].*)?$/i,"$1$2$3")},Bn=function(e){return jn(e).replace(/\/\?/gi,"?")},Hn=window._vis_opt_url,Kn;class qn{constructor(){Kn=this}regexEscape(e){return e.replace(/[\-\[\]{}()*+?.,\/\\^$|#\s]/g,"\\$&")}cleanURL(e,t){return Hn&&!t?Hn:e.replace(/^(.*[^\*])(\/(home|default|index)\..{3,4})((\?|#).*)*$/i,"$1$4")}removeWWW(e,t){return e=e.replace(/^(https?:\/\/)(www\.)?(.*)$/i,"$1$3"),t&&(e=e.replace(/(^\*?|\/\/)www\./i,"$1")),e}stripSlashes(e,t,n){if(e=e.replace(/\/$/,""),t){var o=e.indexOf("/?");e.indexOf("?")-1===o&&(e=e.replace(/\/\?([^\?]*)(.*)/,"?$1$2"))}if(n){var i=e.indexOf("/#");e.indexOf("#")-1===i&&(e=e.replace(/\/#([^#]*)(.*)/,"#$1$2"))}return e}cleanPattern(e){let t="";return{regex:e.replace(/\(\?([a-zA-Z])\)/g,((...e)=>(e[1]&&(t+=e[1]),""))),flags:t}}matchRegex(e,t,n,o,i=!1){let r=e=>null;if(i){const i=Fn(e,t,n,o);if(Object.prototype.hasOwnProperty.call(Gn,i))return Gn[i];r=e=>{Gn[i]=e}}const s=(()=>{if("string"!=typeof e||"string"!=typeof t)return!1;let i="ig";if(o){const{regex:n,flags:o}=Kn.cleanPattern(t);i=o||"g";try{return new RegExp(n,i).exec(e)||Kn.matchRelativeUrl(e,n,i)}catch(e){const o="Failed to create regex for the pattern: "+t+", the cleaned regex derived from the pattern is: "+n+" and regexFlag is: "+i;return c.error(o),!1}}var r=function(n){return new RegExp(t,i).exec(e)||new RegExp(t,i).exec(n(e))||Kn.matchRelativeUrl(e,t,i,n)};let s=$n,a=!1;390187==window._vwo_acc_id&&(a=!0),a&&(s=Bn);var d=r(s);return d&&!a?(s=jn,n&&r(s)||d):d})();return r(s),s}matchRelativeUrl(e,t,n,o){if(0===e.indexOf("http"))return!1;const i=(new kn).toAbsURL(e);var r=new RegExp(t,n).exec(i);return o&&!r&&(r=new RegExp(t,n).exec(o(i))),!!r}matchWildcard(e,t,n){if("string"!=typeof e||"string"!=typeof t)return!1;const o=new kn;var i=o.isQueryParamPresent(t),r=o.isHashPresent(t),s=o.isQueryParamPresent(e),a=o.isHashPresent(e);i||(s&&a?e=e.replace(/^(.*?)(\?[^#]*)(#?.*)$/,"$1$3"):s&&!a&&(e=e.replace(/^(.*)(\?.*)$/,"$1"))),r||a&&(e=e.replace(/^(.*?)(#.*)$/,"$1")),"/"!==e&&(e=Kn.stripSlashes(e,s,a)),"/"!==t&&(t=Kn.stripSlashes(t,i,r));var c,d,l=new RegExp("^"+Kn.regexEscape(t).replace(/\\\*/g,"(.*)")+"$","gi");return l.test(e)?(l=new RegExp("^"+Kn.regexEscape(t).replace(/\\\*/g,"(.*)")+"$","gi"),!n||l.exec(e)):(e=Kn.removeWWW(e),t=Kn.removeWWW(t,!0),(l=new RegExp("^"+Kn.regexEscape(t).replace(/\\\*/g,"(.*)")+"$","gi")).test(e)?(l=new RegExp("^"+Kn.regexEscape(t).replace(/\\\*/g,"(.*)")+"$","gi"),!n||l.exec(e)):(c=Kn.cleanURL(t,!0),-1===t.indexOf("*")&&((d=Kn.removeWWW(o.toAbsURL(e)).replace(/\/$/,"").replace(/\/\?/,"?"))===t||d===c)||(e=Kn.cleanURL(e),t=c,!!(l=new RegExp("^"+Kn.regexEscape(t).replace(/\\\*/g,"(.*)")+"$","gi")).test(e)&&(l=new RegExp("^"+Kn.regexEscape(t).replace(/\\\*/g,"(.*)")+"$","gi"),!n||l.exec(e)))))}matchPlainURLs(e,t){try{const n=new URL(e),o=new URL(t);return n.href===o.href}catch(e){return!1}}}const Jn=new qn;window.VWO.modules.vwoUtils.url=Jn,window.VWO._.matchRegex=Jn.matchRegex;class Xn{verifyUrl(e,t,n,o){let i=!1;const r=o?e:this.getCleanedUrl(e);if(t)if(o)i=!!Jn.matchRegex(r,t,null,o);else{const n=this.getCleanedUrl(e,!0);i=!(!Jn.matchRegex(r,t,null,o)&&!Jn.matchRegex(n,t,!0,o))}else i=Jn.matchWildcard(r,n)||Jn.matchWildcard(e,n);return i}getCleanedUrl(e,t){if(!e)return;let n;return-1!==e.search(/_vis_(test_id|hash|opt_(preview_combination|random))=[a-z\.\d,]+&?/)?(n=e.replace(/_vis_(test_id|hash|opt_(preview_combination|random))=[a-z\.\d,]+&?/g,""),n=t?n.replace(/(\??&?)$/,""):n.replace(/(\/?\??&?)$/,"")):n=t?e:e.replace(/\/$/,""),n}compareUrlWithIncludeExcludeRegex(e,t,n,o){const i={};return n&&Jn.matchRegex(e,n)?(i.didMatch=!1,i.reason=1,i):(i.didMatch=this.verifyUrl(e,t,o),i.reason=i.didMatch?2:3,i)}}const Yn=new Xn,zn=We(window._vwoCc)?window._vwoCc:{},Qn=e=>(zn.SPA_SPLIT=zn.SPA_SPLIT||{},!(!zn.SPA_SPLIT[e]&&!zn.SPA_SPLIT["*"])),Zn=(()=>{const e=zn.debugConfig||{};return{CLICK_DEBUG:e.CLICK_DEBUG,TIMEOUT_DEBUG:e.TIMEOUT_DEBUG,GA_DEBUG:e.GA_DEBUG,URL_DEBUG:e.URL_DEBUG,VARIATION_SHOWN_DEBUG:e.VARIATION_SHOWN_DEBUG,IN_LIST_DEBUG:e.IN_LIST_DEBUG}})(),eo=!!zn.debugLogs,to=zn.disableAsp,no=!zn.vwoUuidV2Secure,oo=u((()=>window.VWO._.useCdn))||!1,io=zn.enableRefreshLimit,ro=zn.expUrlChange,so=window._vwo_acc_id>1044e3||zn.enableLoader,ao=!!zn.eblCSync,co=!!zn.hdPR,lo=!!zn.oscH,uo=!!zn.cPM,wo=!!zn.svIdInSyncListDbgLog;function _o(){return window.VWO.eB&&!zn.dB}const go=!!zn.wMS,po=()=>u((()=>window._vwoCc.vPH))||!1,ho=!!zn.mEPR,vo=!!zn.cA_csa,fo=!!zn.dAM,mo=!!zn.observeHTML,Oo=!!zn.mSSR,Eo=!!zn.mtUrlChange,So=!!zn.allowWinnerSelection,To="ev",Co="dslv",Io="fn",yo=(e,t)=>5===u((()=>e.sections[1].urlModes[t])),Ao=(e,t)=>!(!yo(e,t)&&4!==u((()=>e.sections[1].urlModes[t]))),bo=({campaignObj:e,cookieValue:t,getters:n})=>{if(!t)return null;const[o,i=""]=u((()=>t.trim().split(nn)),{},[]),r=decodeURIComponent(i);return Ao(e,o)&&Jn.matchPlainURLs(n.currentUrl,r)?o:null},Vo=()=>window.VWO,No=()=>Vo()._,Ro=()=>No().allSettings,Lo=()=>Ro().dataStore,Wo=()=>u((()=>Lo().campaigns),{sendErrorLog:!0},{}),Po=()=>u((()=>Ro().triggers),{sendErrorLog:!0},{}),Do=()=>u((()=>Lo().plugins.DACDNCONFIG),{sendErrorLog:!1},{}),xo=e=>`_vis_opt_exp_${e}_split`;class Uo{constructor(){this.uuid="",this.preview=L,this.hideElExpression="{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;}",this.urlCache={}}otherSide(...e){return e[0]="VWO.modules.utils.libUtils."+e[0],e[2]&&(e[2]={captureGroups:e[2]}),window.fetcher.getValue(...e)}isDomDependent(e){return"VISUAL_AB"===e||"VISUAL"===e}isTestingCampaign(e){return this.isDomDependent(e)||"SPLIT_URL"===e}generateUUID(){return"Jxxxxxxxxxxx4xxxyxxxxxx5xxxxxxxx9".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16).toUpperCase()}))}isBot2(){return window.VWO._.isBot||window.navigator.userAgent.toLowerCase().indexOf("bot")>=0||window.navigator.userAgent.toLowerCase().indexOf("spider")>=0||window.navigator.userAgent.toLowerCase().indexOf("preview")>=0}isPageBasedGoal(e){return"SEPARATE_PAGE"===e||"CUSTOM_GOAL"===e||"REVENUE_TRACKING"===e}isSplitVariation(e){return"SPLIT_URL"===e.type&&e[Ft]}getUUIDString(e){return e?"&u="+e:""}updateGoalsKind(e,t){const n={};return Object.keys(e).forEach((o=>{const i=e[o],r=i.mt;r&&Object.keys(i.goals).length&&Object.entries(r).forEach((([e,i])=>{const r=this.getGoalKind(i),s=i=>{!i||t&&!t[i]||(n[o]=n[o]||{},n[o][e]=i)};Array.isArray(r)?r.forEach(s):s(r)}))})),t||(window.VWO._.goalsToBeConvertedSynchronously=n),n}getGoalKind(e){let t;const n=window.VWO._.allSettings.triggers[e],o=3===u((()=>n[Co]));o||u((()=>Object.keys(n.cnds).length))||l({msg:"Trigger definition is empty",event:{triggerName:e}});const i=e=>{switch(e){case j.DOM_CLICK:return"CLICK_ELEMENT";case j.DOM_SUBMIT:return"FORM_SUBMIT";case j.PAGE_UNLOAD:return"PAGE_UNLOAD";default:return""}};if(o)return Object.keys(n[To]).map(i);if("object"==typeof n.cnds[0]){t=i(n.cnds[0].event)}else{switch(n.cnds[1].event){case j.DOM_SUBMIT:case j.DOM_CLICK:t="ENGAGEMENT"}}return t}isXpathAllHead(e,t,n=!1){if(e.muts=e.muts||{},"boolean"==typeof e.muts.pvtMut&&!n)return e.muts.pvtMut;const o=t.split(",");let i=!0;for(let e=0;e<o.length;e++)if(o[e].trim()&&"head"!==o[e].toLowerCase()){i=!1;break}return n||(e.muts.pvtMut=i),i}isPersonalizeCampaign(e){var t;return"TARGETING"===(null===(t=e.iType)||void 0===t?void 0:t.type)}isPersonalizeHoldback(e){return this.isPersonalizeCampaign(e)&&2===e.iType.v}doNotHideElements(e){return e&&"boolean"==typeof e}getMatchedCookies(e){let t=[];return document.cookie&&(t=document.cookie.match(e)||[]),t}getCombinationCookie(){let e=this.getMatchedCookies(/(?:^|;)\s?(_vis_opt_exp_\d+_combi=[^;$]*)/gi);e=e.map((function(e){try{const t=decodeURIComponent(e);return/_vis_opt_exp_\d+_combi=(?:\d+,?)+\s*$/.test(t)?t:""}catch(e){return""}}));const t=[];return e.forEach((function(e){const n=e.match(/([\d,]+)/g);n&&t.push(n.join("-"))})),t.join("|")}getSelectorPath(e,t){let n="",o="",i=t.sections[1].variations[e];if("string"==typeof i&&(i=vwo_$.parseJSON(i)),i)for(let e=0;e<i.length;e++){let r=i[e].xpath;r&&(i[e].dHE?t.dHE=!0:(t.mSP&&(r=r.replace(/html\.vwo_p_s_\w+\s*/g,"")),Cn(r)?n+=Un(r):n+=r+",")),i[e].cpath&&!i[e].dHE&&(o+=i[e].cpath+",")}return{variationXPathSelector:n,variationCPathSelector:o}}getCampaignXPath(e){const t={selector:"",selectorPerVariation:{},cPathSelector:"",cPathSelectorPerVariation:{}};if(e.xPath)return t.selector=e.xPath,t.cPathSelector=e.cPath,t;if(!this.isDomDependent(e.type))return t;let n=e.combination_chosen||e.cc;const o=e.sections;if("VISUAL_AB"===e.type)if(n){if(1!=n){const{variationXPathSelector:o,variationCPathSelector:i}=this.getSelectorPath(n,e);t.selector=o,t.cPathSelector=i}}else{const o=this.isPersonalizeHoldback(e)?e.sections[1].variation_names:e.combs;for(n in o)if(o.hasOwnProperty(n)){const{variationXPathSelector:o,variationCPathSelector:i}=this.getSelectorPath(n,e);t.selector+=o,t.cPathSelector+=i,t.cPathSelectorPerVariation[n]=i,t.selectorPerVariation[n]=o.substring(0,o.length-1)}}else{const e=_e(o);let n=e.length;for(;n--;)o[e[n]].path&&(t.selector+=o[e[n]].path+",")}return!e.dHE||t.selector&&!this.isXpathAllHead(e,t.selector,!0)||(t.selector=(t.selector||"")+".vwo_dummy_selector,"),t.cPathSelector&&(t.cPathSelector=t.cPathSelector.substring(0,t.cPathSelector.length-1)),t.selector&&(t.selector=t.selector.substring(0,t.selector.length-1)),Mn(),t}isCurrentURLSplitVariation({chosenVariation:e,getters:t,campaignData:n}){if(Ao(n,e))return!!bo({campaignObj:n,cookieValue:Ze.get(xo(n.id)),getters:t});let o="";const i=Yn.getCleanedUrl(t.currentUrl),r=this.urlCache[n.id]=this.urlCache[n.id]||{},s=r[i]||r[t.currentUrl];if(void 0!==s)return s;let a=!1,c=t.currentUrl;const d=n.sections;return d[1].variationsRegex?(o=d[1].variationsRegex[e],a=Yn.verifyUrl(t.currentUrl,o,null)):(o=d[1].variations[e],a=Jn.matchWildcard(i,o),c=i),r[c]=!!a}checkForWrongConsent(e,t){return t&&"http:"===e.location.protocol}setCampaignAppliedFlag(e,t){vo&&e.ss&&e.ss.csa?e.cA=!1:e.cA=t}}const Mo=window.JSON&&window.window.VWO._.native.JSON.parse||function(e){return new Function("return "+e)()},ko=window.JSON&&window.window.VWO._.native.JSON.stringify||function(e){return new Function("return "+e)()};var Go=Object.freeze({__proto__:null,jsonParse:Mo,jsonStringify:ko});let Fo;const $o={get:e=>{try{0;return window.localStorage.getItem(e)}catch(e){return""}},set:(e,t)=>{try{return Fo._setItem(e,t)}catch(e){return""}},remove:e=>{try{return Fo._removeItem(e)}catch(e){return!1}},getItem:function(e){return this.get(e)},setItem:function(e,t){this.set(e,t)},deleteAll:function(){},deleteItem:function(e){this.remove(e)}};function jo(e){Fo=e}window.VWO._.localStorageService=$o;class Bo{modifyTriggerConditions(e,t){const n=[];return Array.isArray(e)?(e.forEach((e=>{if(Array.isArray(e))n.push(this.modifyTriggerConditions(e,t));else{const o=t(e);n.push(o)}})),n):e}getExitTrigger(e){for(let t=0;t<e.length;t++){if(Array.isArray(e[t])){const n=this.getExitTrigger(e[t]);if(n)return n}if("object"==typeof e[t]&&null!==e[t]&&e[t].exitTrigger)return e[t].exitTrigger}}}var Ho=new Bo;function Ko({avoidFullHTML:e}={avoidFullHTML:!1}){return mo&&!e?document.documentElement:document.body||document.documentElement}const qo={state:{}},Jo=e=>e&&"object"==typeof e&&!Array.isArray(e),[Xo,Yo]=function(){let e={};return window.VWO._.phoenixMT.on("vwo_urlChangeMt",(()=>{e={}})),[(t,n)=>{e[t]=e[t]||{},e[t][n]=!0},(t,n)=>Jo(e[t])&&!!e[t][n]]}();function zo({triggerId:e,eventName:t,triggerObj:n}){const o=(n||window.VWO._.allSettings.triggers[e]||{}).cnds||[];for(let e=0;e<o.length;e++)if(t.indexOf(o[e].event)>-1)return!0;return!1}function Qo(){let e,t=!1,n={};const o=window.VWO._.phoenixMT,i={attach:()=>{if(!t){e=new MutationObserver((()=>{Object.keys(n).forEach((e=>{o.trigger(e)}))}));try{const n=Ko();e.observe(n,{childList:!0,subtree:!0}),t=!0}catch(e){}}},remove:()=>{e&&(e.disconnect(),e=null,t=!1)},fireEventOnMutation:e=>{n[e]=1}};return o.on("vwo_urlChangeMt",(()=>{i.remove(),o.getAllEvents().forEach((e=>{e.indexOf("vwo_mutObs")>-1&&o.clearEvent(e)})),n={}})),i}const Zo=Qo();function ei(e){Jo(e)&&Object.assign(qo.state,e)}function ti(e){window.fetcher.getValue('window.VWO.modules.utils.tagExecutor.fireTagEvaluatedEvent("${{1}}")',null,{captureGroups:[e]})}function ni(e,t){const{amt:n,campId:o}=e,i=e.t,r=()=>{try{t(),qo.state[i]=!0}catch(e){l({msg:`Error occurred while executing "${i}" trigger`,url:"triggerBasedTagExecutorMT.ts",source:e})}};n&&(Zo.attach(),Zo.fireEventOnMutation(`vwo_mutObs.${i}`));const s=zo({triggerId:i,eventName:j.CAMPAIGN_UNLOADED});if((!i||qo.state[i])&&!s)return r();Yo(e.tag,i)||(Xo(e.tag,i),window.fetcher.getValue('window.VWO.modules.utils.tagExecutor.attachTriggerListenersForTagExecution("${{1}}", "${{2}}", "${{3}}")',null,{captureGroups:[i,r,{isWaitForElementEvent:n,campId:o,preventCallBackRemovalOnSpa:s,isCampUnloadEvent:s}]}))}function oi(e){if("object"!=typeof e)return'"'+e+'"';let t="";try{const n=_e(e);let o=n.length;for(;o--;){const i=n[o];t+='"'+i+'":'+oi(e[i])+","}t="{"+t.slice(0,-1)+"}"}catch(t){l({msg:"Error in json stringify - "+e,url:"utils.js",source:encodeURIComponent("json-stringify")})}return t}function ii(e,t){let n=!1;return function(){n||(e.call(this,arguments),n=!0,setTimeout((function(){n=!1}),t))}}function ri(e,t){let n,o=!1;return function(...i){o&&(clearTimeout(n),n=null),n=setTimeout((function(){e.apply(null,i)}),t),o=!0}}function si(e,t,n){let o=document.URL;e&&window.history?function(e,t){const n=function(n){const i=e[n];e[n]=function(n){const r=i.apply(e,[].slice.call(arguments));return window.fetcher.postMessage({type:"sync",property:"URL",value:document.URL,syncType:2}),t({state:n,currentUrl:document.URL,previousUrl:o}),o=document.URL,r}};n("pushState"),n("replaceState")}(window.history,t):window.addEventListener("hashchange",t,!1)}function ai(e){e.fn.nonEmptyContents=function(){if(!this||!this.length)return this.contents();const e=this.contents();let t;for(let n=e.length;n--;)t=e.get(n),3!==t.nodeType||/\S/.test(t.nodeValue)||e.splice(n,1);return e};const t=function(e,t,n){(navigator.userAgent.indexOf("MSIE ")>-1||navigator.userAgent.indexOf("Trident/")>-1)&&e.style.setProperty(t,n.replace("!important","").trim()),e.style.setProperty(t,n.replace("!important",""),"important")};e.fn.vwoCss=function(){let n;try{this.each((function(){this.hasOwnProperty("__vwoControlStyleAttr")||(this.__vwoControlStyleAttr=this.getAttribute("style")||"")}))}catch(e){const t="[JSLIB] Error during storing control style attribute value";l({msg:t,url:"utils.js",source:encodeURIComponent(t)})}if(1===arguments.length){if("string"==typeof arguments[0])return this.css(arguments[0]);for(const e in arguments[0])arguments[0].hasOwnProperty(e)&&(n=arguments[0][e].toString(),n.indexOf("important")>-1?this.each((function(){t(this,e,n)})):this.css(arguments[0]))}else if(2===arguments.length){const e=arguments[0].toString();n=arguments[1]?arguments[1].toString():null,n&&n.indexOf("important")>-1?this.each((function(){t(this,e,n)})):this.css(e,n)}else e.fn.css.apply(this,arguments);return this},e.fn.vwoAttr=function(){if(this&&this.length){if(2!==arguments.length){if(1===arguments.length){if("string"==typeof arguments[0])return this.attr(arguments[0]);{var t=arguments[0];try{this.each((function(){if(!this.hasOwnProperty("__vwoControlVwoAttr")){this.__vwoControlVwoAttr={};Object.keys(t).forEach((e=>{switch(e){case"class":this.hasAttribute(e)?(this.__vwoControlVwoAttr.attrsToAddOrModify=this.__vwoControlVwoAttr.attrsToAddOrModify||[],this.__vwoControlVwoAttr.attrsToAddOrModify.push({name:e,value:this.getAttribute(e)})):(this.__vwoControlVwoAttr.attrsToRemove=this.__vwoControlVwoAttr.attrsToRemove||[],this.__vwoControlVwoAttr.attrsToRemove.push(e));break;case"removedAttributes":t.removedAttributes.forEach((e=>{this.hasAttribute(e)&&(this.__vwoControlVwoAttr.attrsToAddOrModify=this.__vwoControlVwoAttr.attrsToAddOrModify||[],this.__vwoControlVwoAttr.attrsToAddOrModify.push({name:e,value:this.getAttribute(e)}))}));break;default:this.hasAttribute(e)?(this.__vwoControlVwoAttr.attrsToAddOrModify=this.__vwoControlVwoAttr.attrsToAddOrModify||[],this.__vwoControlVwoAttr.attrsToAddOrModify.push({name:e,value:this.getAttribute(e)})):(this.__vwoControlVwoAttr.attrsToRemove=this.__vwoControlVwoAttr.attrsToRemove||[],this.__vwoControlVwoAttr.attrsToRemove.push(e))}}))}}))}catch(e){const t="[JSLIB] Error during storing control attributes values";l({msg:t,url:"utils.js",source:encodeURIComponent(t)})}const n=e.extend({},t);if(Array.isArray(n.removedAttributes))for(let e=n.removedAttributes.length-1;e>=0;e--)n[n.removedAttributes[e]]&&delete n[n.removedAttributes[e]];else delete n.removedAttributes;const o=["type","height","width"],i=this.get(0);for(let e in o)if(o.hasOwnProperty(e)){const t=o[e];n[t]&&(i.setAttribute(t,n[t]),delete n[t])}if(n.class){const e=n.class.addedClasses,t=n.class.removedClasses;e&&e.length>0&&this.addClass(e.join(" ")),t&&t.length>0&&this.removeClass(t.join(" ")),delete n.class}if(n.removedAttributes&&n.removedAttributes.length>0){for(let e=0;e<n.removedAttributes.length;e++)this.each((function(){this.removeAttribute(n.removedAttributes[e])}));delete n.removedAttributes}so&&n.src&&!n.loader&&(n.loader=!0,n.loaderConfig={pc:"transparent",sc:"transparent",id:Date.now(),as:"5s"});const r="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";if(n.src&&n.loader){const t=`vwo-loader-el-${n.loaderConfig.id}`;if((this.attr("src")!==n.src||this.attr("srcset")!==n.srcSet)&&!this.hasClass(t)){this.attr("src",r);const o=n.src,i=n.srcSet;i&&this.removeAttr("srcset"),e("head").append(`<style type="text/css" id="${t}">.${t}{width:${n.width}px;height:${n.height}px;animation-timing-function: linear;animation-duration: ${n.loaderConfig.as};animation-iteration-count: infinite;animation-name: placeHolderShimmer;background: #ccc;background: linear-gradient(to right, ${n.loaderConfig.pc} 8%, ${n.loaderConfig.sc} 38%, ${n.loaderConfig.pc} 54%);display: inline-block;}@keyframes placeHolderShimmer{0%{background-position: -468px 0}100%{background-position: 468px 0}}</style>`);const s=new Image;s.onload=s.onerror=()=>{window._vwo_handleMutations&&window._vwo_handleMutations(this.get(0),(()=>{this.attr("src",o),i&&this.attr("srcset",i),e(`#${t}`).remove(),this.removeClass(t)}))},s.src=o,i&&(s.srcset=i),this.addClass(t)}["src","srcSet","loader","loaderConfig"].forEach((e=>{delete n[e]}))}else if(u((()=>ae._.ac.hIF))&&(n.src||n.srcset)&&["IMG","SOURCE"].includes(this.get(0).tagName)){let e=n.src,t=n.srcset;e&&(n.src=r),t&&(n.srcset=r),setTimeout((()=>{window._vwo_handleMutations&&window._vwo_handleMutations(this.get(0),(()=>{e&&this.attr("src",e),t&&this.attr("srcset",t)}))}),0)}return window.VWOspvEventListenerAdded||document.addEventListener("securitypolicyviolation",(e=>{e.blockedURI.includes(".vwo.io")&&(window.VwoIoImageLoadFailed=!0)})),window.VWOspvEventListenerAdded=!0,"IMG"===i.tagName&&t.src&&t.src.includes(".vwo.io")&&(i.onerror=()=>{window.VwoIoImageLoadFailed&&window._vwo_handleMutations&&window._vwo_handleMutations(i,(()=>{this.attr("src",t.src.replace("vwo.io","visualwebsiteoptimizer.com")),t.srcset&&this.attr("srcset",t.srcset.replace("vwo.io","visualwebsiteoptimizer.com")),delete window.VwoIoImageLoadFailed}))}),this.attr(n)}}return e.fn.attr.apply(this,arguments)}this.get(0).setAttribute(arguments[0],arguments[1])}return this};const n=window._vwo_editorOperationTracker={},o={};window.VWO._.phoenixMT.once("vwo_domClicked",(e=>{const t=Object.keys(o);for(let n=0;n<t.length;n++)o[t[n]](e)})),e.fn.vwoElement=function(t){const i=`vwo_w_${t.id}`,r=t.id&&`#vwo-widget-${t.id}`||"";let s=!1,a=!1;if(t.wId){let e=window.VWO._.native.JSON.parse(ae._.allSettings.dataStore.changeSets[t.wId]),n="";e.css?n+=`<div ${t.idemId}="" vwo-element-id="${t.elId}">${e.html}<style>${e.css}</style></div>`:n+=`<div ${t.idemId}="" vwo-element-id="${t.elId}">${e.html}</div>`,e.js&&e.js.data&&(n+=`<script>${e.js.data}<\/script>`),t.html=n}const d=t.opId,l=e=>{d&&(e?n[d]=e:delete n[d])},u=()=>{l("sw-attached");const n=n=>{ae.phoenix('on("${{1}}", "${{2}}")',null,{captureGroups:[n,()=>{l("sw-executed");let n=!1;t.sw.skipExecuteOnce=a,!t.sw.executed||!t.sw.skipExecuteOnce||e(r).length||v()||s||(n=!0,t.sw.executed=!1),t.sw.executed||t.ef&&!t.ef.executed||_(n),t.sw.executed=!0,s=!1}]})};"string"==typeof t.sw.p_dsl?ae.phoenix(`settings.currentSettings.triggers.${t.sw.p_dsl}`).then((e=>{e?(e.cnds=Ho.modifyTriggerConditions(e.cnds,(e=>(!m(e)||"vwo_pageView"!==e.event&&"vwo_session"!==e.event||(e.persistState=!0),e))),zo({triggerObj:e,eventName:j.DOM_CLICK})&&(a=!0),n(e)):c.error(`Trigger for show when p_dsl ${t.sw.p_dsl} not found.`)})):n(t.sw.p_dsl),ae.phoenix('trigger("${{1}}")',null,{captureGroups:[`widget-${t.id}-sw-ready`]})},w=()=>{const e=e=>{const n=t.apiParamVariables.reduce(((t,n)=>(t[n]=e.event[n],t)),{});t.apiParams[3]=Object.assign(Object.assign({},t.apiParams[3]),n),window[t.id]=Object.assign(Object.assign({},window[t.id]),t.apiParams[3]),t.ef.executed=!0,(!t.sw||t.sw.executed)&&_()};t.ef.isEventFiredHandlerExecuting||t.ef.executed||(t.ef.isEventFiredHandlerExecuting=!0,ae.phoenix('store.getters.getHistoryEvents("${{1}}")',null,{captureGroups:[t.triggerEventname]}).then((n=>{var o,i;n.length?!t.ef.executed&&e({event:null===(o=n[0])||void 0===o?void 0:o.props}):(i=t.ef.p_dsl,ae.phoenix('on("${{1}}", "${{2}}")',null,{captureGroups:[i,e]})),t.ef.isEventFiredHandlerExecuting=!1})))},_=e=>{t.api?t.api(...t.apiParams).then((n=>{const o=t.apiResponsevariables.reduce(((e,t)=>(e[t]=n[t],e)),{});window[t.id]=Object.assign(Object.assign({},window[t.id]),o),t.html=t.html&&t.html(Object.assign({Array:window.Array,Math:window.Math,window:window.window},o)),g(e)})):g(e)},g=n=>{this[t.position](t.html),l(),t.js&&(ae.phoenix('on("${{1}}", "${{2}}")',null,{captureGroups:[t.js.p_dsl,()=>{}]}),ae.phoenix('trigger("${{1}}")',null,{captureGroups:[`widget-${t.id}-js-ready`]})),r&&(t=>{const n=e(t);n.length&&n.get(0).addEventListener("close_button_clicked",(function(){s=!0,l("disconnected")}))})(r),t.rec&&!n&&p(),t.hw&&(ae.phoenix('on("${{1}}", "${{2}}")',null,{captureGroups:[t.hw.p_dsl,()=>{let n=$o.get(i);n&&(n=Mo(n),n.d=1,$o.set(i,oi(n))),(t=>{e(t).remove()})(`#vwo-widget-${t.id}`)}]}),ae.phoenix('trigger("${{1}}")',null,{captureGroups:[`widget-${t.id}-hw-ready`]})),a&&(o[`vwo_domClicked.${t.id}`]=()=>{s=!1})},p=()=>{let e=$o.get(`vwo_w_${t.id}`);if(e){e=Mo(e);for(const t in e)switch(t){case"v":e[t]=parseInt(e[t])+1;break;case"l_ts":e[t]=Date.now()}$o.set(`vwo_w_${t.id}`,oi(e))}else h(e)},h=e=>{!e&&(e=$o.get(`vwo_w_${t.id}`)),e||$o.set(`vwo_w_${t.id}`,oi(t.sks))},v=()=>{t.sks&&h();let e=$o.get(`vwo_w_${t.id}`);return!!e&&(e=Mo(e),1==e.d)};return t&&this.length&&t.position&&!v()&&(t.rec?(l("rec-attached"),ae.phoenix('on("${{1}}", "${{2}}")',null,{captureGroups:[t.rec.p_dsl,()=>{l("rec-executed"),t.sw||t.ef?(t.ef&&w(),t.sw&&u()):_()}]}),ae.phoenix('trigger("${{1}}")',null,{captureGroups:[`widget-${t.id}-rec-ready`]})):t.sw||t.ef?(t.sw&&u(),t.ef&&w()):_()),this};const i={};e.fn.performOp=function(t){try{if((n&&("sw-executed"===n[t]||"rec-executed"===n[t])||i[t]&&!(e=>{try{return"isConnected"in e?e.isConnected:document.body.contains(e)}catch(e){return!1}})(i[t]))&&delete n[t],this&&this.length)return i[t]=this[0],n[t]?e():(n[t]="in-progress",this)}catch(e){}return this},e.fn.execCode=function(e){try{e.call(this)}catch(e){const t="[JSLIB] Error while running custom Code through execCode";l({msg:t,url:"HelperFunctionMT.ts",source:encodeURIComponent(t)})}return this},e(window).bind("beforeunload",(function(){try{const e=[],t=ae.queue||ae;if(null==t||t.map((t=>{var n;(null===(n=null==t?void 0:t[0])||void 0===n?void 0:n.startsWith("track"))&&e.push(t)})),!e.length)return;$o.set(`_vwo_track_data_${window._vwo_acc_id}`,oi(e))}catch(e){const t="[JSLIB EVENT] Error unload event.";l({msg:t,url:"helperFunction.ts",source:encodeURIComponent(t)})}})),e.fn.replaceWith2=e.fn.vwoSPAReplaceWith=function(e){return this.length?this.each((function(t,n){var o=document.createElement("div");o.innerHTML="object"==typeof e?e.nodeValue:e.trim(),o.firstChild&&(o.firstChild.__vwoControlOuterHTML=n.__vwoControlOuterHTML||n.outerHTML);try{const e=Array.from(o.querySelectorAll("script"));if(e.length>0)for(const t of e)if(-1!==t.textContent.indexOf("_vwo_api_section_callback")||t.attributes["vwo-script"]){t.remove();const e=document.createElement("script");t.src&&(e.src=t.src),t.textContent&&(e.textContent=t.textContent),window.VWO.nonce&&(e.nonce=window.VWO.nonce),document.head.appendChild(e)}}catch(n){}n.parentNode&&n.parentNode.replaceChild(o.firstChild,n)})):this},e.fn.vwoRevertHtml=function(){try{return this.length&&this.each((function(){var t=this.innerHTML;this.hasOwnProperty("__vwoControlInnerHTML")&&t===this.__vwoExpInnerHTML&&(e(this).html(this.__vwoControlInnerHTML),delete this.__vwoControlInnerHTML,delete this.__vwoExpInnerHTML)})),this}catch(e){const t="[JSLIB] Error during vwoRevertHtml";l({msg:t,url:"helperFunction.ts",source:encodeURIComponent(t)})}},e.fn.vwoRevertAttr=function(){try{return this.length&&this.each((function(){if(this.hasOwnProperty("__vwoControlVwoAttr")){var t=this.__vwoControlVwoAttr;t.hasOwnProperty("attrsToAddOrModify")&&t.attrsToAddOrModify.forEach((t=>{e(this).attr(t.name,t.value)})),t.hasOwnProperty("attrsToRemove")&&t.attrsToRemove.forEach((t=>{e(this).removeAttr(t)})),delete this.__vwoControlVwoAttr}})),this}catch(e){const t="[JSLIB] Error during vwoRevertAttr";l({msg:t,url:"helperFunction.ts",source:encodeURIComponent(t)})}},e.fn.vwoRevertCss=function(){try{return this.length&&this.each((function(){this.hasOwnProperty("__vwoControlStyleAttr")&&(e(this).attr("style",this.__vwoControlStyleAttr),delete this.__vwoControlStyleAttr)})),this}catch(e){const t="[JSLIB] Error during vwoRevertCss";l({msg:t,url:"helperFunction.ts",source:encodeURIComponent(t)})}},e.fn.vwoRevertRearrange=function(t,n,o){try{return this.length?this.each((function(){e(this).parent().removeAttr(`vwo-op-${t}`);var i=e(n),r=i.nonEmptyContents().eq(o);i.length||e(this).remove(),r.length?r.before(this):i.append(this)})):this}catch(e){const t="[JSLIB] Error during vwoRevertRearrange";l({msg:t,url:"helperFunction.ts",source:encodeURIComponent(t)})}},e.fn.revertContentOp=function(){try{return this.length&&this.each((function(){if(this.hasOwnProperty("__vwoControlOuterHTML")){var t=e(this);e.fn.replaceWith.apply(t,[this.__vwoControlOuterHTML])}})),this}catch(e){const t="[JSLIB] Error during revertContentOp";l({msg:t,url:"helperFunction.ts",source:encodeURIComponent(t)})}},e.fn.vwoVal=function(){try{try{this.each((function(){this.hasOwnProperty("__vwoControlVal")||(this.__vwoControlVal=this.value||"")}))}catch(e){const t="[JSLIB] Error during storing control element value";l({msg:t,url:"helperFunctionMT.ts",source:encodeURIComponent(t)})}return e.fn.val.apply(this,arguments),this}catch(e){const t="[JSLIB] Error during vwoVal";l({msg:t,url:"helperFunction.ts",source:encodeURIComponent(t)})}},e.fn.vwoRevertVal=function(){try{return this.length&&this.each((function(){this.hasOwnProperty("__vwoControlVal")&&(e(this).val(this.__vwoControlVal),delete this.__vwoControlVal)})),this}catch(e){const t="[JSLIB] Error during vwoRevertVal";l({msg:t,url:"helperFunction.ts",source:encodeURIComponent(t)})}}}window.VWO.modules.utils.tagExecutor={updateTriggerStates:ei};const ci=(e,t)=>{for(;--t>=0&&e.parentElement;)e=e.parentElement;return t<0?e:null};function di(){if(!window.vwo_$)return;const e=(e,t,n)=>{var o;const i=(null===(o=n.iT?e.innerText:e.textContent)||void 0===o?void 0:o.trim())||"";return!!i&&i===t.trim()},t=e=>_o()&&e&&e.classList.contains("vwo_bl");let n,o=0;const i=window.vwo_$;window.vwo_$=(...r)=>{const s=r[0]||"",a=(c=r[1])&&!Array.isArray(c)&&"object"==typeof c?r[1]:{};var c;if(void 0!==a.iT&&r.splice(1,1),_o()&&"string"==typeof s&&(r[0]=`${s}:not(.vwo_bl)`),!s||"string"!=typeof s||-1===s.indexOf(":tm(")||/<.*(script|style)\b[^>]*>/g.test(s))return i(...r);try{const r=Vn(s);if(r.length>1){var d=[];for(const e of r){const t=vwo_$(e.sel).toArray();for(const e of t)e._vwo_visited||(e._vwo_visited=!0,d.push(e))}for(const e of d)delete e._vwo_visited;return i(d)}const c=An(r[0].sel),{targetElement:l,targetText:u,ancestorLevelCount:w,childSel:_}=c,g=window.VWO._.txtCfg||{};if(g.txtSelMap){const e=Wn(c,g.txtSelMap);if(e&&e.s){const t=window.vwo_$("."+e.s);if(t.length>0)return t}}let p=i();const h=e=>{if(w){const t=ci(e,w);t&&(_?[].push.apply(p,Array.from(t.querySelectorAll(_))):[].push.apply(p,[t]))}else[].push.apply(p,[e])};if(l){const i=((i,r,s)=>{const a=i.split(" "),c=a.length>1?a[1].toUpperCase():a[0].toUpperCase(),d=a.length>1?document.querySelector(a[0]):document.body;return document.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>i.tagName!==c||t(i)?NodeFilter.FILTER_SKIP:e(i,r,s)?(n=i,o=i.querySelectorAll(c).length,o?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT):(o--,n&&!o?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP)})})(l,u,a);let r;for(;r=i.nextNode();)h(n),n=null}else{const n=document.createTreeWalker(document.body,NodeFilter.SHOW_TEXT,{acceptNode(e){const n=e.parentElement;return t(n)?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}});for(;n.nextNode();){const t=n.currentNode;t&&(e(t.parentElement,u,a)&&h(t.parentElement))}}return o=0,p}catch(e){return i()}},Object.assign(window.vwo_$,i)}window.VWO.modules.utils.helperFunctions={onUrlChange:si};const li={init:function(e,t){window.fetcher.getValue("VWO._.vwoLib.initTrack",[e,t])},processEvent:function(e,t,n,o,i){if("[object Array]"!==Object.prototype.toString.call(e))return 0;try{var r,s,a,c=e[0],d=e.slice(1),l=-1!==c.indexOf(".");return l&&0===c.indexOf(t)||!l?(l?(r=n[(s=c.split("."))[0]][s[1]],a=n[s[0]]):(r=n[c],a=n),r?(window.VWO._.prVWO=window.VWO._.prVWO.concat(i.queue?i.splice(o,1):i.queue),r.apply(a,d),1):0):0}catch(t){return console.log("Error occured in VWO Process Event ("+(e&&e[0])+"): ",t),0}}},ui={};function wi(e){return v(this,void 0,void 0,(function*(){yield ae.phoenix('store.actions.addValues("${{1}}", "${{2}}" )',null,{captureGroups:[e,"vwoInternalProperties"]})}))}class _i extends Uo{constructor(){super(),this.isInsightsActivated=!1,this.isCampaignsLoaded=!1,this.noopFn=()=>{},this.thirdPartyCookiesSuccess={},window.VWO._.phoenixMT.on(j.RUN_REVERT_TAGS,this.runRevertTagsAndUpdateInfo.bind(this))}deleteAllCss(){const e=document.getElementById("_vis_opt_path_hides");e&&e.parentNode.removeChild(e)}getUUID(e){e=e||{},this.uuid=gn.vwoUUID;const t=e&&e.id&&e.multiple_domains&&Ze.get("_vwo_uuid_"+e.id)||Ze.get("_vwo_uuid");return this.uuid=t||this.uuid||this.generateUUID()}createUUIDCookie2(e){if(st.isVisitorOptedOut())return;const t=this.getUUID(e),n=e&&e.id&&e.multiple_domains?"_"+e.id:"";return Ze.get("_vwo_uuid"+n)||this.createCookieMT("_vwo_uuid"+n,t,Be.UUID_COOKIE_EXPIRY,e,!0),ae.data=ae.data||{},ae.data.vin=ae.data.vin||{},ae.data.vin.uuid=t,t}setVin(e){if(st.isVisitorOptedOut())return;const t=this.getUUID(e);return ae.data=ae.data||{},ae.data.vin=ae.data.vin||{},ae.data.vin.uuid=t,t}extraData2(e,t){var n,o,i,r,s={},a=ae.modules.tags.sessionInfoService.getInfo(),c=e?a.r:_n.get();const d=window.screen.width,l=window.screen.height;return s.sr=d+"x"+l,s.sc=window.screen.colorDepth,s.de=document.characterSet||document.charset,s.ul=window.navigator.language.toLocaleLowerCase(),window._vwoCc&&window._vwoCc.rTD||(s.r=c),s.lt=(new Date).getTime(),s.tO=Te(),s.tz=(null===(r=null===(i=null===(o=null===(n=null===Intl||void 0===Intl?void 0:Intl.DateTimeFormat)||void 0===n?void 0:n.call(Intl))||void 0===o?void 0:o.resolvedOptions)||void 0===i?void 0:i.call(o))||void 0===r?void 0:r.timeZone)||"",t?s:window.VWO._.native.JSON.stringify(s)}isDomIndependentCampaign(e){return u((()=>h().isDomIndependentCampaign(e)))}isSessionBasedCampaign2(e){const t=e.type;return u((()=>h().isSessionBasedCampaign2(t)))}hasInsightsMetric(e){return u((()=>h().hasInsightsMetric(e)))}isAnalyzeCampaign(e){return u((()=>h().isAnalyzeCampaign(e)))}shouldTrackUserForCampaign(e){return"number"==typeof e&&(e=window._vwo_exp[e]),!e||!window._vwo_code||!window._vwo_code[kt]&&!window._vwo_code[Gt]||(this.isDomIndependentCampaign(e.type)||this.isSplitVariation(e))}isEligibleToSendCall(e,t){return!L()&&(t&&!t.visDebug||!window._vis_debug)&&this.shouldTrackUserForCampaign(e)&&(t&&t.vwoInternalProperties.shouldExecuteLib||window.VWO._.shouldExecuteLib)}isBotScreen(){return+(screen.height-window.innerHeight<0)}createCookie(e,t,n,o,i){return v(this,void 0,void 0,(function*(){return this.otherSide('createCookie("${{1}}", "${{2}}", "${{3}}", "${{4}}", "${{5}}")',null,[null,t,n,o,i])}))}createCookieMT(e,t,n,o,i,r=!1){(i||this.shouldTrackUserForCampaign(o))&&(r||o&&o.multiple_domains?Ze.createThirdParty(e,t,n,void 0,o.id,void 0,o):Ze.create(e,t,n))}setThirdPartyCookiesForApplicableCamps(){const e=(e,t)=>{const n="_vwo_uuid_"===e.substring(0,10)?Be.UUID_COOKIE_EXPIRY:100;this.createCookieMT(e,t,n)},t=window.VWO._.allSettings.dataStore.crossDomain||{};if(We(t)&&!this.isCookieLessModeEnabled()){const n=Object.keys(t);for(let o=0;o<n.length;o++){const i=n[o];if(this.thirdPartyCookiesSuccess[i])continue;const r=t[i];let s=Object.keys(r).length-1;for(;s>=0;){const t=r[s];e(t.name,t.value),s--}this.thirdPartyCookiesSuccess[i]=!0}}mn(e)}isSSApp(){var e,t,n;const o=null===(n=null===(t=null===(e=window.VWO._.allSettings.dataStore)||void 0===e?void 0:e.plugins)||void 0===t?void 0:t.DACDNCONFIG)||void 0===n?void 0:n.SST,i=o&&o.SSTD;if(!i)return!1;if(ae._.ssdm)return o&&ae._.ssdm;try{const e=window.document.domain.match(i);if(e&&e.length>0)return o}catch(e){return l({msg:`Invalid regex for domain. sstd = ${i}`,source:encodeURIComponent(`Invalid regex for domain. VWO._.sstd = ${i}`)}),!1}}doesUuidCookiesExist(){return!!Ze.get("_vwo_uuid")||!!Oe(document.cookie.split(";"),(function(e){return 0===e.trim().indexOf("_vwo_uuid_")&&0!==e.trim().indexOf("_vwo_uuid_v2")})).length}doNotTrack(e){if(e.settings.vwoData.dntEnabled)return"yes"===e.navigator.doNotTrack||"1"==e.navigator.doNotTrack||"1"==e.navigator.msDoNotTrack||"1"==e.doNotTrack}isGloballyOptedOut(){return!!parseInt(Ze.get(Be.GLOBAL_OPT_OUT,!0),10)}_optOut(e,t){return t.trigger(j.OPT_OUT,{oldArgs:[!1]}),!1}doesSessionBasedCampaignExistsInTags(e){var t=e&&Mo(e),n=0,o=t&&"object"==typeof t&&t.si;if(o&&"object"==typeof o)for(var i in o)if(o.hasOwnProperty(i)&&(n=this.isSessionBasedCampaign2(window._vwo_exp[i])?1:0))return n;return n}delCSSWrapper({campaignData:e,ruleName:t,rulesArr:n}){var o;if(Array.isArray(n)&&n.length>0)for(let t=0;t<n.length;t++){const i=(null===(o=n[t])||void 0===o?void 0:o.split(","))||[];i.length>1?this.delCSSWrapper({rulesArr:i,campaignData:e}):this.delCSS({ruleName:n[t],campaignData:e})}t&&this.delCSS({ruleName:t,campaignData:e})}delCSS({ruleName:e,campaignData:t}){var n;if("string"!=typeof e)return;if((null===(n=window._vwoCc)||void 0===n?void 0:n.enableMultiRuleSupport)&&e.includes(","))return void e.split(",").forEach((e=>this.delCSS({ruleName:e.trim(),campaignData:t})));if("*"===e&&(clearTimeout(window._vwo_oscTimeout),delete window._vwo_oscTimeout),window.VWO._.txtCfg&&Cn(e)){const n=Vn(e);if(n.length>1){for(let e=0;e<n.length;e++)this.delCSS({ruleName:n[e].sel,campaignData:t});return}if(!(e=window.VWO._.txtCfg.mp&&window.VWO._.txtCfg.mp[e]))return}let o,i,r,s,a,c,d;if(e=e.toLowerCase(),t){const e="_vis_opt_path_hides_"+t.id,n=t.variation?e+"_"+t.variation:e;o=document.getElementById(n);let i="";(window._vwo_acc_id>742099||718480===window._vwo_acc_id)&&(i="-webkit-transform:none;-ms-transform:none;transform:none;"),d=`{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;${i}}`}else o=window._vwo_style||document.getElementById("_vis_opt_path_hides"),d=window._vwo_css;if(o){if(o)if(o.sheet){o.styleSheet||(e=e.replace(/\*:/g,":")),i=o.sheet,r=i.cssRules.length&&i.cssRules[0].selectorText?i.cssRules[0].selectorText.split(","):"",s="";let t=0;for(a=0;a<r.length;a++)vwo_$.trim(r[a]).toLowerCase()!==e||t?s+=r[a]+",":t||(t=1);if(s&&t){s=s.substr(0,s.length-1);try{i.insertRule(s+d,1)}catch(e){}finally{i.deleteRule(0)}}else o&&o.parentNode&&o.parentNode.removeChild(o)}else if(o.styleSheet){i=o.styleSheet,a=0;do{c=i.rules[a],c&&c.selectorText.toLowerCase()===e?i.removeRule(a):a++}while(c)}"*"!=e||t||(window.VWO.dNR=1),window.fetcher.getValue('phoenix.trigger("${{1}}","${{2}}")',null,{captureGroups:[j.DELETE_CSS_RULE,{oldArgs:[e]}]})}}insertCSS(e,t){let n,o;"object"!=typeof e||e instanceof Array||(n=e,e=n.id,o=n.className);let i=document.getElementById(e);if([708799].includes(window._vwo_acc_id)&&("body"===t||t.includes("body,"))){const t=document.getElementsByTagName("head")[0],n=document.createElement("div");n.style.cssText="z-index: 2147483647 !important;position: fixed !important;left: 0 !important;top: 0 !important;width: 100% !important;height: 100% !important;background: white !important;",e&&n.setAttribute("id",e),o&&n.classList.add(o),t.parentNode.insertBefore(n,t.nextSibling)}else{if(i)try{i.removeChild(i.childNodes[0])}catch(e){}else{const t=document.getElementsByTagName("head")[0];i=document.createElement("style"),e&&i.setAttribute("id",e),o&&i.setAttribute("class",o),i.setAttribute("type","text/css"),t.appendChild(i)}if(i.styleSheet)i.styleSheet.cssText=t;else{const e=document.createTextNode(t);i.appendChild(e)}}}isCustomEvent(e){return e&&"string"==typeof e&&e.startsWith(Ht)}removeCampaignLevelStyleTag(e){var t=document.getElementById("_vis_opt_path_hides_"+e);t&&t.parentNode&&t.parentNode.removeChild(t)}setCampaignIds(e){window._vwo_exp_ids=window._vwo_exp_ids||[],e=e||[],window._vwo_exp_ids.push(...e),wi({experimentIds:window._vwo_exp_ids})}getSplitDecision(e){return u((()=>Ze.get("_vis_opt_exp_"+e+"_split").split(nn)[0]))}isCookieLessModeEnabled(){var e,t,n;if(!window.workerThread){window.parent,window.self,null===(n=null===(t=null===(e=window.VWO._.allSettings.dataStore)||void 0===e?void 0:e.plugins)||void 0===t?void 0:t.DACDNCONFIG)||void 0===n||n.CKLV;return!1}return!1}shouldStopExecWhenSsmNotFound(){if("https:"===window.location.protocol)return!1;Ze.create("_vwo_ssm",1,3650,void 0,void 0,!0);const e=Ze.get("_vwo_ssm",!0);return Ze.erase("_vwo_ssm",void 0,!0),!e}areCookiesDisabled(e){let t=!1;e&&!Ze.get(Be.TEST_COOKIE,!0)&&(t=!0),t&&Ze.create(Be.TEST_COOKIE,"1",void 0,void 0,void 0,!0);const n=!Ze.get(Be.TEST_COOKIE,!0);return t&&Ze.create(Be.TEST_COOKIE,"",-1,void 0,void 0,!0),n}updateGlobalOptOutCookie(e){e?Ze._create(Be.GLOBAL_OPT_OUT,1,100,window._vwo_cookieDomain,void 0,!0):Ze.erase(Be.GLOBAL_OPT_OUT,window._vwo_cookieDomain,!0)}syncThirdPartyGlobalCookies(){var e,t=null===(e=window.VWO.data.accountJSInfo)||void 0===e?void 0:e.tpc;for(var n in t)t.hasOwnProperty(n)&&n===Be.GLOBAL_OPT_OUT&&this.updateGlobalOptOutCookie(!!parseInt(t[n],10))}removeGlobalStyle(){const e=window._vwo_style||document.getElementById("_vis_opt_path_hides");e&&e.parentNode&&e.parentNode.removeChild(e)}filterEventObjectForWT(e){const t={};return Object.keys(e).forEach((n=>{try{window.VWO._.native.JSON.stringify(e[n])}catch(e){return}t[n]=e[n]})),t}syncCachedSettingsInSessionStorage(){const e=`_vwo_${window._vwo_acc_id}_settings`,t={};return window.sessionStorage.getItem(e)&&(t[e]=!0),t}getSelectedVariationForPreviewMode(e){let t=null;if(e.debug){t=e.debug.v;const n=-1!==window.name.indexOf(`_vis_preview_${window._vwo_acc_id}`),o=u((()=>window.VWO._.native.JSON.parse(window.name)),{sendErrorLog:!1},!1);if(!n||!o){const n=Ze.get("_vis_preview_"+window._vwo_acc_id);if(n)try{const o=window.VWO._.native.JSON.parse(n),i=e.id;o&&o[i]&&(!e.debug.ts||o[i].ts>e.debug.ts)&&(t=o[i].v||t)}catch(e){}}}return t}setOnLocalStorageOnBothThreads(e,t,n=[]){if("object"!=typeof t||null===t)return;let o=window.localStorage.getItem(e),i=null;if(o){try{o=window.VWO._.native.JSON.parse(o)||{}}catch(e){o={}}for(const e in t)n.includes(e)&&Object.prototype.hasOwnProperty.call(o,e)&&delete t[e];i=window.VWO._.native.JSON.stringify(Object.assign(o,t))}else i=window.VWO._.native.JSON.stringify(t);i&&(window.fetcher.getValue('window.localStorage.setItem("${{1}}", "${{2}}")',null,{captureGroups:[e,i]}),window.localStorage.setItem(e,i))}updateRTagsInfo(e,t){const n=window.VWO._.rTagInfo||{};n[e]=n[e]||[],n[e].includes(t.tag)||n[e].push(t),window.VWO._.rTagInfo=n}runRevertTagsAndUpdateInfo(e){var t;const n=e||window._vwo_exp,o=this.extractRTagsFromRule(),i=window.VWO._.rTagInfo;if(i){const e=window.VWO.eB;window.VWO.eB=!1;for(const e in i){const r=i[e]||[],s=n[e],a=this.isPersonalizeCampaign(s)&&s.mE;if(s&&r.length>0&&(!s.isApplicable||s.mSP||!s.ready&&s.ss&&(s.ss.csa||s.ss.cta)||ho&&a)){this.setCampaignAppliedFlag(s,!1);for(const n of r){const{tag:i,rTagXpath:r}=n;if(!o.includes(i)){((null===(t=window.VWO._.allSettings.tags[i])||void 0===t?void 0:t.fn)||Kt)(),Oo&&s.mSP&&window.VWO.refreshElements([r],[e])}([752930,2000558].includes(window._vwo_acc_id)||window._vwo_acc_id>=9e5)&&!window.VWO._.isSettingsLoaded&&l({msg:"Settings.js status update - revertTags",url:window.location.href}),delete window.VWO._.rTagInfo[e]}}}window.VWO.eB=e}}extractRTagsFromRule(){const{rules:e}=ae._.allSettings,t=[];for(let n=0;n<e.length;n++){const o=e[n];if(o.tags&&o.tags[0].id.startsWith("R_")){t.push(...o.tags.map((e=>e.id)));break}}return t}fireVariationShownSentForSplit(){if(!(window._vwo_code&&window._vwo_code.finished()))return;const e=window.VWO._.native.JSON.parse(localStorage.getItem(Xt.VS_DATA)||"{}");Object.keys(e).forEach((t=>{const n=e[t].v;e[t].u===window.location.href&&(window.VWO.phoenix('trigger("${{1}}", "${{2}}")',null,{captureGroups:[j.VARIATION_SHOWN_SENT,{oldArgs:[t,n]}]}),window.VWO._.phoenixMT.trigger(j.VARIATION_SHOWN_SENT,t))}))}fireAuxiliaryPageView(){this.isInsightsActivated&&this.isCampaignsLoaded&&this.otherSide("fireAuxiliaryPageView")}initAuxiliaryPageView(){window.VWO._.phoenixMT.on("vwo_insightsActivated",(()=>{this.isInsightsActivated=!0,this.fireAuxiliaryPageView()})),window.VWO._.phoenixMT.on("vwo_campaignsLoaded",(()=>{this.isCampaignsLoaded=!0,this.fireAuxiliaryPageView()}))}resetAuxDependencies(){this.isCampaignsLoaded=!1,this.isInsightsActivated=!1}saveVSDataInStorageForSplit(e,t,n){const o=window.VWO._.native.JSON.parse(window.localStorage.getItem(Xt.VS_DATA)||"{}");o[e]={},o[e].v=t,o[e].u=n,window.localStorage.setItem(Xt.VS_DATA,window.VWO._.native.JSON.stringify(o))}loadNcLib(e){const t=e||u((()=>window._VWO._vis_nc_lib)),n={dSC:!0,onloadCb:function(e,t){200===e.status||304===e.status?_vwo_code.addScript({text:e.responseText}):window.VWO._.gcpfb(t,window.VWO.modules.utils.libUtils.loadNcLib,e.status)},onerrorCb:function(e){window.VWO._.gcpfb(e,window.VWO.modules.utils.libUtils.loadNcLib)||l({msg:"Error in loading nc library"})}};vwo_$(document).ready((function(){2===window.VWO.load_co.length?window.VWO.load_co(t,n):window.VWO.load_co(t)}))}fireUrlChangeWildCardEvent(){ro&&u((()=>{window.VWO.modules.tags.wildCardCallback({VWO:{firedTime:Date.now()}},j.URL_CHANGED)}),{sendErrorLog:!0,msg:"fireUrlChangeWildCardEvent",url:"UrlChangeEventMT.ts"})}updateLibState(e,t=!1){window.VWO._.libState=e,t&&window.fetcher.setValue("VWO._.libState",e)}}const gi=new _i;window.VWO.modules.utils.libUtils=gi;const pi=(()=>{let e=null;return{get:t=>u((()=>{switch(t){case"visitor.id":return e||(e=gi.createUUIDCookie2({vwoUUID:gn.vwoUUID})),e;case"visitor.referrer":return _n.get();default:return null}}))}})();class hi{otherSide(...e){return e[0]="VWO.modules.tags.dataSync."+e[0],window.fetcher.getValue(...e)}}function vi(e){window.vwo_iehack_queue||(window.vwo_iehack_queue=[]),window.vwo_iehack_queue.push(e)}function fi(e){const{data:t,apiToUse:n,headers:o,success:i,complete:r,error:s}=e,{url:a}=e,c=n&&new(n.get("XMLHttpRequest"))||new XMLHttpRequest;if(c.open("POST",a,!0),o)for(const e in o)o.hasOwnProperty(e)&&c.setRequestHeader(e,o[e]);t instanceof FormData&&(c.formData=t),c.send(t),c.onload=function(){i.call(this),r.call(this,e.callbackContext)},c.onerror=function(){s.call(this),r.call(this,e.callbackContext)}}function mi(e,t){const{apiToUse:n,success:o,error:i,complete:r,callbackContext:s}=e;let{url:a}=e;const c=n&&new(n.get("Image"))||new Image;a+=t?"&_bf=1":"",c.src=a,c.onload=function(){o.call(this),r.call(this,s)},c.onerror=function(){i.call(this),r.call(this,{isError:!0})},vi(c)}function Oi(e,t){e.data?fi(e):mi(e,false)}function Ei(e){let{url:t,miscOptions:n}=e;t.indexOf("?")<0&&(t+="?");if(t+=n?(void 0!==n.vn?"&vn="+n.vn:"")+(void 0!==n.vns?"&vns="+n.vns:"")+(void 0!==n.vno?"&vno="+n.vno:""):"",t.indexOf("&cu=")<0&&t.indexOf("&url=")<0&&ee.addCustomParams(t)){const n=u((()=>e.additionalOptions.cUrl))||window.VWO._.lastPageUnloadURL||document.URL;t+="&_cu="+encodeURIComponent(n.slice(0,100))}return t.indexOf("&cu=")<0&&!ee.addCustomParams(t)&&(t+="&_cu="+encodeURIComponent(window.VWO.consentMode.customParams.url.slice(0,100))),document.referrer&&t.indexOf("&ru=")<0&&ee.addCustomParams(t)&&(t+="&_ru="+encodeURIComponent(document.referrer.slice(0,100))),t.indexOf("?&")>0&&(t=t.replace("?&","?")),t}const Si=function(e){const t=function(){};let n=!1;(e.success||e.error)&&(n=!0),e.success=e.success||t,e.error=e.error||t,e.complete=e.complete||t,e.url=Ei(e),e.callbackContext=e.callbackContext||{},e.apiToUse=window.DISABLE_NATIVE_CONSTANTS?void 0:window.VWO._.nativeConstants;const{data:o,url:i,useBeacon:r,complete:s}=e;if(n&&!r)return Oi(e,!1),{typeOfCall:Si.callTypes.NONBEACON};{const t=u((()=>window.VWO._.nativeConstants.get("navigator")))||window.navigator;return"function"==typeof t.sendBeacon&&(window.VWO.data&&window.VWO.data.fB||r)&&t.sendBeacon(i,o)?(s(e.callbackContext),{typeOfCall:Si.callTypes.BEACON}):(Oi(e,!0),{typeOfCall:Si.callTypes.NONBEACON})}};Si.shouldCompress=function(e){return e.length>1800},Si.callTypes={BEACON:"beacon",NONBEACON:"non-beacon"};class Ti{constructor(){this.allowedMetaDataProps={ogName:!0,source:!0}}otherSide(...e){return e[0]="VWO.modules.tags.dataSync.utils."+e[0],window.fetcher.getValue(...e)}evaluateDataForEventsCall(e,t,n){var o,i,r,s,a;let c=!0;const d=null===(i=null===(o=n._vwo)||void 0===o?void 0:o.eventDataConfig)||void 0===i?void 0:i.addVwoPageMeta;null===(s=null===(r=n._vwo)||void 0===r?void 0:r.eventDataConfig)||void 0===s||delete s.addVwoPageMeta,this.syncAdditionalDataWithEventsData(null===(a=n._vwo)||void 0===a?void 0:a.eventDataConfig,n);const l=n.eventUuid,u={d:{}};if(u.d.msgId=`${t}-${+new Date}`,u.d.visId=t,l&&(u.d.eventUuid=l),u.d.event={props:this.excludeEventPropsNotToBeSynced(e,n.name,n.props),name:n.name,time:n.time},n.props.$metaData){const e={},t=n.props.$metaData;for(const n in t)Object.prototype.hasOwnProperty.call(this.allowedMetaDataProps,n)&&(e[n]=t[n]);Object.keys(e).length>0&&(u.d.event.props.vwoMeta=u.d.event.props.vwoMeta||{},Object.assign(u.d.event.props.vwoMeta,e)),delete u.d.event.props.$metaData}return n.props.$visitor&&(u.d.visitor=n.props.$visitor,delete n.props.$visitor,Object.keys(u.d.visitor.props).length<=0&&(c=!1)),u.d.event.props.page=this.getPageInfo(n.page,d),this.resetDataForCurrentEvent(n),{payload:u,shouldSyncCall:c}}getPageInfo(e,t){var n;return(e=e||gn.page).cnnUrl=document.querySelector&&((null===(n=document.querySelector("link[rel='canonical']"))||void 0===n?void 0:n.href)||""),t&&(e.pageViewId=window.VWO._.track.getTrackPageId&&window.VWO._.track.getTrackPageId()||window.VWO._.pageId),e}syncAdditionalDataWithEventsData(e,t){if(e)for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&"shouldSyncData"!==n){const o=e[n];if(void 0===o)continue;t.props?t.props[n]=o:t[n]=o}}resetDataForCurrentEvent(e){var t;let n=(null===(t=e._vwo)||void 0===t?void 0:t.eventDataConfig)||{};(n||e.props)&&(n={},e.props={})}excludeEventPropsNotToBeSynced(e,t,n){var o,i,r,s,a,c,d;const l=["fireLinkedTagSync","isTrusted","page","$visitor","isCustomEvent","forceCall","VWO","vwo_doNotProcess_vS"];if(!n.isCustomEvent){const n=(null===(s=null===(r=null===(i=null===(o=e.currentSettings)||void 0===o?void 0:o.dataStore)||void 0===i?void 0:i.events)||void 0===r?void 0:r[t])||void 0===s?void 0:s.nS)||(null===(d=null===(c=null===(a=window.VWO._.allSettings.dataStore)||void 0===a?void 0:a.events)||void 0===c?void 0:c[t])||void 0===d?void 0:d.nS)||[];Array.prototype.push.apply(l,n)}if(!l||!l.length)return n;const u={},w=window.VWO._.allSettings.dataStore.events[t];for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const t=n[e];l.indexOf(e)>-1?delete u[e]:u[e]=!w&&t?Re(t,100):t}return u}}Ti.UNREG_EVENT_LOCAL_STORAGE_NAME="vwoUnRegEvents";class Ci extends Ti{constructor(){super(...arguments),this.vwoEventsToBeSynced=Object.assign({},Lt)}shouldSendEventCall(e,t){var n;const o=t.name;if(!o)return!1;this.vwoEventsToBeSynced=Object.assign({},window.VWO._.SyncableEventsEnum);const i=this.vwoEventsToBeSynced[t.name];if(void 0===i&&!t.props.isCustomEvent&&!t.props.isSurveyEvent)return!1;if(!window.VWO._.allSettings.dataStore.events[o]){let e;try{e=window.VWO._.native.JSON.parse($o.get(Ti.UNREG_EVENT_LOCAL_STORAGE_NAME))||{}}catch(t){e={}}if(e[o])return!1;{e[o]=!0;const t=window.VWO._.native.JSON.stringify(e);$o.set(Ti.UNREG_EVENT_LOCAL_STORAGE_NAME,t)}}if(t.props.isCustomEvent||t.props.isSurveyEvent||t.props.forceCall)return!0;if(!i||!i.ignoreMetricDataCheck){const e=null===(n=t._vwo)||void 0===n?void 0:n.eventDataConfig;if(!e||Object.keys(e).length<=0)return!1}if(t.name!==j.VARIATION_SHOWN)return!0;let r="non-analytics";location.href.includes("jsMode=Any")&&(r="analytics");const s=null==t?void 0:t.props,a=null==s?void 0:s.id;if(!s||!a)return!1;const c=e.currentSettings.dataStore.campaigns[a]||window._vwo_exp[a],d=window.VWO.modules.utils.libUtils.isSessionBasedCampaign2(c),l=c.type===g().SURVEY_CAMPAIGN;return!(!("analytics"===r||"non-analytics"===r&&s.isFirst)||d||l)}prepareEventProps(e,t){e.props.extraData=gi.extraData2(!1,!0);try{const n=window.VWO._.native.JSON.parse($o.get("vwoSn")||"{}"),o={r:+("new"!==u((()=>window.VWO.data.vi.vt))),su:decodeURIComponent(n.cu),ru:decodeURIComponent(n.r),ed:e.props.extraData};t.d&&(t.d.sD=o)}catch(e){l({msg:"Issue with session data payload to be sent in events call",url:"dataSync/utils.ts"})}}handleDomTriggeredEvent(e){const t=e.name;t.indexOf("vwo_dom_")<0||(t===j.DOM_CLICK&&(e.name="click"),t===j.DOM_SUBMIT&&(e.name="submit"))}sendCall(e,t,n,o,i,r,s,a,c){var d;const l=(null==t?void 0:t.cUrl)||window.VWO._.lastPageUnloadURL||document.URL;let w=o;if(s&&s.name===j.VARIATION_SHOWN&&"SPLIT_URL"==_vwo_exp[c.id].type){const e=w;w=function(){e(r),window.VWO._.phoenixMT.trigger(`vwo_vSCallSent_${c.id}`,{id:c.id,comb:_vwo_exp[c.id].combination_chosen}),_vwo_exp[c.id].vSCallSent=!0}}if(!st.shouldWeTrackVisitor()||gi.isBot2()||ee.deferOnConsent("sendCall",this,w,r,s,n,e,t,n,w,i,r,s,{cu:l,ru:document.referrer},c))return;const _=null==t?void 0:t.successCallback,g=null==t?void 0:t.errorCallback,p=(null==t?void 0:t.serverUrl)||(null===(d=window.VWO.data.accountJSInfo)||void 0===d?void 0:d.collUrl)||gn.serverUrl,h=gn.accountId,v=p.endsWith("/");let f=p;if(s){const e=Dt(s.name);e&&this.prepareEventProps(s,n);f+=`${v?"":"/"}events/${e?"t":"t/u"}?en=${s.name}&a=${h}&v=${window.VWO.v_e}`;let t=w;if(Mt.canRunHook()){const e=Mt.runAllHooks(n,t);if(-1===e.processedData)return;n=e.processedData,t=e.wrappedCallback}Mi(s.name),w=function(...e){t.call(this,...e),ki(s.name,Object.assign(Object.assign(Object.assign({},s),n.d.event.props),{url:void 0}))};const o=!xt(s.name);if(e&&o&&s.isCustomEvent&&fo&&!Lt[s.name]){if(!u((()=>Object.keys(s._vwo.eventDataConfig.vwoMeta.metric).length>0)))return void w(r)}}else{if(!t)return;f+=t.url,f=Ue(f,"vn",t.vn),f=Ue(f,"vns",t.vns),f=Ue(f,"vno",t.vno),f=Ue(f,"eTime",Se()),f=Ue(f,"v",window.VWO.v_e)}window.VWO.consentMode&&a&&(f.indexOf("&cu=")<0&&(f+="&cu="+encodeURIComponent(a.cu.slice(0,100))),document.referrer&&f.indexOf("&ru=")<0&&a.ru&&(f+="&ru="+encodeURIComponent(a.ru.slice(0,100)))),window.VWO._.isBeaconAvailable=!0,i=window.VWO.data.tB&&(window.VWO._.isLinkRedirecting||i);let m=n&&"object"==typeof n&&0===Object.keys(n).length?"":n;m&&"string"!=typeof m&&(m=window.VWO._.native.JSON.stringify(m));Si({url:f,complete:w,success:_,error:g,data:m,useBeacon:i,callbackContext:r,additionalOptions:{cUrl:l}}).typeOfCall!==Si.callTypes.BEACON&&(window.VWO._.isBeaconAvailable=!1)}addDataFromMTAndSend(e,t,n,o,i,r,s,a){o=o||Kt;const c=u((()=>n.d.event.props.page));c&&(c.cnnUrl=u((()=>document.querySelector("link[rel='canonical']").href))||""),this.sendCall(e,t,n,o,i,r,s,null,{id:a})}getDataForEventsCall(e,t,n){const o=window.VWO.modules.tags.sessionInfoService,{payload:i,shouldSyncCall:r}=this.evaluateDataForEventsCall(e,t,n);return i.d.sessionId=o.getSessionId(),{data:i,shouldSyncCall:r}}}const Ii=new Ci;window.VWO.modules.tags.dataSync={utils:Ii};var yi=new Ci;class Ai extends hi{execute({event:e},t,n,o,i,r){if(o=o||Kt,window._vis_debug)o&&o(i);else if(yi.shouldSendEventCall({eventDataConfig:t},e)){r=r||gi.createUUIDCookie2(n);const{data:s,shouldSyncCall:a}=yi.getDataForEventsCall({eventDataConfig:t},r,e);a&&yi.sendCall(null,null,s,o,!0,i,e)}else o&&o(i)}}const bi=new Ai,Vi=bi.execute.bind(bi);function Ni(e,t){var n;const o=e.conflictingPropsData||{};if(!e.props){e.props={};const n=["name","props","_vwo","_meta","conflictingPropsData","eventUuid"];for(const t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n.includes(t)||(e.props[t]=e[t]));Object.assign(e.props,o),Object.keys(t).forEach((n=>{e.props[n]=t[n]}))}e.aux&&(e.props.aux=e.aux),e.time=e.time||(null===(n=e.VWO)||void 0===n?void 0:n.firedTime)||+new Date}window.VWO.modules.tags.dataSync=Object.assign(window.VWO.modules.tags.dataSync,Vi);class Ri extends kn{getUrlVars(e){var t,n,o,i={};for(-1!==e.indexOf("#")&&(e=e.slice(0,e.indexOf("#"))),n=(o=e.slice(e.indexOf("?")+1).split("&").reverse()).length;n--;)if(void 0===i[(t=o[n].split("="))[0]]){let e=t[1];(478778==window._vwo_acc_id||window._vwo_acc_id>495077)&&(e=t.slice(1).join("=")),i[t[0]]=e}else i[t[0]]=i[t[0]]+"&"+t[0]+"="+t[1];return i}}const Li=new Ri;function Wi(e,t,n,o=null){return window.fetcher.getValue('VWO.modules.events.fireEventAndSyncData("${{1}}","${{2}}","${{3}}", "${{4}}" )',null,{captureGroups:[null,t,n,o]})}function Pi(e,t,n={},o=null){var i;let r;t.name=e||t.name,Ni(t,n),t.name===j.DOM_SUBMIT||t.name===j.DOM_CLICK&&t.targetUrl?t.props.targetUrl=t.targetUrl=Li.toAbsURL(t.targetUrl):t.name===j.VARIATION_SHOWN&&(r=window._vwo_exp[t.props.id]);const s=null===(i=t._vwo)||void 0===i?void 0:i.eventDataConfig;if(s){const e=Object.keys(s);for(let n=e.length-1;n>=0;--n){const i=e[n];t._vwo.eventDataConfig=s[i],delete s[i],Vi({event:t},s,null,o,null,i)}}else Vi({event:t},r)}window.VWO.modules.vwoUtils.urlUtils=Li;let Di={};function xi(e){e?Di[e]={}:Di={}}function Ui(e,{shouldNotUnhide:t,tagName:n,campId:o}){Di[o]=Di[o]||{},t||n&&Di[o][n]||(n&&(Di[o][n]=!0),window.VWO._.phoenixMT.trigger(j.UNHIDE_ELEMENT,e))}const Mi=e=>{u((()=>{window.fetcher.getValue('window.VWO.modules.events.markEventSyncedWT("${{1}}")',null,{captureGroups:[e]}).catch((e=>{}))}))},ki=(e,t)=>{Pt(e)&&window.fetcher.getValue('window.VWO.modules.eventHistHandler.updateEventHist("${{1}}","${{2}}")',null,{captureGroups:[e,t]})};let Gi={};const Fi=()=>{Gi={}},$i=({campaignId:e,combination:t,errorObject:n,tagName:o})=>{console.error(n),Gi[o]||(Gi[o]=!0,window.VWO.phoenix('trigger("${{1}}", "${{2}}")',null,{captureGroups:[j.VARIATION_APPLIED_ERROR,{oldArgs:[e,t,{message:n.message,stack:n.stack}]}]}))};window.VWO.modules.events={syncEventsDataToDataLayer:Pi,fireEventAndSyncData:Wi};class ji{static parseUrl(e){var t;try{e=decodeURIComponent(e)}catch(e){console.warn("Not a valid URL.")}const n=/^((((\w+)(:\/\/))?((\w+):(\w+)@)?(www\.)?)([^?#\/:\s]*)?:?([0-9][^?#\/\s]*)?)\/?([^?#\s]*)\??([^#]*)#?(.*)$/.exec(e.trim());if(!n)throw new Error("Not a valid URL.");let o;if(null===(t=window._vwoCc)||void 0===t?void 0:t.iQPE){o={};new URLSearchParams(window.location.search).forEach(((e,t)=>{t&&(o[t]=e)}))}else o=n[13]?n[13].split("&").reduce(((e,t)=>{const[n,o=""]=t.split("=");return e[n]=o,e}),{}):{};return n&&{url:n[0],origin:n[1].replace(n[6],""),protocol:n[4]||"",hasWWW:Boolean(n[9]),username:n[7]||"",password:n[8]||"",host:(n[9]||"")+n[10],domain:n[10],port:n[11]||"",path:n[12],query:n[13]||"",queryParams:o,fragment:n[14]||"",urlWithoutProtocol:n[0].replace(n[3],""),urlWithoutProtocolAndWww:n[0].replace(n[2],"")}}}var Bi={LOGGER_LEVEL:"error"};const Hi=ji.parseUrl(window.location.href).queryParams.vwoLogLevel;var Ki=new a(Hi||Bi.LOGGER_LEVEL);class qi{constructor(){this.plugins={}}register(e){Ki.debug(`Registering plugin '${e.pluginName}' in Plugins factory`),this.plugins[e.pluginName]=e}unregister(e){let t;t=I(e)?e:e.pluginName,Ki.debug(`Unregistering plugin '${t}' in Plugins factory`),this.plugins[t].removeAll(),delete this.plugins[t]}unregisterAll(){Ki.debug("Unregistering all plugins in Plugins factory"),Object.keys(this.plugins).forEach((e=>{this.plugins[e].removeAll(),delete this.plugins[e]}))}clearData(){Ki.debug("Clearing the data of all the plugins"),Object.keys(this.plugins).forEach((e=>{this.plugins[e].clearData()}))}}var Ji=new qi,Xi;!function(e){e.EVENT="event",e.EVENT_PROPS="eventProps",e.STORAGE="storage",e.FORMULA="formula",e.OPERATOR="operator",e.TAG="tag",e.CONDITION_LEVEL_OPERATOR="clOperator"}(Xi||(Xi={}));class Yi{get(e){return this[e]}set(e,t){this[e]=t}}var zi=new Yi;const Qi={"event.target":e=>u((()=>e.target))||null,"event.target.innerText":e=>u((()=>e.target.innerText.trim()))||"","event.targetUrl":e=>u((()=>e.targetUrl))||"","page.url":()=>u((()=>gn.page.url))||""};function Zi(e,t){if(Qi[e])return Qi[e](t);const n=e.split(".");let o;switch(n[0]){case"event":{let e=t;for(let t=1;t<n.length;t++){const i=n[t];o=e[i],e=o,"innerText"===i&&(o=null==o?void 0:o.trim())}break}case"page":{const e=n[1];o=gn.page[e];break}case"window":return n.reduce(((e,t)=>u((()=>e[t]))),window);default:o=void 0}return o}function er(e,t,n,o){const[i,r,...s]=e,a=Zi(i,t),c=u((()=>Ji.plugins[Xi.OPERATOR].get(r)));return u((()=>c(a,...s,{eventName:n,triggerName:o,jsLibUtils:zi.get("jsLibUtils")})))}function tr(e,t,n){var o;const i={},r=e===j.DOM_CLICK,s=t.isRageClick;function a(e,t){i[e.triggerName]=i[e.triggerName]||{},i[e.triggerName][e.condId]=i[e.triggerName][e.condId]||{},i[e.triggerName][e.condId][e.filterId]=!!t,r&&("state"in i[e.triggerName]?i[e.triggerName].state=!(!i[e.triggerName].state||!t):i[e.triggerName].state=!!t)}for(let i=n.length-1;i>=0;i--){s&&(t.isRageClick=s);const r=n[i];if((null===(o=t._vwo)||void 0===o?void 0:o.aux)&&!r.aux){a(r,!1);continue}t.isRageClick&&!t.isFirst&&(t.isRageClick=!1);a(r,er(r.condition,t,e,String(r.triggerId))),s&&(t.isRageClick=!0)}return i}window.VWO.modules.utils.triggers={triggersConditionsCheck:tr};const nr=on,or=rn,ir="vwo",rr=(()=>{const e=(e,t,n)=>{const o=[ir,e,t].join(nr),i=n.join(or);return`${o}${nr}${i}`};return{set:(t,n,o,i)=>{try{if(De(n))return;const r=e(window._vwo_acc_id,t,o);window.localStorage.setItem(r,window.VWO._.native.JSON.stringify({v:n,ts:i}))}catch(e){l({msg:"Failed to SET global variable in storage",url:window.location.href,source:window.VWO._.native.JSON.stringify(e)})}},get:(t,n)=>{try{const o=e(window._vwo_acc_id,t,n),i=window.localStorage.getItem(o);return i?window.VWO._.native.JSON.parse(i):null}catch(e){return void l({msg:"Failed to parse (GET) global variable from storage",url:window.location.href,source:window.VWO._.native.JSON.stringify(e)})}}}})();var sr;!function(e){e[e.ON_PAGE_VARIABLE=0]="ON_PAGE_VARIABLE",e[e.CUSTOM_EVENT=1]="CUSTOM_EVENT"}(sr||(sr={}));const ar={d:{},storeEvent:function(e){const t=e.name;delete e.name,this.d[t]=e},getEvent:function(e){return this.d[e]||{}}},cr=(e,t)=>ar.getEvent(e)[t],dr={ACCOUNT_ID:"a",VARIABLE_NAME:"v",KEY:"key",TIMESTAMP:"ts"},lr=({variableName:e,propertyValues:t,additionalParams:n,onSuccess:o=(()=>null),onError:i=(()=>null)})=>{const{ts:r}=n,s=xe({baseUrl:window._vwo_server_url,pathname:"/dcdn/variabledata",queryParams:{[dr.ACCOUNT_ID]:window._vwo_acc_id,[dr.VARIABLE_NAME]:e,[dr.KEY]:t,[dr.TIMESTAMP]:r}});$e.request({url:s,method:"GET",includeCredentials:!1},{onSuccessCallback:e=>v(void 0,void 0,void 0,(function*(){const t=yield e.json();o(t)})),onErrorCallback:i})},ur=()=>{Object.keys(window.localStorage).forEach((e=>{if(e.startsWith(`${ir}-${window._vwo_acc_id}`)){const t=window.localStorage.getItem(e),{ts:n}=window.VWO._.native.JSON.parse(t),o=1e3*n;Date.now()-o>=864e5&&window.localStorage.removeItem(e)}}))},wr=e=>{if(!e||!e.length)return[];const t=[];for(let n=0;n<e.length;n++)try{const o=e[n];if(!We(o))return[];const{t:i,v:r}=o;if(De(r))return[];let s;switch(Number(i)){case sr.ON_PAGE_VARIABLE:s=Zi(`window.${r}`);break;case sr.CUSTOM_EVENT:{const[e,t]=r.split(".");s=cr(e,t);break}default:s=void 0}if(void 0===s)return[];t.push(s)}catch(e){return[]}return t},_r=(()=>{let e={};return window.VWO._.phoenixMT.on("vwo_urlChangeMt",(()=>{e={}})),(t,n)=>(e[t]||(e[t]=ii(n,1e3)),e[t])})(),gr=(e,t)=>{try{if(!e||!t)return;const{c:n}=t;if(!Array.isArray(n))return;const o=wr(n);if(o.length!==n.length)return;const i=rr.get(e,o),r=window.VWO.sTs||Date.now()/1e3,s=De(i);if(s||De(i.ts)||i.ts<r){_r(e,(()=>lr({variableName:e,propertyValues:o.join(or),additionalParams:{ts:r},onSuccess:t=>{rr.set(e,t.v,o,r)}})))()}if(s||De(i.v))return;return String(i.v)}catch(e){return}},pr=(()=>{let e={};const t={set(t,n,o,i){e[o]=e[o]||{},e[o][t]=e[o][t]||{},e[o][t][n]=i},get:(t,n,o)=>u((()=>e[t][n][o])),removeByTriggerId(t,n){for(const o in e)!n[o]&&e[o][t]&&delete e[o][t]},removeByEventName(t){delete e[t]},clear(){e={}}};return window.VWO._.phoenixMT.on("vwo_reRun",(()=>{t.clear()})),t})(),hr=({evalEventName:e,filters:t,id:n,currentEventName:o,properties:i,metricTriggerId:r})=>{const s=n.toString();if(pr.get(o,r,s))return!0;if(o!==e)return!1;const a=t.every((e=>u((()=>er(e,i,o,r)))));return a&&pr.set(r,s,o,!0),a},vr=({eventName:e,properties:t,callback:n,metricTriggerId:o})=>{const i=(n,i,r)=>hr({evalEventName:n,filters:i,id:r,currentEventName:e,properties:t,metricTriggerId:o});return u((()=>n(i)),{sendErrorLog:!1},!1)},fr=(()=>{let e=[];return window.VWO._.phoenixMT.on("vwo_reRun",(()=>{e=[]})),t=>{if(e.length>0)return e;const n=Po();e=[];const o=new Set;for(const e in t){const i=t[e].mt;if(We(i))for(const e in i){const t=i[e];3===u((()=>n[t][Co]))&&o.add(t)}}return e=Array.from(o),e}})(),mr=({eventName:e,properties:t,campaigns:n=Wo(),metricIdsToBeConvertedList:o=[]})=>{try{const i=(o||[]).length>0?o:fr(n),r=[];if(i.length>0)for(const n of i)try{const o=Po()[n];if(!o)continue;const i=3===o[Co],s=o[To];if(!s||"object"!=typeof s)continue;const a=s[e];if(i&&a){const i=o[Io]||(()=>!1);try{vr({eventName:e,properties:t,callback:i,metricTriggerId:n})&&r.push(n)}catch(e){}}}catch(e){}return r.length>0&&queueMicrotask((()=>{r.forEach((e=>(pr.removeByTriggerId(e,{[j.PAGE_VIEW]:!0}),e)))})),r}catch(e){return l({msg:"Critical error in getEligibleFunctionalTriggersForEvent",source:window.VWO._.native.JSON.stringify(e),url:window.location.href}),[]}};class Or{constructor(){this.forceKeys={id:"forceIdSelector",class:"forceClassSelector",customAttribute:"forceCustomAttributeSelector"},this.regexCache={}}shouldUseAttributeSelector(e,t,n){if(!!((e&&e.getRootNode())instanceof ShadowRoot)||t.dAttrName||n._vwo_noAttributeMode)return null;const o=this.createRegex("string"==typeof t.dAttrName?t.dAttrName:""),i=[],r=e.attributes;if(r)for(let e=0;e<r.length;e++){const t=r[e];!Or.DATA_SELECTOR_CHECK.test(t.name)||o&&o.test(t.name)||Or.EXCLUDED_ATTR_KEYS_REGEX.test(t.name)||Or.EXCLUDED_ATTR_VALUES_REGEX.test(t.value)||this.isDynamicAttribute(t.name)||this.isDynamicAttribute(t.value)||i.push(t)}t.whitelistingHrefAsValidAttribute&&e.hasAttribute("href")&&i.push(e.attributes&&e.attributes.getNamedItem&&e.attributes.getNamedItem("href"));for(const e of i){const n=this.createAttributeSelector(e.name,e.value);if(this.verify(n,t))return n}if(i.length>1){const e=i.slice(0,3).map((e=>this.createAttributeSelector(e.name,e.value))).join("");if(this.verify(e,t))return e}return null}createAttributeSelector(e,t){return`[${e}='${t?t.replace(/'/g,"\\'"):""}']`}escapeCSS(e){return"undefined"!=typeof CSS&&CSS.escape?CSS.escape(e):e}createRegex(e){if(!e)return null;if(this.regexCache[e])return this.regexCache[e];try{const t=new RegExp(e);return this.regexCache[e]=t,t}catch(e){return null}}isDynamicAttribute(e=""){return Or.RE_DYNAMIC_ATTRIBUTE_1.test(e)||Or.RE_DYNAMIC_ATTRIBUTE_2.test(e)}isDynamicId(e){return(Or.RE_DYNAMIC_ID_1.test(e)||Or.RE_DYNAMIC_ID_2.test(e))&&!Or.RE_DYNAMIC_ID_FOR_ADDED_WIDGET.test(e)}isVwoClass(e){return e.indexOf("vwo")>-1||e.indexOf("_vwo_")>-1}getSelectorPathSettings(e){return{_vwo_noIdMode:!(!e||!(!0===e.dIdVal||e.selectorPathSetting&&e.selectorPathSetting.hasOwnProperty("editorNoIdMode")))&&(!0===e.dIdVal||e.selectorPathSetting.editorNoIdMode),_vwo_noDynamicIdMode:!(!e||!(e.dDynId||e.selectorPathSetting&&e.selectorPathSetting.hasOwnProperty("editorNoDynamicIdMode")))&&(e.dDynId||e.selectorPathSetting.editorNoDynamicIdMode),_vwo_noClassMode:!(!e||!(e.dClassValBoolean||e.selectorPathSetting&&e.selectorPathSetting.hasOwnProperty("editorNoClassMode")))&&(e.dClassValBoolean||e.selectorPathSetting.editorNoClassMode)}}isDynamicClass(e){return Or.RE_DYNAMIC_CLASS_1.test(e)||Or.RE_HOVER_CLASS.test(e)}shouldUseTextBasedSelector(e,t){return null}findRecursiveTextBasedSelector(e,t,n){return null}generateShortPath(e,t,n={}){if(!e)return null;if(n.originNode||(n.originNode=e),n.dClassValBoolean=n.hasOwnProperty("dClassValBoolean")?n.dClassValBoolean:!0===n.dClassVal,n.dClassVal="string"==typeof n.dClassVal?`${n.dClassVal}|${Or.DEFAULT_EXCLUDE_CLASSES_REGEX}`:Or.DEFAULT_EXCLUDE_CLASSES_REGEX,this.shouldUseSiblingSelectorEarly(e,n)){const t=this.shouldUseSiblingSelector(e,n);if(t)return t}if(n.skipRootNodeInSelectorPath&&n.documentRootNode===e)return"";const o=this.getSelectorPathSettings(n);(n.forceTextBasedSelector||n.forceRecursiveTextBasedSelector)&&(o._vwo_noIdMode=!0,o._vwo_noClassMode=!0,o._vwo_noAttributeMode=!0);const i=this.getNodeName(e);if(document.body===e||"head"===i||"html"===i)return i;const r="*"===i,s=!(e.getRootNode()instanceof ShadowRoot),a=this.tryCustomAttributeSelector(e,n,s);if(a)return a;const c=this.createRegex("string"==typeof n.dIdVal?n.dIdVal:"");if(this.shouldUseIdSelector(e,n,o,c))return"#"+e.getAttribute("id");const d=this.shouldUseClassSelector(e,n,o);if(d)return d;const l=this.shouldUseAttributeSelector(e,n,o);if(l)return l;if(s){const t=this.shouldUseTextBasedSelector(e,n);if(t)return t}if(this.shouldUseRecursiveTextBasedSelector(e,n,s)){const t=5,o=this.findRecursiveTextBasedSelector(e,t,n);if(o)return e._vwoCachedShortPath=o,o}const u=this.generateParentPath(e,t,n);if(u&&"string"==typeof u&&-1!==u.indexOf(":nth-parent"))return u;const w=this.generateCurrentNodePath(e,i,r,n);if(n.skipRootNodeInSelectorPath&&!u)return w;const _=this.handleSlotAssignment(e,w);return this.isSpecialUrlCase()?this.handleSpecialUrlCase(e,u,_):`${u} > ${_}`}shouldUseSiblingSelectorEarly(e,t){return!t.skipTextBasedSelector&&window._vwo_textBasedSelectorMode&&window.eventArchEnabled&&t.recursiveCall&&window._vwo_textBasedSelectorV2Mode}getNodeName(e){const t=e.nodeName.toLowerCase(),n=t.match(Or.DANGEROUS_NODE_REGEX);if(!n||n[0]!==t)switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return e.nodeName;default:return"*"}return t}tryCustomAttributeSelector(e,t,n){const o=this.forceKeys;if(!n||!t[o.customAttribute]&&!window._vwo_useAttributeForSelector&&!t.isContainedInBasicOrPastedElement||this.isForceAttributeSelectorRequired(t))return null;const i=t[o.customAttribute]&&t.forceCustomAttributeName||(t.isContainedInBasicOrPastedElement?"vwo-element-id":void 0)||window._vwo_useAttributeForSelector,r=t[o.customAttribute]&&t.forceCustomAttributeValue||(i?e.getAttribute(i):void 0);if(!r)return null;const s=`[${i}='${r}']`;return t[o.customAttribute]||this.verify(s,t)?s:null}shouldUseRecursiveTextBasedSelector(e,t,n){return!t.skipTextBasedSelector&&!t.skipRecursiveTextBasedSelector&&window._vwo_textBasedSelectorMode&&n&&window.eventArchEnabled&&!t.recursiveCall&&e.innerText&&-1===e.innerText.indexOf("<%=")&&window._vwo_textBasedSelectorV2Mode}generateParentPath(e,t,n){const o=e.parentNode||e.host;return t?this.generateCachedShortPath(o):this.generateShortPath(o,t,Object.assign(Object.assign({},n),{recursiveCall:!0,parentLevel:0}))}generateCurrentNodePath(e,t,n,o){let i=0;for(let t=e;t;t=t.previousSibling)(e.nodeName===t.nodeName||n&&t.nodeType===Node.ELEMENT_NODE)&&i++;return t+(n?":nth-child(":":nth-of-type(")+i+")"}handleSlotAssignment(e,t){return e.assignedSlot&&document.contains(e.assignedSlot)?` slot > ${t}`:t}isSpecialUrlCase(){return window.location&&-1!==window.location.href.indexOf("https://quote.cignaglobal.com/s/")||!1}handleSpecialUrlCase(e,t,n){let o=n;if(e.assignedSlot&&(o=" slot > #assignElements()"),e.shadowRoot&&-1===o.indexOf("#document-fragment:nth-child(1)")&&(o=`${o} > #document-fragment:nth-child(1)`),t&&"string"==typeof t){const e=t.split(">").map((e=>e.trim()));if("#document-fragment:nth-child(1)"===e[e.length-1]&&"#document-fragment:nth-child(1)"===o)return t}return`${t} > ${o}`}isUnstableClass(e){return!1}isForceAttributeSelectorRequired(e){return!!e&&!!(e[this.forceKeys.customAttribute]||e[this.forceKeys.id]||e[this.forceKeys.class])}shouldUseSiblingSelector(e,t){return null}shouldUseIdSelector(e,t,n,o){const i=e.getAttribute("id");return!(e.getRootNode()instanceof ShadowRoot)&&t[this.forceKeys.id]||(!n._vwo_noIdMode||t.isContainedInWidget)&&i&&(!o||!o.test(i))&&!Or.EXCLUDED_NODE_NAMES.test(e.nodeName)&&!(n._vwo_noDynamicIdMode&&this.isDynamicId(i))&&this.verify("#"+i,t)&&!this.isForceAttributeSelectorRequired(t)}shouldUseClassSelector(e,t,n){if(!!(e.getRootNode()instanceof ShadowRoot)||!e.hasAttribute||!t[this.forceKeys.class]&&(!e.hasAttribute("class")||n._vwo_noClassMode||t.isContainedInWidget||t.isContainedInBasicAddElement)||this.isForceAttributeSelectorRequired(t))return null;const o=e.getAttribute("class").split(/\s+/),i="string"==typeof t.dClassVal?o.filter((e=>{const n=this.createRegex(t.dClassVal);return!this.isVwoClass(e)&&!this.isUnstableClass(e)&&Or.VALID_CLASS_NAME_REGEX.test(e)&&(!n||!n.test(e))})):o.filter((e=>!this.isVwoClass(e)&&!this.isUnstableClass(e)&&Or.VALID_CLASS_NAME_REGEX.test(e)));for(const e of i)if(t.forceClassSelector||this.verify(e,t,"class")&&!this.isDynamicClass(e))return"."+this.escapeCSS(e);if(i.length>0){const e=i.map((e=>this.escapeCSS(e))),n="."+e.join(".");if(t.forceClassSelector||this.verify(n,t)&&!this.isDynamicClass(e.join(".")))return n}return null}generateCachedShortPath(e,t){return e?e._vwoCachedShortPath?e._vwoCachedShortPath:e._vwoCachedShortPath=this.generateShortPath(e,!0,t):null}verify(e,t,n){try{const o=t.documentRootNode||document;return"class"===n?!!t._vwo_skipUniqueElementsCheck||1===o.getElementsByClassName(e).length:1===o.querySelectorAll(e).length}catch(e){return!1}}}function Er(e,t){if(e){var n,o="."+e,i=window.vwo_$;if((t=t||{})[e])return!1;try{n=i(o)}catch(e){n=""}return 1===n.length||(t[e]=!0,!1)}}function Sr(e){if(e){var t,n=window.vwo_$;try{t=n("#"+e)}catch(e){t=""}return t.length}}function Tr(e){if(e.previousElementSibling)return e.previousElementSibling;for(;e=e.previousSibling;)if(1===e.nodeType)return e}function Cr(e,t){if(!e)return null;if(e===document)return"#document";t=t||{};var n,o,i,r,s,a=e,c=[],d=e.tagName,l=window.vwo_$;if(e===document.body||e===document.head)return d;for(;e;){n=(d="undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?"shadow-root":e.tagName)&&d.match(/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/),d&&n&&(n&&n[0])===d||(d="*");const w=["INPUT","SELECT"].indexOf(e.tagName)>-1;try{o=l(e).attr("id")}catch(a){o=e.id}w&&e.name?d=d+'[name="'+e.name+'"]':o&&"string"==typeof o&&Sr(o)&&(d=o.match(/^\d/)?d+'[id="'+o+'"]':d+"#"+o),i=(i=e.getAttribute&&e.getAttribute("class"))?i.split(/\s+/):[];for(var u=0;u<i.length;u++)if(s="."+(r=i[u]),Er(r,t)){d+=s;break}c.unshift(d),e=Tr(e)}return-1!==c[0].indexOf("#")||a.parentNode&&"HEAD"===a.parentNode.nodeName||a.host||(c[0]+=":first-child"),Cr("undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&a.host?a.host:a.parentNode,t)+" > "+c.join(" + ")}function Ir(e,t){return Math.round(e/t*100)}function yr(){const e=document.querySelector("._vwo_scroll_fix"),t=e||document.documentElement,n=(null==e?void 0:e.scrollTop)||window.scrollY||window.pageYOffset,o=(null==e?void 0:e.scrollLeft)||window.scrollX||window.pageXOffset,i=t.scrollHeight,r=t.scrollWidth,s=window.innerHeight,a=window.innerWidth,c=n+s,d=Ir(c,i),l=o+a;return{xScrollPercent:Ir(l,r),yScrollPercent:d,absXScroll:l,absYScroll:c,contentWidth:r,contentHeight:i,scrollTop:n}}var Ar;Or.EXCLUDED_KEY_STRINGS=["data-user-id","data-kriti-","data-user-name","data-user-email","data-customer-logged-in","data-session-id","data-cart-id","data-timestamp","data-date","data-time","data-order-number","data-product-id","data-token","data-api-key","data-ga-","data-gtm-","data-utm-","data-tracking-id","data-session-count","data-page-view","data-locale","data-language","data-currency","data-region","data-experiment-id","data-variant-id","data-personalization-id","data-ab-test-group"],Or.EXCLUDED_ATTR_VALUES_REGEX=/^(1|0|true|false|self|logged-in|log)$/,Or.EXCLUDED_ATTR_KEYS_REGEX=new RegExp(`^(${Or.EXCLUDED_KEY_STRINGS.join("|")})`),Or.DATA_SELECTOR_CHECK=/^data-(.+)/,Or.VALID_CLASS_NAME_REGEX=/^[^:]+$/,Or.DANGEROUS_NODE_REGEX=/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,Or.EXCLUDED_NODE_NAMES=/base|link|meta|style|iframe|script|noscript/gi,Or.DEFAULT_EXCLUDE_CLASSES_REGEX="(^elementor-)|elementor-|(^active)|active|(^sc-)|(^pf-)|(^__pf)",Or.RE_DYNAMIC_ATTRIBUTE_1=/[a-z]+[_-]?([0-9_-]){2,}$/,Or.RE_DYNAMIC_ATTRIBUTE_2=/[0-9a-z]{5,}/gi,Or.RE_DYNAMIC_ID_1=/[a-z]+[_-]?([0-9_-]){2,}$/,Or.RE_DYNAMIC_ID_2=/[0-9a-f]{5,}/gi,Or.RE_DYNAMIC_ID_FOR_ADDED_WIDGET=/(vwo-widget-)[0-9]{2,}/gi,Or.RE_DYNAMIC_CLASS_1=/[a-z]+[_-][0-9_-]{4,}/gi,Or.RE_HOVER_CLASS=/hover/gi,function(e){e[e.SCHEDULE_CALLBACK=0]="SCHEDULE_CALLBACK",e[e.REQUEST_IDLE_CALLBACK=1]="REQUEST_IDLE_CALLBACK",e[e.REQUEST_ANIMATION_FRAME=2]="REQUEST_ANIMATION_FRAME",e[e.QUEUE_MICROTASK=3]="QUEUE_MICROTASK",e[e.SET_TIMEOUT=4]="SET_TIMEOUT"}(Ar||(Ar={}));const br={[Ar.SCHEDULE_CALLBACK]:{doesThisMethodExist:"function"==typeof u((()=>window.scheduler.yield)),defer:e=>window.scheduler.yield().then((()=>e()))},[Ar.REQUEST_IDLE_CALLBACK]:{doesThisMethodExist:"function"==typeof requestIdleCallback,defer:(e,t=200)=>requestIdleCallback(e,{timeout:t})},[Ar.QUEUE_MICROTASK]:{doesThisMethodExist:"function"==typeof queueMicrotask,defer:e=>queueMicrotask(e)},[Ar.REQUEST_ANIMATION_FRAME]:{doesThisMethodExist:"function"==typeof requestAnimationFrame,defer:e=>requestAnimationFrame(e)},[Ar.SET_TIMEOUT]:{doesThisMethodExist:!0,defer:(e,t=0)=>setTimeout(e,t)}},Vr=(e,{timeout:t=100,type:n=Ar.REQUEST_IDLE_CALLBACK,fallbackType:o}={})=>{const i=br[n]||br[o];if(i&&i.doesThisMethodExist)return i.defer(e,t);br[Ar.SET_TIMEOUT].defer(e,t)},Nr=new Or;function Rr(e){const t=u((()=>window.VWO._.allSettings.dataStore.plugins.DACDNCONFIG.sConfig))||{};return u((()=>Nr.generateShortPath(e,!1,Object.assign({},t))),{sendErrorLog:!0,msg:"error while generating short selector path",url:window.location.href},"")}function Lr(e){return u((()=>e.tagName.toLowerCase()),null,"")}function Wr(e){return u((()=>vwo_$(e).attr("placeholder")))}function Pr(e){const{scrollTop:t,contentHeight:n}=u(yr,null,{scrollTop:0,contentHeight:0});return Ir(u((()=>e.getBoundingClientRect().top+t),null,0),n)}function Dr(e){const t=vwo_$(e);return u((()=>t.closest("form").get(0)))||u((()=>t.parent().get(0)))}function xr(e){const t=u((()=>e.id));if(!t)return;const n=Dr(e);if(!n)return;const o=vwo_$(n),i=u((()=>o.find(`label[for="${t}"]`).get(0)));return i?u((()=>{var e;return null===(e=i.textContent)||void 0===e?void 0:e.trim()})):void 0}function Ur(e){const t=vwo_$(e.target).get(0);return{sPath:Rr(t),tag:Lr(t),ph:Wr(t),scrDp:Pr(t),label:xr(t)}}function Mr(e,t){const n=(e=-1,t="")=>{switch(e){case 0:return Nt.logWarningAndReportError(Vt.EMPTY_EVENT);case 1:return console.warn(Vt.EVENT_MORE_THAN_LIMIT);case 2:return Nt.logWarningAndReportError(`Invalid event name: '${t}' is not allowed as an event name!`);default:return Nt.logWarningAndReportError(Vt.EVENT_NOT_STRING)}};if("string"!=typeof e)return n();if(!(e=e.trim()))return n(0);const o=e;if(!(e=Nt.filterEventName(e)))return n(2,o);e.length>40&&(n(1),e=e.slice(0,40));const i=Nt.filterAttributeObjectKeys(t);return i?{eventName:e,filteredAttributeObject:i}:void 0}function kr(e,t,n){const o=window.VWO;switch(e.toLowerCase()){case"tags":o.phoenix.tags.add(t,n.fn);break;case"operators":o.phoenix.operators.add(n.fn);break;case"storages":o.phoenix.storages.add(n);break;case"store":o.phoenix.store.actions.addValues(n)}}window.VWO.modules.utils.getClickMetadata=Ur;class Gr{constructor(e){if(this.state="loading",this.preInitializedEventHooks={},this.getPerformanceEntries=On,this.getCrossDomainInfo=hn,this.getGlbVar=gr,this.visitorConfig=(()=>{const e=new Promise((e=>{const t=window.VWO._.destroySession;"function"==typeof t?e(t):window.VWO._.destroySession=t=>{e(t)}})).then((e=>(delete window.VWO._.destroySession,e)));return{destroySession(){return v(this,void 0,void 0,(function*(){(yield e)()}))},getInfo(){const e=u((()=>window.VWO._.allSettings.dataStore.plugins.GEO))||{};return delete e.vn,{loc:e}}}})(),e instanceof Gr)return void Object.keys(e).forEach((t=>{this[t]=e[t]}));this.queue=e.slice(),this._=e._||{},this._.defer=Vr,this._.isWorkerThread=!1,this.nonce=e.nonce,Object.defineProperty(this,"modules",{value:e.modules,enumerable:!1,configurable:!1}),this.vars=e.vars||{},this.sTs=e.sTs,this.data=e.data||{},this.cookiePrefix=e.cookiePrefix,this.TRACK_SESSION_COOKIE_EXPIRY_CUSTOM=e.TRACK_SESSION_COOKIE_EXPIRY_CUSTOM,this.onEventReceive=e.onEventReceive,this.onVariationApplied=e.onVariationApplied,this.onVWOLoaded=e.onVWOLoaded,this.onVariationShownSent=e.onVariationShownSent,this.optOut=Et,this.init=e.init,this.consentMode=e.consentMode,this.ssMeta=e.ssMeta,this.preInitializedEventHooks=e.event||{},this.addPreHook=e=>{this.preInitializedEventHooks?(this.preInitializedEventHooks.preHookList=this.preInitializedEventHooks.preHookList||[],this.preInitializedEventHooks.preHookList.push(e)):this.event.addPreHook(e)},this.addPostHook=e=>{this.preInitializedEventHooks?(this.preInitializedEventHooks.postHookList=this.preInitializedEventHooks.postHookList||[],this.preInitializedEventHooks.postHookList.push(e)):this.event.addPostHook(e)},this.setVariation=nt,this.optInVisitor=yt,this.optOutVisitor=At,this.get=pi.get,this.load_co=e.load_co,this.dctags=e.dctags,this._.eventStore=ar,this.tag=e.tag,this.v_e=e.v_e,this.v=e.v;let t=0;for(const e of this.queue)this[t]=e,t++;this.length=this.queue.length}config(e){return e&&(this.configSettings=e),this.configSettings}definePlugin(e,t={}){const n=e.split(".")[0],o=e.split(".")[1],i=window.VWO;i.phoenix?kr(n,o,t):(i.pluginStorage=i.pluginStorage||{},i.pluginStorage[n]=i.pluginStorage[n]||{},o?(i.pluginStorage[n][o]=i.pluginStorage[n][o]||{},i.pluginStorage[n][o]=A.mergeNestedObjects(i.pluginStorage[n][o],t)):i.pluginStorage[n]=A.mergeNestedObjects(i.pluginStorage[n],t))}addPhoenix(e){this.event=function(e,t,n){var o,i;const r=Mr(e,t=t||{});if(!r)return;let s=null;m(n)&&("function"==typeof n.cb&&(s=n.cb),delete n.cb,r.filteredAttributeObject.$metaData=n);const a=mr({eventName:r.eventName,properties:Object.assign(Object.assign({},r.filteredAttributeObject),{page:gn.page})});(null===(o=window._vwoCc)||void 0===o?void 0:o.delayCustomGoal)?(null===(i=window.VWO._.phoenixMT.getEventHistory("vwo_campaignsLoaded"))||void 0===i?void 0:i.length)>0?this.otherSide("event",[r.eventName,r.filteredAttributeObject,s]):window.VWO._.phoenixMT.on("vwo_campaignsLoaded",(()=>this.otherSide("event",[r.eventName,r.filteredAttributeObject,s,a]))):this.otherSide("event",[r.eventName,r.filteredAttributeObject,s,a])},Mt.init(this,this.preInitializedEventHooks),delete this.preInitializedEventHooks,this._.event=function(e,t,n){(u((()=>!!window.VWO._.allSettings.dataStore.plugins.DACDNCONFIG.debugEvt))||e===j.DEBUG_EVENT)&&(t=t||{},(null==n?void 0:n.enableLogs)&&l({msg:t.type,url:window.location.href,source:window.VWO._.native.JSON.stringify(t)}),Pi(e,t))},this.visitor=function(e,t,n={dAR:!0}){if(!e)return;const o=Nt.filterAttributeObjectKeys(e);if(o&&(!fo||!n.dAR||(Object.keys(o).forEach((e=>{window.VWO.getVisitorProps(e)===o[e]&&delete o[e]})),0!==Object.keys(o).length))){for(const t in o)Object.prototype.hasOwnProperty.call(e,t)&&(window.VWO.attributesData=window.VWO.attributesData||{},window.VWO.attributesData[t]=o[t]);m(t)&&(o.$metaData=t),this.otherSide("visitor",[o])}},this.syncAttributes=function(){this.otherSide("syncAttributes",[])},this.syncEvents=function(){this.otherSide("syncEvents",[])},this.phoenix=e}splice(...e){const t=this.queue.splice.apply(this.queue,e);return this.length=this.queue.length,t}push(...e){const t=this.queue.push.apply(this.queue,e);return this.length=this.queue.length,this[this.length-1]=this.queue[this.queue.length-1],t}sort(...e){return this.queue.sort.apply(this.queue,e)}updateSettings(e,t){var n;const o=e.tags;Object.keys(o).forEach((e=>{o[e].fn=V(o[e].fn)})),window.VWO._.isSettingsLoaded=!0,window.VWO._.allSettings.triggers=Object.assign(Object.assign({},window.VWO._.allSettings.triggers),e.triggers),window.VWO._.allSettings.stags=Object.assign(Object.assign({},window.VWO._.allSettings.stags),e.stags);const i=window.VWO._.allSettings.dataStore.changeSets||{},r=(null===(n=e.dataStore)||void 0===n?void 0:n.changeSets)||{};for(var s in Object.assign(i,r),e.tags)window.VWO._.allSettings.tags[s]||(window.VWO._.allSettings.tags[s]=e.tags[s]);this.pageGroup.add(e.pages,e.pagesEval);const a=e.dataStore.plugins.PIICONFIG;a&&(window.VWO._.allSettings.dataStore.plugins.PIICONFIG={globalBlacklist:a.GBBL,queryParamSettings:window.VWO._.native.JSON.parse(a.QPS),globalValueRegex:a.GVR}),delete window.VWO._.goalsToBeConvertedSynchronously,window.VWO._.phoenixMT.trigger("updateSettingSuccess");const c=!!b(window.VWO._.track).length;window.fetcher.setValue("window.VWO.sTs",window.VWO.sTs),gi.setThirdPartyCookiesForApplicableCamps(),this.otherSide("updateSettings",[c,e,t])}otherSide(...e){e[0]="VWO."+e[0],window.fetcher.getValue(...e)}}const Fr={TRACK_SESSION_CREATED:"tSC",RETRACK_VISITOR:"rV",NEW_SESSION_CREATED:"nSC",TOP_INITIALIZE_BEGIN:"tIB",TOP_INITIALIZE_ERROR:"tIE",TOP_INITIALIZE_END:"tIEn",UNHIDE_ALL_VARIATIONS:"uAV",UNHIDE_VARIATION:"uV",UNHIDE_SECTION:"uS",EXCLUDE_URL:"eURL",BEFORE_REDIRECT_TO_URL:"bRTR",URL_CHANGED:"uC",NOT_REDIRECTING:"nR",REGISTER_HIT:"rH",UPDATE_SETTINGS_CALL:"uSC",REGISTER_CONVERSION:"rC",CONVERT_ALL_VISIT_GOALS_FOR_EXPERIMENT:"cAVGFE",CONVERT_REVENUE_GOALS_FOR_EXPERIMENT:"cRGFE",HIDE_ELEMENTS:"hE",POST_URL_CHANGE:"hC",AFTER_SAMPLING_TRIGGER:"sT",ELEMENT_LOAD_ERROR:"eLTTE",ELEMENT_LOAD_TIMER_STOP:"eLTSt",CHOOSE_COMBINATION:"cC",BOTTOM_INITIALIZE_BEGIN:"bIB",BOTTOM_INITIALIZE_END:"bIE",ELEMENT_LOADED:"eL",ELEMENT_NOT_LOADED:"eNL",SPLIT_URL:"sURL",MATCH_WILDCARD:"mW",DELETE_CSS_RULE:"dCSSR",HEATMAP_CLICK:"hCl",CONVERT_GOAL_FOR_ALL_EXPERIMENTS:"cGFAE",TEST_NOT_RUNNING:"tNR",EXCLUDE_GOAL_URL:"eGURL",VARIATION_SHOWN:"vS",VARIATION_SHOWN_SENT:"vSS",RECORDING_NOT_ELIGIBLE:"rNE",VARIATION_APPLIED:"vA",VARIATION_APPLIED_ERROR:"vAE",NEW_SURVEY_FOUND:"nSF",ELEMENT_CHANGES_APPLIED:"eCA",SEGMENTATION_EVALUATED:"sE",SEGMENTATION_FAILED:"sF",ELEMENTS_SHOWN_WITHOUT_CHANGES:"eSWC",OPT_OUT:"oO",TRACK_NEW_SESSION_CREATED:"tnSC",ACTIVATE_API_TRIGGERED:"aAT",COOKIE_CONSENT_DENIED:"cCD",COOKIE_CONSENT_ACCEPTED:"cCA",COOKIE_CONSENT_REJECTED:"cCR",COOKIE_CONSENT_TIMEOUT:"cCT",DOM_CLICK:"vwo_dom_click"},$r={[j.VARIATION_SHOWN]:"VARIATION_SHOWN",[j.SPLIT_VARIATION_SHOWN]:"VARIATION_SHOWN",[j.VARIATION_APPLIED]:"VARIATION_APPLIED",[j.VARIATION_APPLIED_ERROR]:"VARIATION_APPLIED_ERROR",[j.ELEMENT_CHANGES_APPLIED]:"ELEMENT_CHANGES_APPLIED",[j.REGISTER_CONVERSION]:"REGISTER_CONVERSION",[j.VWO_EXECUTED]:"VWO_EXECUTED",[j.VARIATION_SHOWN_SENT]:"VARIATION_SHOWN_SENT",[j.ACTIVATE_API_TRIGGERED]:"ACTIVATE_API_TRIGGERED",[j.COOKIE_CONSENT_REJECTED]:"COOKIE_CONSENT_REJECTED",[j.COOKIE_CONSENT_ACCEPTED]:"COOKIE_CONSENT_ACCEPTED",[j.COOKIE_CONSENT_TIMEOUT]:"COOKIE_CONSENT_TIMEOUT",sE:"SEGMENTATION_EVALUATED",sF:"SEGMENTATION_FAILED",eSWC:"ELEMENTS_SHOWN_WITHOUT_CHANGES",tNR:"TEST_NOT_RUNNING",hC:"POST_URL_CHANGE",sT:"AFTER_SAMPLING_TRIGGER",[j.NEW_SESSION_CREATED]:"NEW_SESSION_CREATED",cFS:"TOP_INITIALIZE_BEGIN",cGFAE:"CONVERT_GOAL_FOR_ALL_EXPERIMENTS",hCl:"HEATMAP_CLICK",eGURL:"EXCLUDE_GOAL_URL",cAVGFE:"CONVERT_ALL_VISIT_GOALS_FOR_EXPERIMENT",cFE:"TOP_INITIALIZE_END",uAV:"UNHIDE_ALL_VARIATIONS",uS:"UNHIDE_SECTION",shouldExecLib:"TOP_INITIALIZE_ERROR",eURL:"EXCLUDE_URL",cRGFE:"CONVERT_REVENUE_GOALS_FOR_EXPERIMENT",bRTR:"BEFORE_REDIRECT_TO_URL",uC:"URL_CHANGED",hE:"HIDE_ELEMENTS",eLTTE:"ELEMENT_LOAD_ERROR",eLTSt:"ELEMENT_LOAD_TIMER_STOP",cC:"CHOOSE_COMBINATION",sAC:"BOTTOM_INITIALIZE_BEGIN",uSC:"UPDATE_SETTINGS_CALL",eAC:"BOTTOM_INITIALIZE_END",eL:"ELEMENT_LOADED",eNL:"ELEMENT_NOT_LOADED",registerHit:"REGISTER_HIT",mW:"MATCH_WILDCARD",dCSSR:"DELETE_CSS_RULE",sURL:"SPLIT_URL",nSF:"NEW_SURVEY_FOUND",oO:"OPT_OUT",vwo_goalConversionFailed:"GOAL_CONVERSION_FAILED",[j.RETRACK_VISITOR]:"RETRACK_VISITOR"},jr={[j.VARIATION_SHOWN]:function(e){return[e.id+"",e.variation]}};var Br=function(){},Hr=[],Kr=[],qr=[],Jr=[],Xr=window._vwo_evq=window._vwo_evq||[];window.VWO=window.VWO||[],window.VWO._=window.VWO._||{};var Yr=function(e,t){t.e===e[0]&&t.c.apply(this,[e])},zr=function(e,t){[1033234].includes(window._vwo_acc_id)&&ee.deferOnConsent("processVariationAppliedCallback",this,zr,this,null,null,e,t)||t.e&&t.e!==e[1]||t.v&&t.v!==e[2]||t.c.apply(this,[e])},Qr=function(e,t){t.c&&t.c.apply(this,[e[1]])},Zr=function(e){for(var t=0;t<qr.length;t++)Yr(e,qr[t]);if(e[0]===j.TRACK_SESSION_CREATED&&!0===e[4]&&window.VWO.phoenix('trigger("${{1}}")',null,{captureGroups:[j.TRACK_NEW_SESSION_CREATED]}),"rH"===e[0]||"vS"===e[0])for(t=0;t<Hr.length;t++)zr(e,Hr[t]);if(e[0]===j.VWO_EXECUTED)for(t=0;t<Kr.length;t++)Qr(e,Kr[t]);if(e[0]===Fr.VARIATION_SHOWN_SENT)for(const t of Jr)zr(e,t)},es=Xr.push;Xr.push=function(){var e=arguments[0];Zr(e),es.apply(Xr,[].slice.call(arguments))};var ts=Xr.unshift;Xr.unshift=function(){var e=arguments[0];Zr(e),ts.apply(Xr,[].slice.call(arguments))};const ns={onVWOLoaded:function(e){var t={c:e=e||Br};Kr.push(t);for(var n=0;n<Xr.length;n++)Xr[n][0]===j.VWO_EXECUTED&&Qr(Xr[n],t)},onVariationShownSent:function(e,t,n){"function"==typeof e&&(n=e,e=null,t=null);var o={e:e,v:t,c:n=n||Br};Jr.push(o);for(const e of Xr)e[0]===Fr.VARIATION_SHOWN_SENT&&zr(e,o)},onVariationApplied:function(e,t,n){"function"==typeof e&&(n=e,e=null,t=null);var o={e:e,v:t,c:n=n||Br};Hr.push(o);for(var i=0;i<Xr.length;i++)"rH"!==Xr[i][0]&&"vS"!==Xr[i][0]||zr(Xr[i],o)},onEventReceive:function(e,t){if(!e)throw new Error("Invalid eventName:"+e);var n={e:e,c:t=t||Br};qr.push(n);for(var o=0;o<Xr.length;o++)Yr(Xr[o],n)}};for(var os in ns)ns.hasOwnProperty(os)&&(window.VWO[os]=ns[os]);function is(e,t){for(const n in e)if("SURVEY"===e[n].type){(!e[n].survey||0===Object.keys(e[n].survey).length&&e[n].survey.constructor===Object)&&c.warn(`Survey settings unavailable for account: ${window._vwo_acc_id} and campaign: ${n}`);for(const o in e[n].survey)window._vwo_surveySettings=window._vwo_surveySettings||{},window._vwo_surveySettings[o]=e[n].survey[o],t&&t[n]&&(window._vwo_surveySettings[o].debug=t[n].debug.su)}}function rs(){const e=window.VWO;e.nls&&(e.nls.stopRecording="permanent"),e.survey&&(e.survey.stopCollectingData=!0)}function ss(){ae._.commonUtil=Ge,ae._.utils=Go,ae._.customEvent=G,ae._.listener=ns,ae._.libUtils=gi,ae._.CookieEnum=Be}window.VWO.modules.otherLibDeps.storeSurveyDataInVWOSurveySettings=is,window.VWO.modules.otherLibDeps.stopAnalyzeAndSurvey=rs,window.VWO.modules.otherLibDeps.setOtherLibrariesDepsMT=ss,window.VWO._.EventsEnum=Fr,window.VWO._.SyncableEventsEnum=Lt;const as=function(e){var t,n,o,i,r,s,a,c,d,l,w,_,g,p,h,v,f,m,O,E,S;const T=null===(t=window.VWO._.allSettings.dataStore)||void 0===t?void 0:t.plugins;if(!T)return;const C=null==T?void 0:T.DACDNCONFIG;e._.ac=e._.ac||{},e.data.pc=e.data.pc||(null===(o=null===(n=e.data)||void 0===n?void 0:n.accountJSInfo)||void 0===o?void 0:o.pc),e.data.rp=e.data.rp||(null===(r=null===(i=e.data)||void 0===i?void 0:i.accountJSInfo)||void 0===r?void 0:r.rp),e.data.ts=null===(a=null===(s=e.data)||void 0===s?void 0:s.accountJSInfo)||void 0===a?void 0:a.ts,e.data.url=null===(d=null===(c=e.data)||void 0===c?void 0:c.accountJSInfo)||void 0===d?void 0:d.url,e.data.frn=null===(w=null===(l=e.data)||void 0===l?void 0:l.accountJSInfo)||void 0===w?void 0:w.frn,e.data.noSS=null===(_=e.data.accountJSInfo)||void 0===_?void 0:_.noSS,e.DONT_IOS=null==C?void 0:C.DONT_IOS,e.data.sst=null==C?void 0:C.SST,e._.sstd=null===(g=null==C?void 0:C.SST)||void 0===g?void 0:g.SSTD,e._.ac.it=null===(p=null==C?void 0:C.SD)||void 0===p?void 0:p.it,e._.ac.uct=null===(h=null==C?void 0:C.SD)||void 0===h?void 0:h.uct,e._.ac.rdbg=null==C?void 0:C.RDBG,e.data.fB=null==C?void 0:C.FB,e._.SPA_SETTINGS_DELAY=+(null===(v=null==C?void 0:C.SD)||void 0===v?void 0:v.IT)||0,e._.SPA_NEW_PAGE_SETTINGS_DELAY=+(null===(f=null==C?void 0:C.SD)||void 0===f?void 0:f.UCT)||0,e._.isSpaEnabled=null==C?void 0:C.SPA,e._.ac.eNC=null==C?void 0:C.eNC,e._.ac.cInstJS=null==C?void 0:C.CINSTJS,e._.ac.bsECJ=null==C?void 0:C.BSECJ,e._.ac.cURCF=null==C?void 0:C.cURCF,e._.ast=null==C?void 0:C.AST,e.featureInfo=(null==C?void 0:C.jsConfig)||{},window._vwo_clicks=window._vwo_clicks||(null==C?void 0:C.HEATMAPCLICKS),e.data.cj={bc:null===(m=null==C?void 0:C.CJ)||void 0===m?void 0:m.BC,s:null===(O=null==C?void 0:C.CJ)||void 0===O?void 0:O.S},e._.ac.eNC=null==C?void 0:C.eNC,e._.ac.cSHS=!(null===(E=window._vwoCc)||void 0===E?void 0:E.syncServerUrl)&&((null==C?void 0:C.CSHS)||(null===(S=null==C?void 0:C.jsConfig)||void 0===S?void 0:S.histEnabled)),e._.ac.uCP=null==C?void 0:C.UCP,e._.ac.iAF=null==C?void 0:C.IAF,e._.ac.PRTHD=null==C?void 0:C.PRTHD,e._.ac.hIF=u((()=>C.jsConfig.hIF)),e.data.mrp=u((()=>C.jsConfig.mrp))};let cs;const ds={test:e=>{var t;return cs=null===(t=window.VWO)||void 0===t?void 0:t.phoenix,window.workerThread&&cs&&e===cs.store.getters},transformer:function(e){return e===cs.store.getters.settings.campaigns||e===cs.store.getters.allSettings.dataStore.campaigns?"vwojFnGPlugCamp":e===cs.store.getters.allSettings?"vwojFnGPlugAllSet":e},parse:(e,t)=>{if("vwojFnGPlugCamp"===t)return window._vwo_exp;if("vwojFnGPlugAllSet"===t){const e=Object.assign({},window.VWO._.allSettings);return delete e.triggers,delete e.tags,e}return t}},ls=[ds],us={stringify:function(e,t,n){try{return window.VWO._.native.JSON.stringify(e,(function(e,o){if(!n){const e=ls.filter((e=>e.test(o)));if(e.length>0){const n=t=>e.reduce(((e,t)=>t.transformer(e)),t);return window.VWO._.native.JSON.parse(us.stringify(o,t,n))}}n&&(o=n(o));const i=e?this:t;var r;return o instanceof Function||"function"==typeof o?o.type==="vwoWrappedFn_"+(window.mainThread?"WT":"MT")?"_NuPreW"+o.name.slice(0,o.name.indexOf("_")+1):(r=o.toString()).length<8||"function"!==r.substring(0,8)?"_NuFrRa"+window.functionWrapper.wrap(o,i)+"_":"_NuFrNf"+window.functionWrapper.wrap(o,i)+"_":o instanceof RegExp?"_PxEgEr_"+o:o}))}catch(e){return l({msg:"JSONfn.stringify failed!",url:"jsonFn.ts",source:e}),""}},parse:function(e,t){if(!e)return e;function n(e){const t=e+"_wrappedFn",n={[t](...t){const n={type:"callWrappedFunction",id:e,args:us.stringify(t)};return window.fetcher.request(n).send()}}[t];return n.type="vwoWrappedFn_"+(window.mainThread?"WT":"MT"),n}const o=!!t&&/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/;return window.VWO._.native.JSON.parse(e,(function(e,t){for(const n of ls)t=n.parse(e,t);var i;if("string"!=typeof t)return t;if(t.length<8)return t;if(i=t.substring(0,7),o&&t.match(o))return new Date(t);if("_NuPreW"===i){const e=t.match(/_NuPreW([0-9]*)_/)[1];return window.functionWrapper.unwrap(e)}if("_NuFrNf"===i){const e=t.match(/_NuFrNf([0-9]*)_/)[1];return n(e)}if("_PxEgEr"===i)return eval(t.slice(8));if("_NuFrRa"===i){const e=+t.match(/_NuFrRa([0-9]*)_/)[1];return n(e)}return t}))},clone:function(e,t){return this.parse(this.stringify(e),t)}};let ws=0;const _s={},gs={};function ps(e,t,n){var o;const i=this.postMessage.bind(this);if("response"===(null===(o=e)||void 0===o?void 0:o.type)){const t=e;return{resolve:function(e){let n=t.encapsulatedData;const o=t.isErrorPresent;n&&(n="function"==typeof e?e(t.encapsulatedData):t.encapsulatedData),o?gs[t.twoWayCommId](n):_s[t.twoWayCommId](n)}}}{const o={type:"response",encapsulatedData:e,twoWayCommId:t,isErrorPresent:n};return{send:function(){try{return i(o),!0}catch(e){return!1}}}}}function hs(e){var t;if(this.sendingLayer=this.postMessage,"request"===(null===(t=e)||void 0===t?void 0:t.type)){const t=e,n=t.encapsulatedData;return{resolve:e=>v(this,void 0,void 0,(function*(){try{const o=yield e(n);return ps.call(this,o,t.twoWayCommId).send(),!0}catch(e){const n=us.stringify(e.message);return ps.call(this,n,t.twoWayCommId,!0).send(),!1}}))}}{const t={type:"request",encapsulatedData:e,twoWayCommId:++ws};return{send:()=>new Promise(((e,n)=>{try{_s[t.twoWayCommId]=e,gs[t.twoWayCommId]=n,this.sendingLayer(t)}catch(e){console.log(e),n(e)}}))}}}class vs{constructor(){this.masterObject={}}static isObject(e){return"object"==typeof e&&!Array.isArray(e)&&null!==e}static createProxy(e,t,n){if(e.__isProxy||!this.isObject(e))return e;const o=e;return Object.defineProperty(o,"__transferData",{value:!0,enumerable:!1,writable:!0}),new Proxy(o,{set:(e,o,i)=>{if("__isProxy"===o||e[o]===i)return!0;if(typeof e[o]==typeof i&&"function"!=typeof i&&window.VWO._.native.JSON.stringify(i)===window.VWO._.native.JSON.stringify(e[o]))return!0;if(this.isObject(i)?e[o]=this.proxify(i,t,n+o.toString()+"."):e[o]=i,"__transferData"===o||!e.__transferData)return!0;const r={path:n+o.toString()+".",value:i};return r.value=us.stringify(i,e),t({type:"sync",data:r,syncType:$.Object}),!0},get:(e,t)=>"__isProxy"===t||e[t],deleteProperty:(e,o)=>{if(o in e){if(delete e[o],!e.__transferData)return!0;const i={path:n.toString(),key:o};t({type:"sync",data:window.VWO._.native.JSON.stringify(i),syncType:$.Delete})}return!0}})}isKey(e){return e in this.masterObject}static proxify(e,t,n){return this.isObject(e)?(Object.keys(null!=e?e:{}).forEach((o=>{this.isObject(e[o])&&(e[o]=this.proxify(e[o],t,n+o+"."))})),this.createProxy(e,t,n)):e}register(e,t,n){t in this.masterObject&&console.error("Key already exists!"),null==e&&(e={});const o=vs.proxify(e,n,t+".");return this.masterObject[t]={proxy:o},o}append(e,t){return t in this.masterObject||console.error("Key doesn't exist!"),window.VWO._.native.JSON.stringify(e)!==window.VWO._.native.JSON.stringify(this.masterObject[t].proxy)&&console.error(`The object doesn't match the object registered under the key ${t}!`),this.masterObject[t].proxy}static getProxy(e,t,n){return this.proxify(e,t,n+".")}static sync(e,t,n,o,i){if(null==e||!e.__isProxy)return e;let r=null,s=n+".";return 1===o.length?(e.__transferData=!1,e[o[0]]=this.proxify(t,i,s+o[0]+"."),e.__transferData=!0,e):(r=e[o[0]],o.forEach(((e,t)=>{s+=e+".",0!==t&&t!==o.length-1&&(e in r||(r.__transferData=!1,r[e]=this.proxify({},i,s),r.__transferData=!0),r=r[e])})),r.__transferData=!1,r[o.pop()]=this.proxify(t,i,s),r.__transferData=!0,e)}}class fs{static register(e,t){var n,o,i;switch(e){case"cookie":if(this.internalUtils.isKeyNonConfigurable("cookie")||(null===(i=null===(o=null===(n=window.VWO._.allSettings.dataStore)||void 0===n?void 0:n.plugins)||void 0===o?void 0:o.DACDNCONFIG)||void 0===i?void 0:i.ckFbk))return se.enable();default:this.registerProperty(e,t)}}static registerProperty(e,t){if(document){if(e in window.document){let n;if(n=Object.getOwnPropertyDescriptor(window.document,e)||Object.getOwnPropertyDescriptor(window.Document.prototype,e)||Object.getOwnPropertyDescriptor(window.HTMLDocument.prototype,e),!n)return se.enable();const o={enumerable:n.enumerable,configurable:n.configurable,get:()=>document["__"+e],set:this.internalUtils.getSetter(e,t)};Object.defineProperty(window.document,"__"+e,n),Object.defineProperty(window.document,e,o),Object.defineProperty(window.Document.prototype,e,o),Object.defineProperty(window.HTMLDocument.prototype,e,o)}}else console.error("The property doesn't exist on the `DOCUMENT` object.")}static sync({propertyName:e,value:t}){if("cookie"===e)return se.isEnabled()?se.applySyncRequest(t):re(t);document[e]=t}}fs.internalUtils={getSetter:(e,t)=>{switch(e){case"cookie":return(new ie).getSetter(t);default:return n=>(window.VWO._.native.JSON.stringify(document["__"+e])===window.VWO._.native.JSON.stringify(n)||(document["__"+e]=n,t({type:"sync",data:{propertyName:e,value:document["__"+e]},syncType:$.Document})),!0)}},isKeyNonConfigurable:e=>{var t,n,o;const i=[document,null===(t=null===window||void 0===window?void 0:window.Document)||void 0===t?void 0:t.prototype,null===(n=null===window||void 0===window?void 0:window.HTMLDocument)||void 0===n?void 0:n.prototype];for(let t=0;t<i.length;t++)if(!1===(null===(o=Object.getOwnPropertyDescriptor(i[t]||{},e))||void 0===o?void 0:o.configurable))return!0;return!1}};class ms{static register(e,t,n,o){n in e?console.error("The property must not pre-exist inside the object."):Object.defineProperty(e,n,{enumerable:!0,configurable:!1,get:()=>e[`__${n}`],set:i=>(e[`__${n}`]=i,o({type:"sync",data:{identifier:t,property:n,value:i},syncType:$.Property}),!0)})}}function Os(){{const e=window.fetcher.postMessage.bind(window.fetcher);jo({_setItem:(t,n)=>{if(window.localStorage.getItem(t)!==n)return window.localStorage.setItem(t,n),e({data:{key:t,value:n},type:"sync",syncType:{type:"custom",method:"localStorage",operation:"setItem"}}),null},_removeItem:t=>{null!==window.localStorage.getItem(t)&&(window.localStorage.removeItem(t),e({data:{key:t},type:"sync",syncType:{type:"custom",method:"localStorage",operation:"removeItem"}}))},_clear:()=>{0!==Object.keys(window.localStorage).length&&(window.localStorage.clear(),e({data:{},type:"sync",syncType:{type:"custom",method:"localStorage",operation:"clear"}}))}})}}function Es(e){if("number"!=typeof e.syncType){switch(window.localStorage.__transferData&&(window.localStorage.__transferData=!1),e.syncType.operation){case"setItem":try{window.localStorage.setItem(e.data.key,e.data.value)}catch(t){"_vwo_eventHistSession"!==e.data.key&&"_vwo_eventHist"!==e.data.key||$o.remove(e.data.key)}break;case"removeItem":window.localStorage.removeItem(e.data.key);break;case"clear":window.localStorage.clear();break;default:return}window.localStorage.__transferData&&(window.localStorage.__transferData=!0)}}class Ss{}Ss.syncLocalStorage=Os;class Ts extends Ss{constructor(){super(),this.objectSyncer=new vs}register(e,t,n={},o="",i=!1){if("object"!=typeof n||Array.isArray(n))return;const r=window.fetcher.postMessage.bind(window.fetcher);switch(e){case"custom":switch(t){case"localStorage":Ts.syncLocalStorage();break;default:throw new Error("Unknown property name!")}break;case $.Object:{const e=this.objectSyncer.register(n,t,r);return i&&r({data:{value:window.VWO._.native.JSON.stringify(n),path:t},type:"sync",syncType:$.OverWrite}),e}case $.Property:ms.register(n,o,t,r);break;case $.Document:fs.register(t,r);break;default:console.error("Unknown 'syncAblesEnum' type!")}}append(e,t){return this.objectSyncer.append(e,t)}static sync(e,t){var n;const{data:o}=e;if("object"!=typeof e.syncType||"custom"!==e.syncType.type)switch(e.syncType){case $.Object:{o.value=us.parse(o.value);const e=o.path.substring(0,o.path.lastIndexOf(".")).split(".");window[e[0]]=vs.sync(window[e[0]],o.value,e[0],e.splice(1),t);break}case $.Document:fs.sync(o);break;case $.Property:case $.Variable:t(o);break;case $.OverWrite:if(!("__transferData"in(null!==(n=window[o.path])&&void 0!==n?n:{})))return void(window[o.path]=window.VWO._.native.JSON.parse(o.value));window[o.path]=vs.getProxy(window.VWO._.native.JSON.parse(o.value),t,o.path);break;case $.Delete:{const e=window.VWO._.native.JSON.parse(o),t=e.path.substring(0,e.path.lastIndexOf(".")).split(".").reduce(((e,t)=>Object.keys(e).length?e[t]:window[t]),{}),n=e.key;n in t&&(t.__transferData=!1,delete t[n],t.__transferData=!0);break}default:console.error("Unknown 'syncAblesEnum' type!")}else switch(e.syncType.method){case"localStorage":Es(e);break;default:return}}declare(e,t){ms.register(window,"window",e,t)}}const Cs=(e,t)=>{if(e&&"function"==typeof e&&e.bind)try{e=e.bind(t)}catch(t){if(/(cannot be invoked without 'new')|(Cannot call a class constructor without |new|)/i.test(t.message))return e;console.error(t)}return e};function Is(e,t,n={}){if("window"===e)return window;let o=window;const{captureGroups:i=null,filter:r}=n,s=e.split("."),a=s.length;for(let e=0;e<a;e++){let t=s[e];if(t.endsWith(")")){const e=t.substring(0,t.indexOf("("));let n=t.substring(t.indexOf("("));n="["+n.slice(1,n.length-1)+"]";const r=n.slice(1,n.length-1).split(",");r.forEach(((e,t)=>{e.startsWith('"')||(r[t]='"vwoCurrThreadRef'+e+'"')}));const s=window.VWO._.native.JSON.parse(n,((e,t)=>{let n;if("string"==typeof t){if(n=t.match(/\${{([0-9]*)}}/))return i[n[1]-1];if(n=t.match(/vwoCurrThreadRef(.*)/))return Is(n[1])}return t}));o=o[e](...s)}else{let e=!1;t.endsWith("?")&&(t=t.slice(0,-1),e=!0);const n=o[t];if(o=Cs(n,o),e&&null==o)return o}}if(r){const e={};r.forEach((t=>{e[t]=o[t]})),o=e}return o}const ys=function(e){return window.functionWrapper.unwrap(e.id)(...us.parse(e.args))},As=function(e){var t,n;return v(this,void 0,void 0,(function*(){switch(e.type){case"callWrappedFunction":{let t=ys(e);return t&&"function"==typeof t.then&&(t=yield t),us.stringify(t)}case"vwoClassInstanceBridge":{const t=e.path.dest.lastIndexOf(".");let n=window,o=e.path.dest;-1!==t&&(n=Is(e.path.dest.slice(0,t)),o=e.path.dest.substr(t+1));const i=n[o],[r,s]=new i(...e.args);return s.otherSide=(...t)=>{const n=e.path.src+"."+r+"."+t[0];return t[0]=n,window.fetcher.getValue(...t)},""+r}default:{let o,i;if("setValue"===(e=us.parse(e)).type){-1==e.path.lastIndexOf(".")&&(e.path="window."+e.path);const t=e.path;e.path=t.slice(0,t.lastIndexOf(".")),o=t.slice(t.lastIndexOf(".")+1)}(null===(t=e.config)||void 0===t?void 0:t.captureGroups)&&(e.config.captureGroups=us.parse(e.config.captureGroups));const r=i=Is(e.path,e.args,null==e?void 0:e.config);return(null===(n=e.config)||void 0===n?void 0:n.constructable)?i=new r(...e.args):"function"==typeof r&&(i=r(...e.args||[])),o&&(i=r[o]=e.val),i=yield i,us.stringify(i)}}}))};class bs{}class Vs extends bs{init(){this.isMTInstance=!!u((()=>window.mainThread.webWorker)),this.thread=this.isMTInstance?window.vwoChannelFW:null===window||void 0===window?void 0:window.workerThread,this.request=hs,this.response=ps,this.isMTInstance?this.thread.port1.onmessage=this.onMessage.bind(this):(this.thread.onmessage=this.isMessageChannel(this.thread)&&this.onMessage.bind(this),this.auxiliaryMessageHandler())}auxiliaryMessageHandler(){const e=this,t=function(n){const{vwoChannelToW:o,vwoChannelFW:i}=n.data;o&&i&&(window.vwoChannelToW=o,window.vwoChannelFW=i,e.thread=o,e.thread.onmessage=e.onMessage.bind(e),self.removeEventListener("message",t))};self.addEventListener("message",t)}isMessageChannel(e){return e&&e.port1 instanceof MessagePort&&e.port2 instanceof MessagePort}postMessage(e){try{this.isMTInstance?window.vwoChannelToW.port2.postMessage(e):window.vwoChannelFW.postMessage(e)}catch(e){console.error(e)}}onMessage(e){var t,n,o,i;const{data:r}=e;switch(r.type){case"initDone":window.vwo_initDone(r);break;case"request":this.request(r).resolve(As);break;case"response":this.response(r).resolve(us.parse.bind(us));break;case"sync":{let e=()=>null;switch(r.syncType){case $.OverWrite:case $.Object:e=this.postMessage.bind(this);break;case $.Property:case $.Document:case $.Variable:case $.Delete:}Ts.sync(r,e);break}default:window.VwoUnitTestsRunning&&("unit-test"===r.type?eval(r.code):"unit-test-result"===r.type&&(null===(n=null===(t=window.PromiseResolver)||void 0===t?void 0:t[r.id])||void 0===n||n.resolve(r))),null===(i=(o=this.thread)._onMessage)||void 0===i||i.call(o,e)}}getValue(e,t,n={}){let o;(null==n?void 0:n.captureGroups)&&(o=us.stringify(n.captureGroups));const i={path:e,args:t,config:Object.assign(Object.assign({},n),{captureGroups:o})};return this.request(us.stringify(i)).send().catch((()=>{}))}setValue(e,t){const n={type:"setValue",path:e,val:t};return this.request(us.stringify(n)).send().catch((()=>{}))}}const Ns=Vs;window.fetcher=new Ns;class Rs{constructor(){this.storageLookUpKey="_vwo_store_content"}sendDebugLogForSyncList(e,t,n={listVal:null}){try{const o=e.fns.list,i=Object.keys(o),r=[],s=[];for(const e of i){const t=o[e],[n,i]=window.VWO._.native.JSON.parse(e);1===t.val?r.push(i):s.push(i)}t(Object.assign(Object.assign({},n),{listMatched:r.length>0?r:void 0,listUnmatched:s.length>0?s:void 0}))}catch(e){}}otherSide(...e){return e[0]="VWO.modules.vwoUtils.contentSync."+e[0],e[2]&&(e[2]={captureGroups:e[2]}),window.fetcher.getValue(...e)}}var Ls;!function(e){e.DEBUG_VS_EVENT="vsEventFired",e.DEBUG_PAGE_EXIT="pageExit",e.DEBUG_REDIRECT="redirect"}(Ls||(Ls={}));const Ws=e=>{u((()=>!!Do().debugEvt))&&window.VWO._.event(j.DEBUG_EVENT,e)},Ps=(e,t={})=>{t.expId&&gi.isSessionBasedCampaign2(window._vwo_exp[t.expId])||Ws(Object.assign(Object.assign(Object.assign(Object.assign({type:e,expId:t.expId,varId:t.varId},u((()=>t.timeouts.sts))&&{stsTimeout:t.timeouts.sts}),u((()=>t.timeouts.lib))&&{libTimeout:t.timeouts.lib}),u((()=>t.timeSpent))&&{timeSpent:t.timeSpent}),u((()=>t.timeSpent2))&&{timeSpent2:t.timeSpent2}))},Ds=()=>{const e=document.cookie.split(";").filter((e=>e.includes("_vis_opt_exp_")));let t=-1;u((()=>{const[e]=performance.getEntriesByType("navigation"),n=e.startTime;t=(performance.now()-n)/1e3}));return{cookieStr:e,timeSpent:u((()=>performance.now()-window._VWO_VaGQ_StartTime))||-1,timeSpent2:t,additionalData:{timeouts:{lib:u((()=>gn.vwoCode[kt])),sts:u((()=>gn.vwoCode[Gt]))}}}},xs=()=>{const e=/^(_vis_opt_exp|_vwo)/,t=document.cookie.split(";");let n="";return t.forEach((t=>{const[o,i]=t.trim().split("=");e.test(o)&&(n+=o.trim()+"="+(i?i.trim():"")+";")})),n},Us=(e,t=[])=>{try{const{msg:n,url:o=window.location.href,navType:i="",additionalOptions:r={}}=e,s=window._vwo_code||{},a=Object.assign({uuid:u((()=>window.VWO._.cookies.get("_vwo_uuid"))),url:window.location.href,referrer:document.referrer,nav:i,aId:window._vwo_acc_id,sT:s.sT,lT:s.lT,aC:!!window._vwo_code,cookies:t.length?t:xs(),inL:window._vwoIntegrationsLoaded,ogUUID:gi.getUUID(),windowUUid:window._vwo_uuid},r);l({msg:n,url:encodeURIComponent(o),source:window.VWO._.native.JSON.stringify(a)})}catch(e){}},Ms=e=>{var t;try{if(!Zn.CLICK_DEBUG)return;const n=u((()=>Zn.CLICK_DEBUG.filters))||{},o=window.sessionStorage.getItem("referred"),{local_referred_url:i,referred_url:r}=o&&window.VWO._.native.JSON.parse(o)||{},s=e.event.target.tagName.toLowerCase();if(Object.keys(n).length>0&&!n[s])return;const a="a"===s&&e.event.target.href,c=String(Cr(e.event.target));Us({msg:null!==(t=e.msg)&&void 0!==t?t:"Click Debug Log",url:encodeURIComponent(window.location.href),additionalOptions:{cookies:xs(),uuid:window._vwo_uuid,targetEl:e.event.target.innerText,referrerSession:r,referrerPage:i,targetUrl:a,targetXP:c}})}catch(e){}},ks=(...e)=>{eo&&Us.call(void 0,...e)},Gs=()=>{Zn.GA_DEBUG&&u((()=>{const e=Zn.GA_DEBUG.expIds,t="function"==typeof window.fetch;let n=0;if(t&&Object.keys(e||{}).some((e=>!!window.VWO._.allSettings.dataStore.campaigns[e]))){const t=window.fetch;window.fetch=function(...o){return u((()=>{const t=o[0]||"",i=(o[1]||{}).body,r=/VWO-(\d+)-(\d+)/,s=r.exec(t)||r.exec(i)||[];t.includes("analytics.google.com/g/collect")&&s.length>0&&e[s[1]]&&(Us({msg:"GA Collect Log",additionalOptions:{data:Array.from(s),userType:u((()=>window.VWO.data.vi.vt))||"unknown"}}),++n)})),t.call(this,...o)}}window.VWO._.phoenixMT.on(j.PAGE_EXIT,(()=>{const{cookieStr:e,timeSpent:o,timeSpent2:i,additionalData:r}=Ds();Us({msg:"Page Exit Logs",additionalOptions:{userType:u((()=>window.VWO.data.vi.vt))||"unknown",dL:Array.isArray(window.dataLayer),doesFetchExist:t,didCollectCallGo:n,timeSpent:o,timeSpent2:i,timeouts:r.timeouts}},e)}));const o=Object.keys(e).reduce(((e,t)=>{const n=window.VWO._.cookies.get(`_vis_opt_exp_${t}_combi`);return Object.assign(Object.assign({},e),{[t]:!!n})}),{});e&&window.VWO.push(["onVariationApplied",t=>{e[t[1]]&&Us({msg:`Variation Applied => ${t[1]}-${t[2]}`,additionalOptions:{dL:Array.isArray(window.dataLayer),didCollectCallGo:n,userType:u((()=>window.VWO.data.vi.vt))||"unknown",doesCombiCookieExist:o}})}])}))},Fs=()=>{u((()=>{if(!Zn.VARIATION_SHOWN_DEBUG)return;const e=Zn.VARIATION_SHOWN_DEBUG||{};window.VWO.push(["onVariationShownSent",t=>{const[n,o,i]=t||[];e[o]&&Us({msg:`Variation Shown Sent => ${o}-${i}`})}])}))},$s=()=>{if(!u((()=>!!Do().debugEvt)))return;const e=(e,t,n)=>{window.VWO.push([t,([t,o,i])=>{Ps(e,Object.assign({expId:o,varId:i},n||{}))}])};e(Ls.DEBUG_VS_EVENT,"onVariationShownSent",{timeouts:{lib:u((()=>gn.vwoCode[kt])),sts:u((()=>gn.vwoCode[Gt]))}}),e(Ls.DEBUG_VS_EVENT,"onVariationApplied"),window.VWO._.phoenixMT.on(j.PAGE_EXIT,(e=>{const{timeSpent:t,timeSpent2:n,additionalData:o}=Ds();Ps(Ls.DEBUG_PAGE_EXIT,{timeSpent:t,timeSpent2:n,timeouts:o.timeouts})}))},js=(e={})=>{u((()=>{if(!Zn.URL_DEBUG)return;const{rgx:t,sendCookie:n}=Zn.URL_DEBUG,o=window.location.href;new RegExp(t).test(o)&&Us({msg:"URL Debug Log",url:o,additionalOptions:e},(n||[]).map((e=>window.VWO._.cookies.get(e))))}))},Bs=()=>{u((()=>{if(!Zn.IN_LIST_DEBUG)return;const e=Zn.IN_LIST_DEBUG,t=Object.keys(e);t.some((e=>!!u((()=>window.VWO._.allSettings.dataStore.campaigns[e]))))?window.VWO.push(["onVariationApplied",t=>{var n;try{const[o,i]=t||[];if(!e[i])return;const r=localStorage.getItem("_vwo_store_content"),s=window.vwo_heap_id||"";if(!r||!s)return void Us({msg:"In_List_Debug_Log-empty",additionalOptions:{value:r,heapId:s,lSValue:`[<${r}>]`,expId:i}},[""]);const a=null===(n=window.VWO._.native.JSON.parse(r).fns)||void 0===n?void 0:n.list;if(!a)return void Us({msg:"In_List_Debug_Log-empty-listFns",additionalOptions:{value:r,heapId:s,lSValue:`[<${r}>]`,expId:i}},[""]);const c=window.VWO._.cookies.get("_vis_opt_exp_"+i+"_combi");Object.entries(a).forEach((([e,t])=>{const[n]=window.VWO._.native.JSON.parse(e);if(n!==s)return;const{vn:o,val:a}=t;Us({msg:"In_List_Debug_Log",additionalOptions:{heapId:s,functionVersion:o,value:a,isFirst:!!c,lSValue:`[<${r}>]`,expId:i}},[""])}))}catch(e){u((()=>{Us({msg:"In_List_Debug_Log-errorInLog",additionalOptions:{error:e}},[""])}))}}]):Us({msg:"In_List_Debug_Log-campaignMissing",additionalOptions:{expIdList:t}},[""])}))};window.VWO._.sendErrorLog=Us,window.VWO._.sendGenericDebugEvent=Ws;class Hs extends Rs{constructor(){super(...arguments),this.collectedData={},this.requestsChecker={}}updateStorage(e,t){return v(this,void 0,void 0,(function*(){if(!this.response)return;const n=window.VWO._.native.JSON.parse(this.response);if(!b(n).length)return;const o=window.fetcher.getValue("VWO._.contentSyncService.updateStorage",[n]),i={listVal:t};wo&&Object.assign(i,{visId:gi.getUUID()}),e.sendDebugLogForSyncList(n,Ws,i),yield o}))}syncGet(e,t,n=!0){return v(this,void 0,void 0,(function*(){return yield window.fetcher.getValue('VWO._.contentSyncService.syncGet("${{1}}", "${{2}}", "${{3}}", "${{4}}")',null,{captureGroups:[e,t,n,!0]})}))}syncFromBackend(e,t,n,o){const[i,r]=e.split(".");if(this.collectedData[i]=this.collectedData[i]||{},this.collectedData[i][r]=this.collectedData[i][r]||[],this.requestsChecker[n])return;this.requestsChecker[n]=1,this.collectedData[i][r].push(t);const s=this;this.debouncedCall=this.debouncedCall||Ie((function(){return v(this,void 0,void 0,(function*(){Si({url:o+"sync?a="+window._vwo_acc_id,data:window.VWO._.native.JSON.stringify(s.collectedData),success:function(){s.updateStorage.call(this,s,t[0])}}),s.collectedData={}}))}),10),this.debouncedCall()}}var Ks;window.VWO.modules.vwoUtils.contentSync=new Hs,function(e){e[e.EXCLUDE_PASSED=1]="EXCLUDE_PASSED",e[e.INCLUDE_PASSED=2]="INCLUDE_PASSED",e[e.INCLUDE_FAILED=3]="INCLUDE_FAILED"}(Ks||(Ks={}));var qs=Ks,Js;!function(e){e.OR="o",e.AND="a"}(Js||(Js={}));var Xs=Js;class Ys{constructor(){this.experimentConfig={},this.pageConfig={},this.experimentConfigCache={},this.pageConfigCache={},this.previewParamsCleanedUrlCache={},Ys.cleanerRegex=/(^https?:\/\/)?(w{3}\.)?(.*?)?((?:\/)(?:home|default|index)\.\w{3,4})?(\/)?([?#].*)?$/i,Ys.logicalOperators=[Xs.AND,Xs.OR]}static get currentUrl(){return window.location.href}add(e,t){if(Ki.debug("Adding pageGroup config to phoenix"),T(e)&&(Object.hasOwnProperty.call(e,"ec")&&e.ec.forEach((e=>{const t=Object.keys(e)[0];this.experimentConfig[t]||(this.experimentConfig[t]=e[t])})),Object.hasOwnProperty.call(e,"pc")&&e.pc.forEach((e=>{const t=Object.keys(e)[0];this.pageConfig[t]||(this.pageConfig[t]=e[t])}))),T(t)){if(O(t.pc)){const e=this.getCache(Ys.currentUrl,!0);t.pc.forEach((t=>{e[t]={didMatch:!0,reason:qs.INCLUDE_PASSED,cacheHit:!0}}))}if(O(t.ec)){const e=this.getCache(Ys.currentUrl);t.ec.forEach((t=>{e[t]={didMatch:!0,reason:qs.INCLUDE_PASSED,cacheHit:!0}}))}}}getCache(e,t){return t?(this.pageConfigCache=this.pageConfigCache||{},this.pageConfigCache[e]=this.pageConfigCache[e]||{},this.pageConfigCache[e]):(this.experimentConfigCache=this.experimentConfigCache||{},this.experimentConfigCache[e]=this.experimentConfigCache[e]||{},this.experimentConfigCache[e])}getPreviewParamsCleanedUrl(e){return e?(this.previewParamsCleanedUrlCache=this.previewParamsCleanedUrlCache||{},this.previewParamsCleanedUrlCache[e]||(this.previewParamsCleanedUrlCache[e]=zi.get("jsLibUtils").getCleanedUrl(e,!0)),this.previewParamsCleanedUrlCache[e]):e}getIndexFileCleanedUrl(e){return e?(this.indexFileCleanedUrlCache=this.indexFileCleanedUrlCache||{},this.indexFileCleanedUrlCache[e]||(this.indexFileCleanedUrlCache[e]=e.replace(Ys.cleanerRegex,"$1$2$3$5$6")),this.indexFileCleanedUrlCache[e]):e}validatePage(e,t,n,{debug:o=!1,allowEmptyUrl:i=!1}={}){const r=t?this.pageConfig[e]:this.experimentConfig[e];if(!r)return Ki.info(`ConfigId ${e} is not present inside ${t?"pageConfig":"experimentConfig"}`),{didMatch:!1,reason:qs.INCLUDE_FAILED,cacheHit:!1};let s=n;i||s||(s=Ys.currentUrl);const a=this.getCache(s,t);if(a&&Object.hasOwnProperty.call(a,e))return Ki.info(`Fetching value from cache for ${t?"pageConfigId":"experimentConfigId"} = ${e}`),a[e].cacheHit=!0,a[e];let c;const d=r.exc,l=r.inc;if(Array.isArray(d)&&d.length>0){const t=this.evaluateDSL(d,s,{debug:o||!1,allowEmptyUrl:i});if(t)return c={didMatch:!t,reason:qs.EXCLUDE_PASSED,cacheHit:!1},o||(a[e]=c),c}if(Array.isArray(l))if(l.length){const e=this.evaluateDSL(l,s,{debug:o||!1,allowEmptyUrl:i});c=e?{didMatch:e,reason:qs.INCLUDE_PASSED,cacheHit:!1}:{didMatch:e,reason:qs.INCLUDE_FAILED,cacheHit:!1}}else c={didMatch:!0,reason:qs.INCLUDE_PASSED,cacheHit:!1};return c=c||{didMatch:!1,reason:qs.INCLUDE_FAILED,cacheHit:!1},o||(a[e]=c),c}evaluateDSL(e,t,{debug:n=!1,allowEmptyUrl:o=!1}={}){if(!O(e)||e.length<2)return Ki.error("Invalid dsl tree",e),!1;const i=[];return e.forEach((e=>{var r;let s;if(e||(s=!1),I(e)&&(s=e),O(e))if(Ys.logicalOperators.includes(e[0]))s=this.evaluateDSL(e,t,{debug:n,allowEmptyUrl:o});else{const[i,a,...c]=e,d=null===(r=Ji.plugins[Xi.OPERATOR])||void 0===r?void 0:r.get(a);let l;if(i.includes("url"))l=this.getIndexFileCleanedUrl(this.getPreviewParamsCleanedUrl(t));else{const e=c[0];l=this.validatePage(e,!0,t,{debug:n,allowEmptyUrl:o}).didMatch,c[0]=!0}s=null==d?void 0:d(l,...c,{jsLibUtils:zi.get("jsLibUtils"),pageUrl:!0})}i.push(s||!1)})),this.evaluateTree(i)}evaluateTree(e){let t=!1;switch(e[0]){case Xs.AND:t=!e.includes(!1);break;case Xs.OR:t=e.includes(!0)}return t}}var zs=new Ys;class Qs{constructor(){this.listenerAdded=!1,this.queue=new Set}addListener(e){this.queue.add(e),this.listenerAdded||(window.addEventListener("storage",(e=>{this.queue.has(e.key)&&this.otherSide("processQueue",[e.key,e.newValue])})),this.listenerAdded=!0)}otherSide(...e){e[0]="VWO.modules.utils.storageSyncer."+e[0],window.fetcher.getValue(...e)}}const Zs=new Qs;window.VWO.modules.utils.storageSyncer=Zs;class ea{clearData(){}}const ta={UNKNOWN_SET_API_TYPE:"Unknown type '{{type}}' found in set API.",EVENTS:{ALREADY_EXISTS:"Event with name '{{eventName}}' already exists. Please use 'update' API if you want to override it.",NOT_REGISTERED:"Event with name '{{eventName}}' has not been registered yet. Please use 'add' API to register it."},OPERATORS:{ALREADY_EXISTS:"Operator with name '{{operatorName}}' already exists. Please use 'update' API if you want to override it.",NOT_REGISTERED:"Operator with name '{{operatorName}}' has not been registered yet. Please use 'add' API to register it."},FORMULAS:{ALREADY_EXISTS:"Formula with name '{{formulaName}}' already exists. Please use 'update' API if you want to override it.",NOT_REGISTERED:"Formula with name '{{formulaName}}' has not been registered yet. Please use 'add' API to register it."},STORAGES:{ALREADY_EXISTS:"Storage with name '{{storageName}}' already exists. Please use 'update' API if you want to override it.",NOT_REGISTERED:"Storage with name '{{storageName}}' has not been registered yet. Please use 'add' API to register it."},TAGS:{ALREADY_EXISTS:"Tag with name '{{tagName}}' already exists. Please use 'update' API if you want to override it.",NOT_REGISTERED:"Tag with name '{{tagName}}' has not been registered yet. Please use 'add' API to register it."},EVENT_PROP:{ALREADY_EXISTS:"Event property with name '{{propName}}' already exists for event '{{eventName}}'. Please use 'update' API if you want to override it.",NOT_REGISTERED:"Event property with name '{{propName}}' has not been registered yet for event '{{eventName}}'. Please use 'add' API to register it."}},na={EVENTS:{NO_EVENT_TO_REMOVE:"Unable to remove Event '{{eventName}}' as it's not been registered."},OPERATORS:{NO_OPERATOR_TO_REMOVE:"Unable to remove Operator '{{operatorName}}' as it's not been registered."},FORMULAS:{NO_FORMULA_TO_REMOVE:"Unable to remove Formula '{{formulaName}}' as it's not been registered."},STORAGES:{NO_STORAGE_TO_REMOVE:"Unable to remove Storage '{{storageName}}' as it's not been registered."},TAGS:{NO_TAG_TO_REMOVE:"Unable to remove Tag '{{tagName}}' as it's not been registered."},EVENT_PROP:{NO_EVENT_PROP_TO_REMOVE:"Unable to remove Event property '{{propName}}' for event '{{eventName}}' as it's not been registered."}};class oa extends ea{constructor(){super(),this.pluginName=Xi.OPERATOR,this.operators={}}add(e,t){Ki.debug(`Adding operator '${e}' in OperatorsManager`),this.operators[e]?Ki.error(ta.OPERATORS.ALREADY_EXISTS,{operatorName:e}):this.operators[e]=t}update(e,t){Ki.debug(`Updating operator '${e}' in OperatorsManager`),this.operators[e]=t}get(e){return Ki.debug(`Getting operator '${e}' in OperatorsManager`),this.operators[e]?this.operators[e]:(Ki.error(ta.OPERATORS.NOT_REGISTERED,{operatorName:e}),null)}remove(e){Ki.debug(`Removing operator '${e}' in OperatorsManager`),this.operators[e]?delete this.operators[e]:Ki.warn(na.OPERATORS.NO_OPERATOR_TO_REMOVE,{operatorName:e})}removeAll(){Ki.debug("Removing all operators in OperatorsManager"),this.operators={}}initialize(e){Object.assign(this.operators,e)}}var ia=new oa,ra,sa;!function(e){e.EQUAL="eq",e.NOT_EQUAL="neq",e.EQUAL_CASE_SENSITIVE="eqs",e.NOT_EQUAL_CASE_SENSITIVE="neqs",e.REGEX="reg",e.REGEX_CASE_SENSITIVE="regs",e.CONTAINS="cn",e.NOT_CONTAINS="ncn",e.BLANK="bl",e.NOT_BLANK="nbl",e.GREATER_THAN="gt",e.LESS_THAN="lt",e.GREATER_THAN_EQUAL="gte",e.LESS_THAN_EQUAL="lte",e.IN="in",e.NOT_IN="nin",e.EXEC="exec",e.SELECTOR="sel",e.IN_LOCATION="inloc",e.NOT_IN_LOCATION="ninloc",e.URL_REGEX="urlReg",e.NOT_URL_REGEX="nUrlReg",e.RANGE_COMPARISON="rg",e.PAGE_CONFIG_EVALUATION="pgc"}(ra||(ra={})),function(e){e.PAGE="PAGE",e.EVENT="EVENT",e.JS_VARIABLE="JS_VARIABLE"}(sa||(sa={}));const aa={[ra.EQUAL]:(e,t)=>String(e).toLowerCase()===String(t).toLowerCase(),[ra.NOT_EQUAL]:(e,t)=>!aa[ra.EQUAL](e,t),[ra.EQUAL_CASE_SENSITIVE]:(e,t)=>String(e)===String(t),[ra.NOT_EQUAL_CASE_SENSITIVE]:(e,t)=>!aa[ra.EQUAL_CASE_SENSITIVE](e,t),[ra.REGEX](e,t){try{return new RegExp(t,"i").test(String(e))}catch(e){return!1}},[ra.URL_REGEX](e,t,n){const o=null==n?void 0:n.jsLibUtils;return o?o.verifyUrl(e,t,null,null==n?void 0:n.pageUrl):aa[ra.REGEX](e,t)},[ra.NOT_URL_REGEX]:(e,t,n)=>!aa[ra.URL_REGEX](e,t,n),[ra.REGEX_CASE_SENSITIVE](e,t){try{return new RegExp(t).test(String(e))}catch(e){return!1}},[ra.CONTAINS]:(e,t)=>String(e).toLowerCase().includes(String(t).toLowerCase()),[ra.NOT_CONTAINS]:(e,t)=>!aa[ra.CONTAINS](e,t),[ra.BLANK]:e=>!e,[ra.NOT_BLANK]:e=>!aa[ra.BLANK](e),[ra.GREATER_THAN](e,t){if(!T(e)||!T(t))return!1;const n=+e,o=+t;return C(n)&&C(o)&&n>o},[ra.GREATER_THAN_EQUAL](e,t){if(!T(e)||!T(t))return!1;const n=+e,o=+t;return C(n)&&C(o)&&n>=o},[ra.LESS_THAN](e,t){if(!T(e)||!T(t))return!1;const n=+e,o=+t;return C(n)&&C(o)&&n<o},[ra.LESS_THAN_EQUAL](e,t){if(!T(e)||!T(t))return!1;const n=+e,o=+t;return C(n)&&C(o)&&n<=o},[ra.NOT_IN_LOCATION](e,t){let n=!1;if(!t||0===t.length)return!1;for(let o=0;o<t.length;o++){const i=t[o];if(i===e.countryCode||i===`${e.countryCode}-${e.region}`||i===`${e.countryCode}-${e.region}-${e.city}`){n=!1;break}n=!0}return n},[ra.IN_LOCATION](e,t){let n=!1;if(!t||0===t.length)return!1;for(let o=0;o<t.length;o++){const i=t[o];if(i===e.countryCode||i===`${e.countryCode}-${e.region}`||i===`${e.countryCode}-${e.region}-${e.city}`){n=!0;break}}return n},[ra.IN]:(e,t)=>t.map((e=>String(e).toLowerCase())).includes(String(e).toLowerCase()),[ra.NOT_IN]:(e,t)=>!aa[ra.IN](e,t),[ra.RANGE_COMPARISON](e,t){try{let n=JSON.parse;try{n=window.VWO._.native.JSON.parse||JSON.parse}catch(e){}const o=n(e),i=t.split("'")[1].split("-"),r=i[0],s=i[1];return aa[ra.GREATER_THAN_EQUAL](o[0],parseInt(r,10))&&aa[ra.LESS_THAN_EQUAL](o[0],parseInt(s,10))}catch(e){return Ki.info(`RANGE OPERATOR ERROR: ${e&&e.stack}`),!1}},[ra.PAGE_CONFIG_EVALUATION]:(e,t,n)=>zs.validatePage(t,!1,e,n).didMatch};var ca=Object.assign(aa,{sel(e,t){try{return!!e.closest(t)}catch(e){return!1}}});ia.initialize(ca);class da{}class la{}const ua=function(){let e;if(window.VWO._.eventsManager)return window.VWO._.eventsManager;var t=[],n=!0,o=[],i=[],r={bind:"unbind",live:"die",on:"off"},s=[];var a=/iPhone|iPad/.test(navigator.userAgent);function c(e){return!window.VWO.DONT_IOS&&(!("touchmove"!==e&&"touchstart"!==e&&"touchend"!==e||!a)||void 0)}function d(e,t){n&&s.push({type:e,state:t,ref:e[t]})}function l(){for(var e=s.length-1;e>=0;e--){var t=s[e];t.type[t.state]=t.ref}}return e={addEventListener:function(o,i,r,s){if(!c(i))return n&&t.push({$el:o,name:i,callback:r,capture:s}),o.addEventListener?o.addEventListener(i,r,s):o.attachEvent&&o.attachEvent("on"+i,r,s),e},addMutationObserver:function(e,t,n,o){var r;if(void 0!==window.MutationObserver?r=window.MutationObserver:void 0!==window.WebKitMutationObserver&&(r=window.WebKitMutationObserver),r)try{const r=new MutationObserver(e.bind(o));i.push(r),r.observe(t,n)}catch(e){}},clearAllListeners:function(){for(var n=0;n<t.length;n++){var a=t[n],c=a.$el;a.jqType?(d=c,u=a.jqType,w=a.eventName,_=a.callback,g=a.selector,p=a.capture,u&&(g?d[r[u]]&&d[r[u]](w,g,_,p):d[r[u]]&&d[r[u]](w,_,p))):c.removeEventListener?c.removeEventListener(a.name,a.callback,a.capture):c.detachEvent&&c.detachEvent("on"+a.name,a.callback)}var d,u,w,_,g,p;return i.forEach((e=>{e.disconnect()})),function(){for(var e=0;e<o.length;e++){var t=o[e];"interval"===t.type?clearInterval(t.name):clearTimeout(t.name)}}(),l(),t.length=0,s.length=0,i.length=0,o.length=0,e},addJqEventListener:function(o,i,r,s,a,d){return c(r)||(n&&t.push({$el:o,jqType:i,eventName:r,callback:s,selector:a,capture:d}),a?o[i](r,a,s,d):o[i](r,s,void 0,d)),e},pushTimers:function(t,i){if(n)return o.push({name:t,type:i}),e},addOverrideState:d,overrideHistoryPush:function(e,t,o){if(n){var i=e[o];d(e,o),e[o]=function(n){var o=i.apply(e,[].slice.call(arguments));try{t({state:n})}catch(e){}return o}}},revertOverriddenStates:l,init:function(e){n=e.shouldPushToQueue}},window.VWO._.eventsManager=e,e}(),wa={};let _a=!1,ga=[];const pa=Ie((function(e){const t=window[e].push({event:"VWO"});_a&&ga&&ga.push(t-1),"dataLayer"!==e&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"VWO"}))}),1);function ha(e){var t=setInterval((function(){if(window.GoogleAnalyticsObject||window.ga){var n=window.GoogleAnalyticsObject||"ga";if(window[n].getAll){clearInterval(t);var o=window[n].getAll(),i=!1;window.gtag&&o&&o[0]&&o[0].get("name").indexOf("gtag")>=0&&(i=!0),e(i,n)}}}),100);ua.pushTimers(t,"interval")}function va(e,t,n,o,i){ha((function(r,s){if(r){var a=i,c={event_category:o,non_interaction:!0};c[e]=t,i&&(c.send_to=a),window.gtag("event",n,c)}else{(window[s]=window[s]||function(){(window[s].q=window[s].q||[]).push(arguments)})((function(r){(r=window[s].getByName(i)||r).set(e,t),r.send("event",o,n,{nonInteraction:!0})}))}}))}function fa(e,t,n,o){if(!L()&&!window._vis_debug)try{o=o||"GA",n&&""!==n?"GA"===o&&(n+="."):n="";var i="GA"===o?4:1;if(t=t||window._vis_opt_GA_slot||i,wa[e].c)if("GA"===o)window._gaq=window._gaq||[],window._gaq.push((function(){void 0===window.pageTracker||n?window._gaq.push([n+"_setCustomVar",t,"VWO-"+e,wa[e].n,1],[n+"_trackEvent","VWO","Visit","",0,!0]):(window.pageTracker._setCustomVar(t,"VWO-"+e,wa[e].n,1),window.pageTracker._trackEvent("VWO","Visit","",0,!0))}));else{var r="dimension"+t,s="CampId:"+e+", VarName:"+wa[e].n;va(r,s,"Custom","VWO",n)}}catch(t){l({msg:"Error while pushing data in GA for experiment id - "+e,url:"core.js",source:encodeURIComponent("VWO-GA-push")})}}function ma(){let e,t;e=setInterval((()=>{if(window.google_tag_manager){const n=Ve();window.dataLayer&&window.dataLayer.length&&"dataLayer"!==n&&window.dataLayer.filter(((e,t)=>-1!==ga.indexOf(t))).forEach((e=>{window[n]=window[n]||[],window[n].push(e)})),ga=void 0,clearInterval(e),clearTimeout(t)}}),50),t=setTimeout((function(){clearInterval(e)}),5e3)}function Oa(e,t){const n=window._vwo_exp;if(gi.isSessionBasedCampaign2(n[e]))return;let o=0;wa[e]={},wa[e].c=t,wa[e].n=n[e].comb_n[wa[e].c]||"";const i=n[e].GA?"GA":n[e].UA?"UA":"";let r;if(i&&!n[e][i].tracked&&(fa(e,n[e][i].s,n[e][i].p,i),n[e][i].tracked=!0),n[e].GTM){_a||window.google_tag_manager||(ma(),_a=!0),r=Ve();const t={};t["Campaign-"+e]=wa[e].n,window[r]=window[r]||[];const n=window[r].push(t);_a&&ga&&ga.push(n-1),"dataLayer"!==r&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push(t)),o=1}o&&pa(r)}window.VWO.modules.utils.collectAndSendDataForGA=Oa;class Ea extends la{executeCode(e){if(e)try{vwo_$("head").append(e)}catch(e){}}setSplitCookieWithURL({campaignData:e,combination:t,urlToRedirectTo:n,shouldCreateAsThirdParty:o=!1}){const i=[t,encodeURIComponent(n)];gi.createCookieMT(`_vis_opt_exp_${e.id}_split`,i.join(nn),100,e,!1,o)}}class Sa{otherSide(...e){return e[0]="window.VWO.modules.utils.campaignUtils."+e[0],window.fetcher.getValue(...e)}updateGoalCookieValueForExperience(e,t,n){if(!e)return`mE_${t}`;const o=e.split("mE_")[1];let i=[];return i=o?o.split("|"):[],i.includes(t)||i.push(t),`mE_${i.join("|")}`}isGoalTriggeredForExperience(e,t,n){let o=e?e.split("mE_")[1].split("|"):[];return n?t.every((e=>o.includes(e))):o.includes(t)}checkForVariationTargeting(e){const t=u((()=>e.sections[1].triggers));return!(!t||0===t.length)}}class Ta extends Sa{clearTimeouts(e){this.otherSide("clearTimeouts",e)}markGoalTriggered(e,t){if(!st.shouldWeTrackVisitor())return;const{GOAL_CAMPAIGN:n,INSIGHTS_METRIC_CAMPAIGN:o}=g();if([n,o].includes(e.type))p().markInsightGoalTriggered(e,t);else{let n=Ze.get("_vis_opt_exp_"+e.id+"_goal_"+t);if(e.mE){let t=Ze.get("_vis_opt_exp_"+e.id+"_combi");const o=gi.isPersonalizeHoldback(e);if(o){const e=t.split(";")[1],n=t.split(";")[0].split("|");t=n.find((t=>t.split(",")[0]===e))}n=this.updateGoalCookieValueForExperience(n,t,o)}else e.goals[t].mca&&n&&(n=String(Number(n)+1));gi.createCookieMT("_vis_opt_exp_"+e.id+"_goal_"+t,String(null!=n?n:1),100,e)}}clearTimeoutsHandler(e){var t;e.timeout=null===(t=window._vwo_exp[e.id])||void 0===t?void 0:t.timeout,cancelAnimationFrame(e.timeout),delete e.timeout}isGoalTriggered(e,t){if(e.type===g().GOAL_CAMPAIGN)return!window.VWO._.track.shouldTriggerGoal(e.id,t);if(e.goals[t].mca)return null;if(e.type===g().INSIGHTS_METRIC_CAMPAIGN)return _.isMetircTriggered(e.id);const n=Ze.get("_vis_opt_exp_"+e.id+"_goal_"+t);if(e.mE){let t=Ze.get("_vis_opt_exp_"+e.id+"_combi");const o=gi.isPersonalizeHoldback(e);return o&&(t=t.split(";")[0].split("|")),this.isGoalTriggeredForExperience(n,t,o)}return n}doExperimentHere(e,t={}){const{currentUrl:n}=gn;let o;if(e.pg_config){const t=e.pg_config[0];o=window.VWO.pageGroup.validatePage(t,null,n)}else o=Yn.compareUrlWithIncludeExcludeRegex(n,t.urlRegex||e.urlRegex,t.excludeUrl||e.exclude_url,t.urlPattern||e.url_pattern);return[o.didMatch,o.reason]}getCombiCookie(e){return Ze.get("_vis_opt_exp_"+e+"_combi")}getCombi(e,t){return window.VWO._.insightsCampaignUtils&&p().getInsightCombi(e,t)||this.getCombiCookie(e.id)}getGroupBasedCampaigns(){let e=[];const t=u((()=>window.VWO._.allSettings.dataStore.vwoData.gC.map((e=>e.c))),{sendErrorLog:!1},[]);for(const n of t)e=e.concat(n);return e.map((e=>""+e))}}const Ca=new Ta;window.VWO.modules.utils.campaignUtils=Ca;class Ia extends Xn{}const ya=new Ia;window.VWO.modules.utils.urlUtils=ya;const Aa="mtCA",ba=["VISUAL","VISUAL_AB","SPLIT_URL","DEPLOY"],Va="sCIds",Na="oCids",Ra="aMTP",La="_vis_opt_path_hides",Wa="_vis_opt_path_hides_split",Pa="iFMT",Da="pCA",xa="pLT";function Ua(e){const t="SPLIT_URL"===e.type,n=e[Ft];return{campaignData:e,isSplitCampaign:t,isVariationPage:n,shouldSkipSplitEvents:t&&"1"!==e.combination_chosen&&!n}}const Ma=(e,t)=>{window.VWO.modules.tags.wildCardCallback(Object.assign(Object.assign({},e),{VWO:{firedTime:Date.now()}}),t)};function ka({campaignData:e,isSplitCampaign:t,isVariationPage:n}){if(t&&n)return;const o=gi.isPersonalizeCampaign(e);Ma({oldArgs:[e.id,!0]},j.SEGMENTATION_EVALUATED),o&&Ma({oldArgs:[e.id,!0,!0]},j.SEGMENTATION_EVALUATED)}function Ga({campaignData:e,shouldSkipSplitEvents:t}){t||Ma({oldArgs:[e.id,e.combination_chosen,!0]},j.CHOOSE_COMBINATION)}function Fa(e){Ma({oldArgs:[e.id]},j.SPLIT_URL)}const $a=e=>{if(!window._vis_debug)return;const t=Ua(e);ka(t),Ga(t),t.shouldSkipSplitEvents&&Fa(e)},ja=e=>{if(!window._vis_debug)return;e[xa]=!0;(e[Da]||[]).forEach((e=>{const t=e.eventName;delete e.eventName,Ma(e,t)}))},Ba={SPLIT:{CUSTOM_REDIRECTION:{MALFORMED_URL:"URL is not defined in custom redirection JS code."}}};function Ha(e,t,{getters:n,shouldHandlerError:o=!0}){const i=Wo()[e];let r=null;const s=ya.getCleanedUrl(n.currentUrl,!0);if(!s)return null;const a=Jn.matchRegex(s,i.urlRegex,!0,!1,!0),c=i.sections[1].urlTags[t];return c&&(r=u((()=>window.VWO._.allSettings.tags[c].fn({pagesMeta:a})))||"",r&&ke(r))?r:(o&&(gi.removeCampaignLevelStyleTag(e),l({msg:Ba.SPLIT.CUSTOM_REDIRECTION.MALFORMED_URL,url:"utils/customCodeRedirectUtils/utilsMT.ts",source:window.VWO._.native.JSON.stringify({redirectURL:r})})),null)}window.VWO._.computeAndValidateCustomRedirectUrl=Ha;class Ka extends Ea{constructor(){super(),this.preview=L,this.currentCombinationXPaths={},window.VWO._.phoenixMT.on(j.CAMPAIGN_TAG_EXECUTED,(({rtag:e,id:t,rTagXpath:n})=>{e&&gi.updateRTagsInfo(t,{tag:e,rTagXpath:n})})),window.VWO._.phoenixMT.on("vwo_urlChangeMt",(()=>{xi(),Fi()})),window._vwo_api_section_callback={},F()}getElementIdentifierString(e,t){let n="vwo_loaded_"+e.id;return"VISUAL"!==e.type&&null!=t&&(n+="_"+t),n}isChangeAppliedOnElForCampaign(e,t,n){const o="string"==typeof e?e:e.tagName;return"head"===(null==o?void 0:o.toLowerCase())&&(n=null),vwo_$(e).hasClass("vwo_loaded")&&vwo_$(e).hasClass(this.getElementIdentifierString(t,n))}markChangeAppliedOnElForCampaign(e,t,n,o,i){"head"===(null==e?void 0:e.toLowerCase())&&(n=null);const r=this.getElementIdentifierString(t,n);return o&&vwo_$(o).addClass("vwo_loaded vwo_loaded_"+t.id+" _vwo_variation_"+i),vwo_$(e).addClass("vwo_loaded "+r)}unhideElementPerVariationEntry(e,t,n,o){const i={ruleName:"",rulesArr:[],campaignData:t,variation:gi.isPersonalizeCampaign(t)?o.combination:null};n&&n.cpath?i.rulesArr=[e,n.cpath]:i.ruleName=e,Ui(i,{shouldNotUnhide:o.shouldNotUnhide,tagName:n&&n.tag,campId:t.id})}tryApplyingChanges(e,t,n,o){var i;if(!gi.isDomIndependentCampaign(t.type)){if(gi.isPersonalizeHoldback(t)&&!L()&&!t.debug){const t=e.split(",");e=t.length>1&&t[1]}(null===(i=window._vwoCc)||void 0===i?void 0:i.disableRetryWhenMutDisabled)||u((()=>t.muts.post.enabled))||!t.xPath||gi.isXpathAllHead(t,t.xPath)||(t.timeout=requestAnimationFrame((()=>{this.tryApplyingChanges(e,t,n,o)})),window._vwo_exp[t.id]&&(window._vwo_exp[t.id].timeout=t.timeout)),xi(t.id),this.performChangeApplication({combination:e,campaignData:t,keepElementLoadedRunning:o}),window._vwo_exp[t.id]&&(window._vwo_exp[t.id][Zt]=!0),F()}}performChangeApplication({combination:e,campaignData:t,keepElementLoadedRunning:n,avoidFiringPhoenixEvents:o=!1,fromMT:i=!1}){let r={trigger:(e,n)=>(t[xa]?Ma(n,e):(t[Da]=t[Da]||[],t[Da].push(Object.assign(Object.assign({},n),{eventName:e}))),Promise.resolve())},s=(e,t,n)=>Promise.resolve();o||(r={trigger:(e,t)=>v(this,void 0,void 0,(function*(){return window.VWO.phoenix('trigger("${{1}}", "${{2}}")',null,{captureGroups:[e,t]})}))},s=(e,t,n)=>Wi(null,e,t,n)),this.applyChanges({combination:e,campaignData:t,keepElementLoadedRunning:n,eventTriggerMethods:{vwoEvents:r,fireEventAndSyncData:s},fromMT:i})}applyChanges({combination:e,campaignData:t,keepElementLoadedRunning:n,variationDataList:o=[],eventTriggerMethods:i,fromMT:r=!1}){var s;const{vwoEvents:a,fireEventAndSyncData:d}=i;gi.setCampaignAppliedFlag(t,!0);const l=window.VWO;let w,_,g,p,h,v,f,m,O,E,S=e.split(","),T=0;const C=t.type,I=t.sections,y=window._vwo_exp[t.id].sections,A=gn.apiSectionCallback||{},b=window.vwo_$;try{for("VISUAL_AB"===C&&(O=o.length>0?o:I[1].variations[e],O?("object"!=typeof O&&(O=vwo_$.parseJSON(O)),S=new Array(O.length)):S=[]),m=S.length,window.VWO._.phoenixMT.trigger(j.SET_CAMPAIGN_TO_OBSERVE,{campaignId:t.id}),f=0;f<m;f++){w=void 0;const i=(null==O?void 0:O[f])||{},c=i.dHE;g=i.rtag,p=i.xpath;const m=O&&O[f].entryIndex||f;if(O&&(null===(s=O[f])||void 0===s?void 0:s.iT)?window.vwo_$.setItCallback||(window.vwo_$=(...e)=>(e.push({iT:!0}),b(...e)),Object.assign(window.vwo_$,b),window.vwo_$.setItCallback=!0):window.vwo_$!==b&&(window.vwo_$=b),"VISUAL_AB"===C){if(T=1,!(h=i.xpath))continue;"head"===h.toLowerCase()||this.isChangeAppliedOnElForCampaign(h,t,m)?delete this.currentCombinationXPaths[h]:this.currentCombinationXPaths[h]=[T,e],_=i.tag,w=l._.allSettings.tags[_].fn}else{if(h=I[++T].path,!h)continue;if("head"===h.toLowerCase()||this.isChangeAppliedOnElForCampaign(h,t,m)||(this.currentCombinationXPaths[h]=[T,S[f]]),1===t.version&&1===parseInt(S[f],10)){a.trigger(j.ELEMENT_LOADED,{oldArgs:[t.id,T,S[f],h]}),this.markChangeAppliedOnElForCampaign(h,t,m),this.unhideElementPerVariationEntry(h,t,O&&O[f],{combination:e,shouldNotUnhide:c});continue}I[T].variations[S[f]].length>0&&(_=I[T].variations[S[f]][0].tag,w=window.VWO._.allSettings.tags[_].fn||Kt)}const V=w?w.toString():"";if(O&&O[f].t&&0===o.length){const o=[Object.assign(Object.assign({},O[f]),{entryIndex:f})];ni(Object.assign(Object.assign({},O[f]),{campId:t.id}),function(){this.applyChanges({combination:e,campaignData:t,keepElementLoadedRunning:n,variationDataList:o,eventTriggerMethods:{vwoEvents:a,fireEventAndSyncData:d}})}.bind(this));continue}if("head"===h.toLowerCase()){if(y[T].loaded=y[T].loaded||{},!0===y[T].loaded[m])continue;{a.trigger(j.ELEMENT_LOADED,{oldArgs:[t.id,T,S[f],h]});const n={oldArgs:[t.id,T,"VISUAL"===C?S[f]:e,h,V]};a.trigger(j.ELEMENT_CHANGES_APPLIED,n),d(j.MODIFIED_ELEMENT,{id:t.id,section_id:T,combination:"VISUAL"===C?S[f]:e,path:h,content:w})}}E=vwo_$(h);const N=this;if(E&&E.length){if(v=E.filter((function(e,n){return!N.isChangeAppliedOnElForCampaign(n,t,m)})),v.length||"head"!==h.toLocaleLowerCase()||y[T].loaded[m]||(v=E),0<v.length){"head"===h.toLowerCase()&&(y[T].loaded[m]=!0),"VISUAL"===C?a.trigger(j.ELEMENT_LOADED,{oldArgs:[t.id,T,S[f],h]}):a.trigger(j.ELEMENT_LOADED,{oldArgs:[t.id,"1",e,h]}),delete this.currentCombinationXPaths[h];const n=[];let o;const i=function(e,t){n.push({path:t,changes:String(e).split(" ")})};let s;-1!==V.indexOf("_vwo_api_section_callback")&&(o=[],v.each((function(){o.push(vwo_$(this).clone())}))),window.VWO_SECTION_ID=T,F((n=>{u((()=>$i({campaignId:t.id,combination:e,errorObject:n,tagName:_})))}));let{nonce:l=""}=window.VWO;l&&(l=`nonce=${l}`);try{const e=e=>e&&e(i,l,{id:t.id});if("head"===h.toLowerCase()&&r){const t=w;vwo_$(document).ready((function(){s=e(t)}))}else s=e(w)}catch(e){window.VWO._.vAEH(e)}window.VWO._.phoenixMT.trigger(j.CAMPAIGN_TAG_EXECUTED,{rtag:g,id:t.id,rTagXpath:p}),void 0!==o&&vwo_$(o).each((function(){A[T]&&"function"==typeof A[T]&&A[T](vwo_$(h),this)})),this.unhideElementPerVariationEntry(h,t,O&&O[f],{combination:e,shouldNotUnhide:c}),this.markChangeAppliedOnElForCampaign(h,t,m,s,T),window.VWO._.phoenixMT.trigger(j.INIT_VWO_INTERNALS,{elementSelector:h,campaignId:t.id});const E={id:t.id,section:"VISUAL"===C?T:"1",combination:"VISUAL"===C?S[f]:e,path:h,content:w,debugLog:n};if("head"!==h.toLowerCase()){const e={oldArgs:[E.id,E.section,E.combination,h,V,n]};a.trigger(j.ELEMENT_CHANGES_APPLIED,e)}d(j.MODIFIED_ELEMENT,{name:j.MODIFIED_ELEMENT,time:+new Date,props:E}),d(j.ELEMENT_CHANGES_APPLIED,{name:j.ELEMENT_CHANGES_APPLIED,time:+new Date,props:{id:t.id,section:"1",combination:e,path:h}}),t[jt]=1}else this.unhideElementPerVariationEntry(h,t,O&&O[f],{combination:e,shouldNotUnhide:c});O&&O[f].frEvt&&ti(O[f].tag)}else this.unhideElementPerVariationEntry(h,t,O&&O[f],{combination:e,shouldNotUnhide:c});null!=(n=window.VWO._[`keepElementLoadedRunning_${t.id}`]||n)&&l._.coreLib.finished&&this.shouldCancelInterval(n,t.id,t)&&Ca.clearTimeouts(t)}}catch(n){a.trigger(j.ELEMENT_LOAD_ERROR,{oldArgs:[t.id,e,n]}),c.error(n)}window.vwo_$=b,delete window.VWO_SECTION_ID}substituteUrlGroups(e,t){return e.replace(/\$(\d+)/g,(e=>{const n=parseInt(e.replace("$",""),10);return t[n]||""}))}processRedirect({getters:e,campaignData:t,redirectURL:n,isNewVisitor:o,combination:i}){return v(this,void 0,void 0,(function*(){_n.set(),window.VWO._.triggerEvent(j.REDIRECT_DECISION,!0,t.id);let r,s,a,c,d,l,w,_,g=!1;const p=e.location;let h=!0,v=!0;const f=u((()=>t.sections[1].urlModes))||{};if(t.urlRegex){if(g=Jn.matchRegex(ya.getCleanedUrl(e.currentUrl,!0),t.urlRegex,!0,!1,!0),1===f[tn]){const e=Array.from(g);let t=!1,n=!1;e.forEach((e=>{e=e||"",t=t||e.startsWith("?"),n=n||e.startsWith("#")})),h=t,v=n}}else g=Jn.matchWildcard(ya.getCleanedUrl(e.currentUrl,!0),t.url_pattern,!0);if(4===f[i])c=this.substituteUrlGroups(n,g);else if(g&&1!==g.length){for(c="",w=n.split("*"),r=1,s=w.length;r<s;r++){if(t.urlRegex&&g[r]&&(Li.isQueryParamPresent(g[r])||Li.isHashPresent(g[r]))){const e=t.sections[1].variations[1];Li.isQueryParamPresent(e)||Li.isHashPresent(e)?Li.isHashPresent(e)&&!Li.isQueryParamPresent(e)?g[r]=g[r].replace(/^(.*?)(?:\?[^#]*)(#?.*)$/,"$1$2"):!Li.isHashPresent(e)&&Li.isQueryParamPresent(e)&&(g[r]=g[r].replace(/#.*/,"")):g[r]=g[r].replace(/[\?#].*/,"")}c+=w[r-1]+(g[r]||"")}c+=w[w.length-1]}else c=n;if(c=c.replace(/\*/g,""),p.search&&h)if(Li.isQueryParamPresent(c,!0))for(l=Li.getUrlVars(p.search),d=Li.getUrlVars(c),_=b(l),s=_.length;s--;)a=_[s],void 0===d[a]&&(c+="&"+a+"="+l[a]);else Li.isHashPresent(c)?c=c.replace(/(.*?)#(.*)/,"$1"+p.search+"#$2"):c+=p.search;if(p.hash&&-1===c.indexOf("#")&&v&&(c+=p.hash),window.fetcher.getValue('phoenix.trigger("${{1}}","${{2}}")',null,{captureGroups:[j.BEFORE_REDIRECT_TO_URL,{oldArgs:[t.id,c]}]}),e.flags.cookieLessModeEnabled){if(!e.vwoInternalProperties.jar)throw new Error("Cookie less feature is enabled but CookieJar is not created");const t=e.storages.storages.cookies.getStoredJarValue(!0);if(!(c.indexOf("_vwo_store=")>-1))throw new Error("CooKie Less feature is enabled but _vwo_store= do not exists in URL's query Param");{let e=c.match(/.*_vwo_store=([^&]*)/);e=e?e[1]:"",c=c.replace(`_vwo_store=${e}`,`_vwo_store=${t}`)}}if(Ao(t,i)){const e=!(!t||!t.multiple_domains);this.setSplitCookieWithURL({campaignData:t,combination:i,urlToRedirectTo:c,shouldCreateAsThirdParty:e}),e&&(yield new Promise((e=>{Ze.waitForThirdPartySync((()=>{e()}))})))}const m=e=>{Ws({type:Ls.DEBUG_REDIRECT,expId:t.id,varId:window._vwo_exp[t.id].combination_chosen,pageLink:e});try{const n=Qn(t.id);let o=!1;if(o=new URL(e).origin===p.origin,n&&o)return history.replaceState(null,null,e),void gi.removeCampaignLevelStyleTag(t.id)}catch(e){}p.replace(e)};if(window.VWO._.willRedirectionOccur=!1,window._vis_debug||!o||window._vwo_exp[t.id].vSCallSent)gi.saveVSDataInStorageForSplit(t.id,window._vwo_exp[t.id].combination_chosen,c),window.sessionStorage.setItem(Yt.SPLIT_REDIRECT,c),m(c);else{const e=window.VWO._.phoenixMT.on(`vwo_vSCallSent_${t.id}`,(({id:t,comb:n})=>{window.VWO._.phoenixMT.off(e),gi.saveVSDataInStorageForSplit(t,n,c),window.sessionStorage.setItem(Yt.SPLIT_REDIRECT,c),m(c)}))}}))}shouldCancelInterval(e,t,n){return!e||0==e||1!==e&&!0!==e&&(2===e?!t||(!gi.isDomDependent(n.type)||!!n[jt]):3!==e&&void 0)}otherSide(...e){e[0]="tags.runTestCampaign.utils."+e[0],window.fetcher.getValue(...e)}}const qa=new Ka;window.VWO.modules.tags.runTestCampaign=window.VWO.modules.tags.runTestCampaign||{},window.VWO.modules.tags.runTestCampaign.utils=qa;class Ja extends da{constructor(){super(),this.isNotRedirectingEventFired=!1,this.vwoEvents={trigger:function(e,t){return v(this,void 0,void 0,(function*(){yield window.VWO.phoenix('trigger("${{1}}", "${{2}}")',null,{captureGroups:[e,t]})}))}},window.VWO._.phoenixMT.on(j.VARIATION_SHOWN_SENT,(e=>{const t=window.VWO._.native.JSON.parse(localStorage.getItem(Xt.VS_DATA));t&&delete t[e]&&(Object.keys(t).length>0?localStorage.setItem(Xt.VS_DATA,window.VWO._.native.JSON.stringify(t)):localStorage.removeItem(Xt.VS_DATA))}))}execute(){var e,t;window._vis_opt_goal_conversion=function(e){var t,n;(null===(t=window._vwoCc)||void 0===t?void 0:t.delayCustomGoal)?(null===(n=window.VWO._.phoenixMT.getEventHistory("vwo_campaignsLoaded"))||void 0===n?void 0:n.length)>0?Wi(null,j.CUSTOM_CONVERSION,{gId:e,["gId_"+e]:1}):window.VWO._.phoenixMT.on("vwo_campaignsLoaded",(()=>{Wi(null,j.CUSTOM_CONVERSION,{gId:e,["gId_"+e]:1})})):Wi(null,j.CUSTOM_CONVERSION,{gId:e,["gId_"+e]:1})},window._vis_opt_register_conversion=function(e,t){var n,o;(null===(n=window._vwoCc)||void 0===n?void 0:n.delayCustomGoal)?(null===(o=window.VWO._.phoenixMT.getEventHistory("vwo_campaignsLoaded"))||void 0===o?void 0:o.length)>0?Wi(null,j.CUSTOM_CONVERSION,{cId:t,gId:e,["gId_"+e]:1}):window.VWO._.phoenixMT.on("vwo_campaignsLoaded",(()=>{Wi(null,j.CUSTOM_CONVERSION,{cId:t,gId:e,["gId_"+e]:1})})):Wi(null,j.CUSTOM_CONVERSION,{cId:t,gId:e,["gId_"+e]:1})},window._vis_opt_revenue_conversion=function(e){var t,n;(null===(t=window._vwoCc)||void 0===t?void 0:t.delayCustomGoal)?(null===(n=window.VWO._.phoenixMT.getEventHistory("vwo_campaignsLoaded"))||void 0===n?void 0:n.length)>0?Wi(null,j.REVENUE_CONVERSION,{revenue:e}):window.VWO._.phoenixMT.on("vwo_campaignsLoaded",(()=>{Wi(null,j.REVENUE_CONVERSION,{revenue:e})})):Wi(null,j.REVENUE_CONVERSION,{revenue:e})},window.VWO.track=window.VWO.track||{},window._vis_opt_createCookie=function(e,t,n,o){gi.createCookieMT(e,t,n,window._vwo_exp[o])},null===(t=null===(e=window.VWO_d)||void 0===e?void 0:e.resetPreviewData)||void 0===t||t.call(e),window._vis_opt_readCookie=Ze.get,window._vis_opt_element_loaded=qa.tryApplyingChanges}checkIfNotRedirecting(e){const t=u((()=>window.VWO.survey.eventEnums),void 0,{}),n=Object.assign(Object.assign({},Fr),t);this.isNotRedirectingEventFired||e.name!==j.PAGE_VIEW||this.isNotRedirectingEventFired||(this.isNotRedirectingEventFired=!0,x.apply(x,[n.NOT_REDIRECTING]))}wildCardCallback(e,t){const n=u((()=>window.VWO.survey.eventEnums),void 0,{}),o=Object.assign(Object.assign({},Fr),n),i=u((()=>window.VWO.survey.eventMapping),void 0,{}),r=Object.assign(Object.assign({},$r),i);this.checkIfNotRedirecting(e);const s=r[t];if(s&&j.VARIATION_APPLIED!==t){const n=o[s];let i,a=null==e?void 0:e.oldArgs;if(a?i=!0:a=[],!i&&jr[t]&&(a=jr[t](e.props)),t!==j.VARIATION_SHOWN||e.props.isFirst||e.props.isSplitVariation?t===j.ELEMENT_CHANGES_APPLIED?i&&x.apply(x,[n,...a]):t!==j.VARIATION_SHOWN&&(t==j.CAMPAIGN_FLOW_START&&window._vwo_code&&(window._vwo_code.libExecuted=1,window.fetcher.setValue("_vwo_code.libExecuted",1)),x.apply(x,[n,...a]),t==j.CAMPAIGN_FLOW_START&&window.VWO.phoenix('trigger("${{1}}")',null,{captureGroups:[j.TIB_DONE]})):x.apply(x,[n,...a]),t===j.VARIATION_SHOWN&&!e.props.isFirst&&!e.props.isSplitVariation||t===j.SPLIT_VARIATION_SHOWN||t==j.REGISTER_HIT){const e=o[r[j.VARIATION_APPLIED]];x.apply(x,[e,...a]),this.vwoEvents.trigger(j.VARIATION_APPLIED,{oldArgs:a,campaignId:parseInt(a[0],Bt),combi:a[1].includes(",")?a[1]:parseInt(a[1],Bt)})}}}}const Xa=new Ja,Ya=Xa.execute.bind(Xa),za=Xa.wildCardCallback.bind(Xa);window.VWO.modules.tags.backwardCompatibility=Ya,window.VWO.modules.tags.wildCardCallback=za;class Qa{otherSide(...e){return e[0]="VWO.modules.tags.backwardCompatibilityUtils."+e[0],e[2]&&(e[2]={captureGroups:e[2]}),window.fetcher.getValue(...e)}}class Za{setItem(e,t){e=this.getKeyBasedOnMode(e),$o.set(e,window.VWO._.native.JSON.stringify(t))}getItem(e){return e=this.getKeyBasedOnMode(e),$o.get(e)}removeItem(e){e=this.getKeyBasedOnMode(e),$o.remove(e)}getKeyBasedOnMode(e){if(!window._vis_debug&&!L())return e;return"debug"+e+"_"+Object.keys(window._vwo_exp||{}).join("_")}}let ec=new Za,tc=!1,nc=!1;const oc=e=>{!tc&&ac()&&(window.VWO._.phoenixMT.trigger("vwo_completeStalledSession",e),tc=!0)},ic=()=>{try{const e=Ze.get(Be.TRACK_SESSION_COOKIE_NAME);return!!e&&"1"===e.split(":")[Be.SESSION_SYNCED_STATE_INDEX]}catch(e){return!1}},rc=()=>{nc||(nc=!0)},sc=()=>!!fo&&(!ic()&&-1===document.cookie.search(/_vis_opt_exp_\d+_combi/)&&!window.VWO._.insightsUtils.isVisBucketedForTrack()&&(rc(),!0));nc=sc();const ac=()=>!!nc;let cc;function dc(e){return v(this,void 0,void 0,(function*(){yield ae.phoenix('store.actions.addValues("${{1}}", "${{2}}" )',null,{captureGroups:[e,"vwoInternalProperties"]})}))}window.VWO.modules.utils.sessionHandler=window.VWO.modules.utils.sessionHandler||{},window.VWO.modules.utils.sessionHandler={fireCompleteStalledEvent:oc,shouldStallSessionCall:sc};class lc{constructor(){this.apiCallbacks={}}register(e,t){this.apiCallbacks[e]=this.apiCallbacks[e]||[],this.apiCallbacks[e].push(t)}executeAll(e,t){this.apiCallbacks[e]&&this.apiCallbacks[e].forEach((e=>{e(t)}))}}const uc=new lc;let wc=!1;class _c extends Qa{postPhoenixMTHook(){this.makeSessionAndTagCall()}declareVWOAPI(){ae.applyChanges=function(e){return v(this,void 0,void 0,(function*(){const t=[],n=(yield ae.phoenix("store.getters")).currentSettings.dataStore.campaigns;for(const e in n)t.push(e);e=e||t;for(var o=0;o<e.length;o++){const t=e[o],i=gi.isBotScreen();yield window.fetcher.getValue('VWO.modules.events.events.variationShown("${{1}}", "${{2}}", "${{3}}")',null,{captureGroups:[null,Object.assign({id:t,variation:"",isFirst:0},i&&{vwoMeta:{isBot:i}}),n[t]]})}}))},ae.activate=function(e,t,n,o){var i;return v(this,void 0,void 0,(function*(){if((L()||window._vis_debug)&&window.VWO._.blockedState)return;window.VWO.phoenix('trigger("${{1}}")',null,{captureGroups:[j.ACTIVATE_API_TRIGGERED]});var n,r={};"object"==typeof e&&(e=(r=e).keepElementLoadedRunning,t=r.expIds,r.manual,o=r.customUrl,n=r.virtualPageUrl);const s=u((()=>window._vwoCc.activateApiOnce))||window._vwo_acc_id>81e4,a=u((()=>window._vwoCc.skipActivateOnSameUrl));if(!(o&&o===window._vis_opt_url&&s||n&&window.location.href===n&&a))if(o&&(window._vis_opt_url=o,window.fetcher.setValue("_vis_opt_url",window._vis_opt_url)),t=t||window._vwo_exp_ids,"string"==typeof n&&n.trim()){window._vis_opt_url=n,u((()=>window._vwoCc.enableSpaVisibility))&&window.VWO._.phoenixMT.trigger(j.SPA_VISIBILITY_SERVICE);const e=po();e&&window.VWO._.phoenixMT.trigger("vwo_reRun"),gi.fireUrlChangeWildCardEvent(),yield window.fetcher.getValue('phoenix.trigger("${{1}}", "${{2}}")',null,{captureGroups:["vwo_urlChange",{virtualPageUrl:n,location:{href:window.location.href,search:window.location.search,hash:window.location.hash}}]}),e&&window.VWO._.phoenixMT.trigger("vwo_urlChangeMt")}else if(t&&t.length){for(const n of t){const t=window._vwo_exp[n];if(t){if(gi.isSessionBasedCampaign2(t)&&(null===(i=window.VWO._.track)||void 0===i?void 0:i.isUserBucketed())){Wi(null,j._ACTIVATED,{id:n});continue}(null==t?void 0:t.manual)&&(window.VWO._[`keepElementLoadedRunning_${n}`]=e,dc({[`keepElementLoadedRunning_${n}`]:e}),Wi(null,j.ACTIVATED,{id:n}))}}o&&(pr.removeByEventName(j.PAGE_VIEW),yield window.fetcher.getValue("VWO.modules.tags.activate"))}}))},ae.revertChanges=function(e){return v(this,void 0,void 0,(function*(){const t=window._vwo_exp[e];if(!t)return;t.isApplicable=0,gi.runRevertTagsAndUpdateInfo({[e]:t}),t.isApplicable=1,delete t.mutElg,delete t.cA;const n=(yield ae.phoenix("store.getters")).currentSettings.dataStore.campaigns[e];if(n&&n.sections)for(var o=_e(n.sections),i=0;i<o.length;i++)vwo_$(".vwo_loaded.vwo_loaded_"+e+"._vwo_variation_"+o[i]).remove(),delete n.sections[o[i]].loaded,yield window.fetcher.setValue(`VWO._.allSettings.dataStore.campaigns.${e}.sections.${o[i]}.loaded`,void 0)}))},ae.destroy=function(){return v(this,void 0,void 0,(function*(){yield ae.phoenix("destroy()"),ua.clearAllListeners()}))},ae.setFetchSettingsDelay=function(e){dc({SPA_SETTINGS_DELAY:e})},ae.disableAutofetchSettings=function(){dc({disableAutofetchSettings:!0})};const e=(e,t)=>{var n=vwo_$(e),o=Array.from(n[0].classList);for(let e=0;e<o.length;e++)if(o[e].indexOf(t)>-1)return n.removeClass(o[e]),!0;return!1};ae.refreshElements=function(t,n){var o;return v(this,void 0,void 0,(function*(){if(!t)return;t instanceof Array||(t=[t]);const i=yield ae.phoenix("store.getters"),r=[];for(const e in i.currentSettings.dataStore.campaigns)r.push(e);n=n||r;for(var s=vwo_$(t.join(",")),a=0;a<n.length;a++){var c="vwo_loaded_"+n[a];s.each((function(t,n){if(!e(n,c)){const t=Array.from(vwo_$(n).parents());for(let n=0;n<t.length&&!e(t[n],c);n++);}}))}for(const e of n){const t=null===(o=i.currentSettings.dataStore.campaigns)||void 0===o?void 0:o[e];if(t&&t.ready){const n=gi.isBotScreen();yield window.fetcher.getValue('VWO.modules.events.events.variationShown("${{1}}", "${{2}}", "${{3}}")',null,{captureGroups:[null,Object.assign({id:e,variation:"",isFirst:0},n&&{vwoMeta:{isBot:n}}),t]})}}}))},ae.fetchPCSettings=function(){cc||(cc=!0,dc({loadPC:!0}))},ae.enableSPA=function(e){dc(void 0===e||e?{isSpaEnabled:!0}:{isSpaEnabled:e})},ae.updateSPAWaitTime=function(e){dc({SPA_ELEMENT_WAIT_TIMEOUT:e})},ae.onEventTriggered=function(e){uc.register("onEventTriggered",e),wc||(wc=!0,window.VWO.phoenix('on("${{1}}", "${{2}}")',null,{captureGroups:["*",e=>{if(e.isCustomEvent){const t={event:e.name};e.$metaData&&(t.metaData=e.$metaData,delete e.$metaData),delete e.page,delete e.isCustomEvent,delete e.name,Object.keys(e).length>0&&(t.props=e),uc.executeAll("onEventTriggered",t)}}]}))},ae.onVWOCampaignsLoaded=function(e,t){"object"==typeof t&&+t.count>0&&Object.assign(e,t),window.VWO._.bucketedCampaignsAPIStore=window.VWO._.bucketedCampaignsAPIStore||{},window.VWO._.bucketedCampaignsAPIStore.callbacks=window.VWO._.bucketedCampaignsAPIStore.callbacks||[],window.VWO._.bucketedCampaignsAPIStore.campaigns&&(e({bucketed_campaigns:window.VWO._.bucketedCampaignsAPIStore.campaigns}),u((()=>"number"==typeof e.count))&&--e.count),window.VWO._.bucketedCampaignsAPIStore.callbacks.push(e)};const t={state:!1,decisionState:null,cb:[]};window.VWO._.phoenixMT.on("vwoRedirectDecision",(e=>{t.state||(t.state=!0,t.decisionState=e,t.cb.forEach((t=>t(e))))})),window.VWO._.phoenixMT.on("vwo_urlChangeMt",(()=>{t.state=!1,t.decisionState=null})),ae.onSplitRedirectionDecided=e=>{t.state&&e(t.decisionState),t.cb.push(e)},ae.deactivate=function(e){return v(this,void 0,void 0,(function*(){const t=yield ae.phoenix("store.getters");for(const n of e)t.settings.campaigns[n].dontKillTimer=!1,yield window.fetcher.setValue(`VWO._.allSettings.dataStore.campaigns.${n}.dontKillTimer`,!1)}))},ae.getVisitorProps=function(e,t=""){return u((()=>window.VWO.attributesData[e]))||u((()=>window.VWO._.native.JSON.parse(ec.getItem("_vwo_visProps"))[e]),{sendErrorLog:!1},t)}}makeSessionAndTagCall(){const e=e=>{let t={};e&&e.props&&(t=e.props),t.cq=0,window._vis_debug||L()||this.makeCallForTagsAndSession(t,"newSession")};window.VWO._.phoenixMT.on(j.NEW_SESSION_CREATED,(t=>{ac()||e(t)}));const t=window.VWO._.phoenixMT.on("vwo_completeStalledSession",(n=>{ic()||e(n),window.VWO._.phoenixMT.off(t)}));window.VWO._.phoenixMT.on(j.DIMENSION_TAG_PUSHED,(e=>{const t=e;this.makeCallForTagsAndSession(t,"sessionUpdate")}))}makeCallForTagsAndSession(e,t){return v(this,void 0,void 0,(function*(){const n=window.VWO._.sessionInfoService;void 0!==ae._.insightsOnConsentPromise&&(yield ae._.insightsOnConsentPromise),n.markSessionSynced();const o=n.getSessionId(),i=n.getPageId(),r=gi.extraData2(!0),s=encodeURIComponent(r),a=gi.createUUIDCookie2({vwoUUID:gn.vwoUUID}),c="s.gif?account_id="+gn.accountId+gi.getUUIDString(a)+"&s="+o+("newSession"===t?"&ed="+s+"&cu="+encodeURIComponent(gn.currentUrl)+"&r="+(ae.data.vi&&"new"===ae.data.vi.vt?0:1):"")+"&p="+i+(e.tags?"&tags="+e.tags:"")+(e.egTagValue?"&eg="+e.egTagValue:"")+(e.funnelTagValue?"&fIds="+e.funnelTagValue:"")+("sessionUpdate"===t?"&update=1":"")+(6==window._vwo_acc_id&&e.batch?"&batch="+e.batch:"")+(6==window._vwo_acc_id&&e.tags?"&tagsLength="+(window.VWO._.native.JSON.parse(e.tags).si&&Object.keys(window.VWO._.native.JSON.parse(e.tags).si).length):"")+(6==window._vwo_acc_id&&e.calledByUnload?"&isUnload="+e.calledByUnload:"")+(window._vwo_acc_id,"&cq=")+e.cq+(e.cq?"&ttl="+He():"");try{window.VWO._.native.JSON.parse(decodeURIComponent(s)).lt}catch(e){l({msg:"extraData(ed) is not a JSON string [while sending call for 's.gif']",url:"utilsMT.ts",source:window.VWO._.native.JSON.stringify({extraData:r,lt:(new Date).getTime(),referrer:_n.get(),requestURL:c})})}yi.sendCall({serverUrl:gn.serverUrl,accountId:gn.accountId},{url:c},{},(({isError:e})=>{!e&&"newSession"==t&&Jt.includes(window._vwo_acc_id)&&gi.setOnLocalStorageOnBothThreads("vwo_newSessionCreated",{uuid:a,sessionId:o,sessionCookie:Ze.get(Be.TRACK_SESSION_COOKIE_NAME),cURL:gn.currentUrl})}))}))}sendRegisterCall(e,t,n){yi.sendCall(e,{url:t,successCallback:n},null,null,!0)}}const gc=new _c;window.VWO.modules.tags.backwardCompatibilityUtils=gc;class pc{otherSide(...e){return e[0]="VWO.modules.tags.setSession."+e[0],window.fetcher.getValue(...e)}}class hc{otherSide(...e){return e[0]="VWO.modules.tags.sessionInfoService."+e[0],e[2]&&(e[2]={captureGroups:e[2]}),window.fetcher.getValue(...e)}}function vc(e,t,n){"Array"===e?(this.tags=[],this.lastSent=0):"Hash"===e&&(this.tags={},this.sentTags={},6==window._vwo_acc_id&&(this.tags2={},this.sentTags2={})),this.type=e,this.maxCount=t||1/0,this.addTagCallback=n||function(){}}hc.LOCAL_STORAGE_SESSION_EXPIRY=30,hc.LOCAL_STORAGE_NAME=window._vis_debug?"debug_vwoSn":"vwoSn",hc.ACCOUNT_ID=window._vwo_acc_id,vc.prototype.add=function(e,t){if(e){var n=this.tags;"Array"===this.type?("[object Array]"!==Object.prototype.toString.call(e)&&(e=[e]),e=me(e,(function(e){return e=encodeURIComponent(e.trim())})),n=Oe(n=(n=n.concat(e)).slice(0,this.maxCount),(function(e,t){return n.indexOf(e)===t})),this.tags=n):"Hash"===this.type&&(this.sentTags[e]&&this.sentTags[e]===encodeURIComponent(t)||(this.tags[encodeURIComponent(e)]=encodeURIComponent(t)),6==window._vwo_acc_id&&(this.sentTags2[e]&&this.sentTags2[e]===encodeURIComponent(t)||(this.tags2[encodeURIComponent(e)]=encodeURIComponent(t)))),this.addTagCallback()}},vc.prototype.get=function(e){var t;if(this.isTagPassed(e))return"Array"===this.type?(t=this.tags.slice(this.lastSent),this.lastSent=this.tags.length):"Hash"===this.type&&(e?(t=this.tags2,ge(this.sentTags2,this.tags2),this.tags2={}):(t=this.tags,ge(this.sentTags,this.tags),this.tags={})),t},vc.prototype.isTagPassed=function(e){if("Array"===this.type)return this.tags.length>this.lastSent;if("Hash"===this.type){const t=e?this.tags2:this.tags;return _e(t).length>0}return!1},vc.prototype.reset=function(){"Array"===this.type?(this.tags=[],this.lastSent=0):"Hash"===this.type&&(this.tags={},this.sentTags={},6==window._vwo_acc_id&&(this.tags2={},this.sentTags2={}))},vc.prototype.refresh=function(){"Array"===this.type?this.lastSent=0:"Hash"===this.type&&(ge(this.tags,this.sentTags),this.sentTags={},6==window._vwo_acc_id&&(ge(this.tags2,this.sentTags2),this.sentTags2={}))};const fc="eg",mc="fIds";let Oc={},Ec,Sc=["u","s","p","ui","si","pi"],Tc=function(){},Cc={user:"u",session:"s",page:"p"};for(Ec=0;Ec<Sc.length;Ec++)Oc[Sc[Ec]]=new vc("Hash");Oc[fc]=new vc("Array"),Oc[mc]=new vc("Array");const Ic={onPush:function(e){"function"==typeof e&&(Tc=e)},getTags:function(e){let t={},n="";for(Ec=0;Ec<Sc.length;Ec++){const n=Oc[Sc[Ec]].get(e);n&&(t[Sc[Ec]]=ko(n))}for(const e in t)t.hasOwnProperty(e)&&(n+='"'+e+'":'+t[e]+",");return n=n&&"{"+n.slice(0,-1)+"}",n},getEgTags:function(){const e=Oc[fc].get();if(e)return e.join()},getFunnelTags:function(){const e=Oc[mc].get();if(e&&e.length)return ko(e.map((e=>Number(e))))},addTag:function(e,t,n,o){let i=Cc[n=n||"session"];if(!i)if(n===fc)i=fc;else{if(n!==mc)return;i=mc}o&&(i+="i"),Oc[i].add(e,t),Tc()},refresh:function(){Oc.s.reset(),Oc.si.refresh(),Oc[fc].refresh()}};window.VWO.tag=Ic.addTag,window.VWO._.tags=Ic;const yc={getDataStore:function(){return this.getDSCookieValueByIndex(1)},setDataStore:function(e){Ze.create(Be.TRACK_GLOBAL_COOKIE_NAME,this.getMetaStore()+"$"+e,He())},getMetaStore:function(){return this.getDSCookieValueByIndex(0)||""},setMetaStore:function(e){Ze.create(Be.TRACK_GLOBAL_COOKIE_NAME,e+"$"+this.getDataStore(),He())},getMetaInfoByIndex:function(e){return this.getMetaStore().split(":")[e]},setMetaInfoByIndex:function(e,t){var n=this.getMetaStore().split(":");n[e]=t,this.setMetaStore(n.join(":"))},setDataInfoByIndex:function(e,t){var n=this.getDataStore().split(":");n[e]=t,this.setDataStore(n.join(":"))},getDataInfoByIndex:function(e){return this.getDataStore().split(":")[e]},getDSCookieValueByIndex:function(e){var t=Ze.get(Be.TRACK_GLOBAL_COOKIE_NAME);return t?t.split("$")[e]:null},getCookieVersion:function(){return Ze.get(Be.TRACK_GLOBAL_COOKIE_NAME).split("$")[0].split(":")[Be.COOKIE_VERSION_INDEX]},deleteDataStoreInfoByIndex:function(e){var t=this.getDataStore();t&&((t=t.split(":"))[e]="",t=t.join(":"),this.setDataStore(t))}};window.VWO._.commonCookieHandler=yc;class Ac{constructor(){this.eventCallbacks=[],this.isInitialized=!1}onActivity(){if(st.shouldWeTrackVisitor())for(let e=0;e<this.eventCallbacks.length;e++)this.eventCallbacks[e]()}init(){if(this.isInitialized)return;const e=ii((()=>{this.onActivity()}),1e3);document.addEventListener?(document.addEventListener("mouseup",e),811994===window._vwo_acc_id&&document.addEventListener("pointerdown",e),document.addEventListener("keyup",e),document.addEventListener("mousemove",e),document.addEventListener("scroll",e)):document.attachEvent&&(document.attachEvent("onmouseup",e),811994===window._vwo_acc_id&&document.attachEvent("onpointerdown",e),document.attachEvent("onkeyup",e),document.attachEvent("onmousemove",e),document.attachEvent("onscroll",e)),this.isInitialized=!0}track(e){this.eventCallbacks.push(e),this.init()}clearCallbacks(){this.eventCallbacks=[]}}const bc=new Ac;function Vc(){$o.remove(hc.LOCAL_STORAGE_NAME)}let Nc;window.VWO._.tua=bc;class Rc extends hc{constructor(){super(),this.imidiateUpdate=!0,this.firstSessionCreated=!1,this.vwoSn={cu:"",r:"",lt:0,v:"0.1.0"},Nc=this,this.expireSessionOnDateChange(),this.visitorInformation=window.VWO.data.vi=window.VWO.data.vi||{},this.setVWOSn(),this.getSessionStore()&&this.initialize(),bc.track((()=>{this.updateLocalStorageSession()}))}triggerNewSessionEvent(){window.VWO.phoenix('trigger("${{1}}")',null,{captureGroups:[j.NEW_SESSION_CREATED]}),window.VWO._.phoenixMT.trigger(j.NEW_SESSION_CREATED)}expireSessionOnDateChange(){if(!this.getSessionStore())return;const e=this.getSessionId();if(e){const t=new Date(1e3*e).getDate();new Date(Se()).getDate()!==t&&this.eraseSessionCookie()}}initializeSession2(e){const t=!this.getSessionStore();this.setSessionStore(e+""),this.setVisitorInformation(),this.updateAndSyncPageId(),this.initialize(t)}getDSCookieValueByIndex(e){var t=this.getGlobalCookie();return t?t.split("$")[e]:null}initialize(e){if(!this.isInitiatedOnce){if(this.isInitiatedOnce=!0,this.attachTagsPushCallback()||(null!=e?!e:this.getSessionStore())||this.triggerNewSessionEvent(),sc()){const e=u((()=>window.VWO._.native.JSON.parse(ec.getItem("_vwo_visProps"))));window.VWO._.phoenixMT.on("vwo_completeStalledSession",(()=>{e&&window.VWO.visitor(e,void 0,{dAR:!1}),window.VWO.phoenix('trigger("${{1}}")',null,{captureGroups:[j.NEW_SESSION_TRACKED]})}))}bc.track((()=>{this.updateSession()})),this.addValues({sessionStart:this.getSessionId()},"root"),this.fireSessionEvent()}}fireSessionEvent(){window.VWO.phoenix('trigger("${{1}}", "${{2}}" )',null,{captureGroups:[j.SESSION,{VWO:{firedTime:1e3*this.getSessionId()}}]})}attachTagsPushCallback(){let e,t,n;const o=this,i=function(i,r,s){e=Ic.getTags(r),n=Ic.getFunnelTags(),t=r?void 0:Ic.getEgTags();const a=gi.doesSessionBasedCampaignExistsInTags(e)||(n?1:0);if(!window._vis_debug&&!L()&&(e||t||n)){if(!i&&!o.getSessionStore()){const i={name:j.NEW_SESSION_CREATED,time:+new Date,props:{pageId:o.getPageId(),tags:e,egTagValue:t,funnelTagValue:n,cq:a,ttl:a&&He()}};return Wi(null,j.NEW_SESSION_CREATED,i),window.VWO._.phoenixMT.trigger(j.NEW_SESSION_CREATED,i),!0}r?window.VWO._.phoenixMT.trigger(j.DIMENSION_TAG_PUSHED,{tags:e,egTagValue:t,funnelTagValue:n,cq:a,ttl:a&&He(),batch:r,calledByUnload:s}):window.fetcher.getValue("VWO.modules.events.events.dimensionTagPushed",[null,{tags:e,egTagValue:t,funnelTagValue:n,cq:a,ttl:a&&He()}])}return!1};let r=!1;const s=ri(i,u((()=>window._vwoCc.sgifDelay))||10);const a=Ce(i,window.VWO._.pushThrottleTime||1e3);return Ic.onPush((()=>{s(!0),6==window._vwo_acc_id&&a(!0,!0)})),6==window._vwo_acc_id&&(window.VWO._.phoenixMT.on(j.PAGE_EXIT,(e=>{r||(i(!0,!0,!0),r=!0)})),window.VWO.pageExitListener=!0),i()}updateSession(){this.updateSession2()}updateSession2(){let e=this.getSessionStore();e&&this.expireSessionOnDateChange(),e=this.getSessionStore(),this.sessionTimer||e?(e&&(this.setSessionStore(e),this.addValues({sessionStart:this.getSessionId()},"root")),this.updateSessionTimer()):this.retrackVisitor()}updateSessionTimer(){this.sessionTimer&&clearTimeout(this.sessionTimer),this.sessionTimer=setTimeout((()=>this.eraseSessionCookie()),Be.SESSION_TIMER_EXPIRE)}retrackVisitor(){const e=Se(!0)-Nc.getFirstSessionId();Ic.refresh(),this.setSessionStore(e+""),this.setVisitorInformation(),this.triggerNewSessionEvent(),window.VWO.phoenix('trigger("${{1}}")',null,{captureGroups:[j.RETRACK_VISITOR]})}initializeSession(e){this.initializeSession2(e)}setVisitorInformation(e){window.VWO.data.vi.vt=Nc.visitorInformation.vt=e||(Nc.isReturningVisitor()?"ret":"new"),window.fetcher.setValue("VWO.data.vi.vt",window.VWO.data.vi.vt)}getPageIdInfo(){const e=this.getSessionStore(),t=e&&e.split(":")[Be.PAGE_ID_INFORMATION_INDEX];return t&&t.split("_")}markPageIdSessionExpiry(){const e=this.getPageId()+"_"+(Se(!0)-this.getFirstSessionId()+Be.PAGE_ID_EXPIRY);Nc.markPageId(e)}getPageId(){const e=this.getPageIdInfo(),t=e&&e[0];return t?parseInt(t,10):(this.imidiateUpdate=!1,1)}isReturningVisitor(){return Nc.getSessionId()>Nc.getFirstSessionId()}setVWOSn(){const e=this.getLocalStorageSession();e?this.vwoSn=e||{}:this.createLocalStorageSession()}getInfo(){return this.vwoSn}removeInfo(){this.vwoSn={cu:"",r:"",lt:0,v:"0.1.0"}}getRelativeSessionTimestamp(){const e=this.getFirstSessionId();return this.firstSessionCreated?Se(!0)-e:(this.firstSessionCreated=!0,Ee(!0)-e)}updateLocalStorageSession(){const e=this.getLocalStorageSession();!e||(Se(!0)-e.lt)/60>hc.LOCAL_STORAGE_SESSION_EXPIRY?this.createLocalStorageSession():this.updateTimestampInfo(e)}updateTimestampInfo(e){this.vwoSn=e,this.vwoSn.lt=Se(!0),this.setLocalStorageSession()}createLocalStorageSession(e){e?(this.vwoSn.cu=`${document.URL}#vwo_fix`,this.vwoSn.r=`${document.referrer}#vwo_fix`):(this.vwoSn.cu=document.URL,this.vwoSn.r=document.referrer),this.vwoSn.lt=Se(!0),this.setLocalStorageSession()}getLocalStorageSession(e){let t=$o.get(Rc.LOCAL_STORAGE_NAME);try{t=t?Mo(t):null}catch(t){Vc(),this.otherSide('createLocalStorageSession("${{1}}")',null,[!0]),e||this.getLocalStorageSession(!0)}return t?t.v?(t.cu=decodeURIComponent(t.cu),t.r=decodeURIComponent(t.r),t):(t.v="0.1.0",t):null}addValues(e,t){return window.VWO.phoenix('store.actions.addValues("${{1}}", "${{2}}" )',null,{captureGroups:[e,t]})}updateAndSyncPageId(){let e;e=window.VWO._.pageId,e||(e=this.updatePageId(),this.otherSide('setPageIdValue("${{1}}")',null,[e]))}updatePageId(){let e=this.getPageId();return this.shouldUpdatePageCount()&&(this.imidiateUpdate?e+=1:this.imidiateUpdate=!0),this.markPageId(e),window.VWO._.pageId=e,e}markPageId(e){this.setSNCookieValueByIndex2(Be.PAGE_ID_INFORMATION_INDEX,e)}setSNCookieValueByIndex2(e,t){const n=this.getSessionStore(),o=n&&n.split(":")||[];o[e]=t+"",this.setSessionStore(o.join(":"))}shouldUpdatePageCount(){const e=this.getPageIdInfo(),t=parseInt(e&&e[1],10);return!t||Se(!0)-Nc.getFirstSessionId()>t}setSNCookieValueByIndex(e,t){const n=this.getSessionStore(),o=n&&n.split(":")||[];o[e]=t+"",Ze.create(Be.TRACK_SESSION_COOKIE_NAME,o.join(":"),Be.TRACK_SESSION_COOKIE_EXPIRY)}getSessionId(){return this.getFirstSessionId()+this.getRelativeSessionId()}setSessionStore(e){if(st.shouldWeTrackVisitor())return Ze.create(Be.TRACK_SESSION_COOKIE_NAME,e,Be.TRACK_SESSION_COOKIE_EXPIRY)}getRelativeSessionId(){let e=this.getSessionStore();if(!e){var t=Se(!0)-this.getFirstSessionId();this.setSessionStore(t+""),e=this.getSessionStore()}return e&&+e.split(":")[Be.RELATIVE_SESSION_ID_INDEX]}setLocalStorageSession(){st.shouldWeTrackVisitor()&&(this.vwoSn.v&&(this.vwoSn.cu=encodeURIComponent(this.vwoSn.cu),this.vwoSn.r=encodeURIComponent(this.vwoSn.r)),$o.set(Rc.LOCAL_STORAGE_NAME,oi(this.vwoSn)))}getSessionStore(){return Ze.get(Be.TRACK_SESSION_COOKIE_NAME)}getGlobalCookie(){return Ze.get(Be.TRACK_GLOBAL_COOKIE_NAME)}eraseSessionCookie(){this.sessionTimer=null,Ze.erase(Be.TRACK_SESSION_COOKIE_NAME)}getPcTrafficFromCookie(){var e=yc.getDataStore();return e?parseFloat(e.split(":")[Be.PC_TRAFFIC_INDEX]):null}getFirstSessionId(){let e=yc.getDataStore();return e||(this.createGlobalCookie(),e=yc.getDataStore()),e&&+e.split(":")[Be.FIRST_SESSION_ID_INDEX]}getSNCookieValueByIndex(e){var t=this.getSessionStore();return t?t.split(":")[e]:null}createGlobalCookie(){if(!st.shouldWeTrackVisitor())return;const e=Be.COOKIE_VERSION+"$"+Ee(!0)+":"+this.getPcTraffic()+"::";Ze.create(Be.TRACK_GLOBAL_COOKIE_NAME,e,He())}isSessionInfoSynced(){return this.getSNCookieValueByIndex(Be.SESSION_SYNCED_STATE_INDEX)}markSessionSynced(){this.isSessionInfoSynced()||this.setSNCookieValueByIndex2(Be.SESSION_SYNCED_STATE_INDEX,1)}shouldStallSessionCall(){if(!fo)return!1;const e=document.cookie.search(/_vis_opt_exp_\d+_combi/);return!this.isSessionInfoSynced()&&-1===e&&!_.isVisBucketedForTrack()}getPcTraffic(){return void 0!==this.pcTraffic&&null!==this.pcTraffic||(this.pcTraffic=this.getPcTrafficFromCookie(),this.pcTraffic=this.pcTraffic||parseFloat((100*Math.random()).toFixed(8))),this.pcTraffic}shouldSendSessionInfoInCall(){return!0}}class Lc extends pc{constructor(){super(),window.VWO._.phoenixMT.on("vwo_phoenixInitCalled",(()=>{this.execute({vwoUUID:gn.vwoUUID})})),window.VWO._.phoenixMT.on("vwo_urlChangeMt",(()=>{window.VWO._.pageId=void 0,this.execute({vwoUUID:gn.vwoUUID})}))}execute(e){return v(this,void 0,void 0,(function*(){let t;if(window.VWO.modules.tags.sessionInfoService?t=window.VWO.modules.tags.sessionInfoService:(t=new Rc,window.VWO.modules.tags.sessionInfoService=t,window.VWO._.sessionInfoService=t),t.getSessionStore())Jt.includes(window._vwo_acc_id)&&gi.setOnLocalStorageOnBothThreads("vwo_newSessionCreated",{user:"old"},["user"]),t.fireSessionEvent(),t.setVisitorInformation(),t.updateAndSyncPageId();else{Jt.includes(window._vwo_acc_id)&&gi.setOnLocalStorageOnBothThreads("vwo_newSessionCreated",{user:"new"},["user"]),gi.createUUIDCookie2(e),t.getGlobalCookie()||t.createGlobalCookie();const n=t.getRelativeSessionTimestamp();t.initializeSession2&&t.initializeSession2(n)}gi.setVin(e),window.VWO.phoenix('trigger("${{1}}")',null,{captureGroups:[j.SESSION_INIT_COMPLETE]})}))}}const Wc=new Lc,Pc=Wc.execute.bind(Wc);window.VWO.modules.tags.setSession=Wc;const Dc=function(e,t,n){return v(this,void 0,void 0,(function*(){const o=Ji.plugins[Xi.OPERATOR]&&Ji.plugins[Xi.OPERATOR].get(e)||(()=>!1),i=Ve();t.split(".")[0].indexOf(i)>-1&&(t=t.slice(t.indexOf(".")+1));const r=["neq","neqs","ncn","bl","ninlist"];if(window[i]&&window[i].length){const s=-1!==r.indexOf(e),a="ninlist"===e;for(const e of window[i])try{if(!e)continue;const i=Ne(t,e);if(s){if(!(yield o.apply(o,[i,n]))||i!==e[t]&&!(yield o.apply(o,[e[t],n]))){if(!a)return!1}else if(a)return!0}else if((yield o.apply(o,[i,n]))||i!==e[t]&&(yield o.apply(o,[e[t],n])))return!0}catch(e){c.error("Failed to evaluate the dataLayer variable: ",e)}return!a&&s}}))};window.VWO.modules.tags.dL=Dc;class xc{otherSide(...e){e[0]="VWO.modules.tags.checkEnvironment."+e[0],window.fetcher.getValue(...e)}}window.VWO.modules.tags.checkEnvironment={};class Uc{otherSide(...e){e[0]="VWO.modules.tags.checkEnvironment.utils."+e[0],window.fetcher.getValue(...e)}}class Mc extends Uc{addDomReadyListener(e){window.addEventListener("load",(()=>{e()})),"complete"===document.readyState&&e()}setSameSiteVariables(){const e=gi.isSSApp();return e&&(window.VWO._.ssdm=!0),e&&"https:"===gn.location.protocol&&(!window.VWO.data.accountJSInfo||window.VWO.data.accountJSInfo&&!window.VWO.data.accountJSInfo.noSS)&&(window.VWO._.ss=!0),e}}const kc=new Mc;window.VWO.modules.tags.checkEnvironment.utils=kc;class Gc extends xc{constructor(){super(),window.VWO._.phoenixMT.on("vwo_init",(()=>{window.VWO._.envUtils=this.getPreRequisites()})),window.VWO._.phoenixMT.on("vwo_reRun",(()=>{window.fetcher.setValue("VWO._.envUtils",this.getPreRequisites()),window.fetcher.setValue("window.VWO._.willRedirectionOccur",window.VWO._.willRedirectionOccur)}))}getPreRequisites(){const e=kc.setSameSiteVariables(),t=!window.VWO._.cLFE&&st.shouldWeTrackVisitor();return{doCookiesMatter:t,areCookiesDisabled:gi.areCookiesDisabled(t),shouldStopExecWhenSsmNotFound:gi.shouldStopExecWhenSsmNotFound(),isSSApp:e}}execute(){}}const Fc=new Gc,$c=Fc.execute;window.VWO.modules.tags.checkEnvironment.fn=Fc;class jc{}class Bc extends jc{execute(){}}const Hc=new Bc,Kc=Hc.execute;window.VWO.modules.tags.runCampaign=Hc;const qc=function(){};window.VWO.modules.tags.runTestCampaign.fn=qc;class Jc{}class Xc extends Jc{processGroupCampaigns(){}}const Yc=new Xc,zc=Yc.processGroupCampaigns.bind(Yc);window.VWO.modules.tags.groupCampaigns=zc;class Qc{}class Zc extends Qc{constructor(){super(),716497===window._vwo_acc_id&&window.VWO._.phoenixMT.on("vwo_urlChangeMt",this.execute)}execute(){window.VWO._.phoenixMT.trigger(j.TOGGLE_MUT_OBSERVER,{status:!1})}}const ed=new Zc,td=ed.execute;class nd{otherSide(...e){return e[0]="VWO.modules.tags.prePostMutation.fn."+e[0],window.fetcher.getValue(...e)}}window.VWO.modules.tags.prePostMutation={};class od{otherSide(...e){return e[0]="VWO.modules.tags.prePostMutation.utils."+e[0],window.fetcher.getValue(...e)}}let id=null,rd=null,sd=null,ad=!1,cd=!1;class dd extends od{monitorPageForChanges(){if("undefined"!=typeof MutationObserver&&(rd&&716497===window._vwo_acc_id&&window.VWO._.phoenixMT.trigger(j.TOGGLE_MUT_OBSERVER,{status:!0}),!rd)){const e={subtree:!0,attributes:!0,childList:!0,attributeFilter:["class"]},t=function(){var e,t,n;if(!ad){window.VWO._.phoenixMT.trigger(j.TOGGLE_MUT_OBSERVER,{status:!1});const o=window.VWO._.allSettings.dataStore.campaigns;if(!window.VWO._.urlChangeProcessingPending)for(const n in o)o[n][Aa]||o[n].xPath&&!gi.isXpathAllHead(o[n],o[n].xPath)&&(null===(t=null===(e=o[n].muts)||void 0===e?void 0:e.post)||void 0===t?void 0:t.enabled)&&o[n][Zt]&&o[n].combination_chosen&&(gi.setCampaignAppliedFlag(o[n],!1),qa.performChangeApplication({combination:o[n].combination_chosen,campaignData:o[n],keepElementLoadedRunning:null,variationDataList:[]}));null===(n=window.VWO._.phoenixMT)||void 0===n||n.trigger(j.EDITOR_APPLY_CHANGES_COMPLETE),window.VWO._.phoenixMT.trigger(j.TOGGLE_MUT_OBSERVER,{status:!0})}};window.VWO._.phoenixMT.on(j.TOGGLE_MUT_OBSERVER,(({status:t})=>{var n;if(![714257,742951,707062,716497].includes(window._vwo_acc_id)&&!(null===(n=window._vwoCc)||void 0===n?void 0:n.aMO))return;const o=Ko({avoidFullHTML:!0});o&&t?rd.observe(o,e):rd.disconnect()})),rd=new gn.MutationObserver(t);const n=Ko();n&&rd.observe(n,e),742951==window._vwo_acc_id&&(/iPad Simulator|iPhone Simulator|iPod Simulator|iPad|iPhone|iPod/.test(navigator.userAgent)||navigator.userAgent.includes("Mac")&&"ontouchend"in document)&&(document.addEventListener("touchstart",(e=>{window.VWO._.phoenixMT.trigger(j.TOGGLE_MUT_OBSERVER,{status:!1})})),document.addEventListener("click",(e=>{window.VWO._.phoenixMT.trigger(j.TOGGLE_MUT_OBSERVER,{status:!0})})),window.VWO._.phoenixMT.on("vwo_urlChangeMt",(()=>{window.VWO._.phoenixMT.trigger(j.TOGGLE_MUT_OBSERVER,{status:!0})})))}}waitForDOMRenderingAndExecuteCampaign(e){ad=!0;const t=Ko(),n={subtree:!0,childList:!0},o=function(){cd=!0,id=id||Ie((function(){ad=!1,sd.disconnect(),window.fetcher.getValue("phoenix.trigger",[j.SSR_COMPLETE])}),e.timer,!0),id()};function i(){cd||(ad=!1,window.fetcher.getValue("phoenix.trigger",[j.SSR_COMPLETE]),sd&&sd.disconnect())}t?(sd=new gn.MutationObserver(o),sd.observe(t,n)):(cd=!0,window.fetcher.getValue("phoenix.trigger",[j.SSR_COMPLETE])),e.timeout?setTimeout(i,e.timeout):i()}}const ld=new dd;window.VWO.modules.tags.prePostMutation.utils=ld;const ud={},wd=io;class _d{constructor(e){this.observed=!1,this.applyCount=0,this.selectorIdentifier="",void 0!==gn.MutationObserver&&(this.observer=new gn.MutationObserver(this.refreshObserverCallback.bind(this)),this.observer.node=e,e.addEventListener("vwoObserverAction",this.observerActionCallback.bind(this)))}}const gd=window._vwo_editorOperationTracker={},pd=100,hd={subtree:!0,attributes:!0,characterData:!0,childList:!0,attributeFilter:["style","src","srcset","href"]},vd="vwo_refresh_limit_reached",fd=[];let md={};const Od=function(e,t){const n=vwo_$(e);if(!n.length||!ud[t])return;const o=Array.from(n);let i=0;for(const n of o){let o=n.__vwoInternals;o||(o=n.__vwoInternals=new _d(n),fd.push(o)),o.applyCount++,wd&&(o.selectorIdentifier=`${e}|${i++}|${t}`,md[o.selectorIdentifier]=md[o.selectorIdentifier]||0,md[o.selectorIdentifier]++)}},Ed=function(e,t){const n=document.createEvent("CustomEvent");n.initCustomEvent("vwoObserverAction",!0,!1,t),e&&e.dispatchEvent(n)};window._vwo_handleMutations=function(e,t){try{e&&"function"==typeof t&&(Ed(e,{disconnect:!0}),t(),Ed(e,{connect:!0}))}catch(e){const t="[JSLIB_EDITOR] Error _vwo_handleMutations.";l({msg:t,url:"editorChangesObserver.js",source:encodeURIComponent(t)})}},_d.prototype.refreshObserverCallback=function(e,t){const n=t.node,o=window.VWO._.native.JSON.parse(window.VWO._.native.JSON.stringify(ud));window.vwoRefreshCampaigns&&window.vwoRefreshCampaigns.forEach((e=>{o[e]=!0}));for(const e in o)if(o[e]&&n.classList){const t=Array.from(n.classList);for(const o of t)o.indexOf(`vwo_loaded_${e}`)>-1&&n.classList.remove(o)}this.disconnectObserver()},_d.prototype.observerActionCallback=function(e){if(!e.detail)return;const t=e.detail||{},n=t.operationId;t.disconnect?n?gd[n]="disconnected":this.disconnectObserver():t.connect?this.connectObserver():n&&delete gd[n]},_d.prototype.disconnectObserver=function(){this.observer.disconnect(),this.observed=!1},_d.prototype.connectObserver=function(){if(this.observer&&!this.observed){(wd?md[this.selectorIdentifier]>20:this.applyCount>pd)?this.observer.node.hasAttribute(vd)||this.observer.node.setAttribute(vd,""):(this.observer.observe(this.observer.node,hd),this.observed=!0)}},_d.prototype.resetObserver=function(){this.observer&&(this.applyCount=0,this.observed||(this.observer.observe(this.observer.node,hd),this.observed=!0),md={},this.observer.node.hasAttribute(vd)&&this.observer.node.removeAttribute(vd))};let Sd=!1;const Td=function(){var e,t,n,o;Sd||(Sd=!0,null===(e=window.VWO._.phoenixMT)||void 0===e||e.on(j.INIT_VWO_INTERNALS,(function(e){const{elementSelector:t,campaignId:n}=e;Od(t,n)})),null===(t=window.VWO._.phoenixMT)||void 0===t||t.on(j.SET_CAMPAIGN_TO_OBSERVE,(function(e){var t,n,o,i;const r=window._vwo_exp,{campaignId:s}=e;r[s].xPath&&!gi.isXpathAllHead(r[s],r[s].xPath)&&(null===(n=null===(t=r[s].muts)||void 0===t?void 0:t.post)||void 0===n?void 0:n.enabled)&&(ud[s]=!!(null===(i=null===(o=r[s].muts)||void 0===o?void 0:o.post)||void 0===i?void 0:i.refresh))})),null===(n=window.VWO._.phoenixMT)||void 0===n||n.on("vwo_urlChangeMt",(function(){for(let e=fd.length-1;e>-1;e--)fd[e].resetObserver()})),null===(o=window.VWO._.phoenixMT)||void 0===o||o.on(j.EDITOR_APPLY_CHANGES_COMPLETE,(function(){for(let e=fd.length-1;e>-1;e--)fd[e].connectObserver()})))};window.VWO.modules.tags.prePostMutation.editorChangesObserver={attachEditorChangeObserverEvents:Td};class Cd extends nd{execute(){}}const Id=new Cd,yd=Id.execute;window.VWO.modules.tags.prePostMutation.fn=Id;var Ad=[];const bd=["dev.visualwebsiteoptimizer.com","d5phz18u4wuww.cloudfront.net","cdn-cn.vwo-analytics.com"];function Vd(e){let t=!1;for(let n=0;n<bd.length;n++)if(e.indexOf(bd[n])>=0){t=!0;break}return t}var Nd=function(e){if(Vd(e&&e.url||""))for(var t=0;t<Ad.length;t++)Ad[t](e)};function Rd(e){var t,n,o,i={msg:e.message||(null===(t=e.reason)||void 0===t?void 0:t.message),stack:(null===(n=e.error)||void 0===n?void 0:n.stack)||(null===(o=e.reason)||void 0===o?void 0:o.stack),url:e.filename||e.reason&&(e.reason.stack||e.reason.message),source:"uncaughtErr"};Nd(i)}window.addEventListener?(window.addEventListener("error",Rd),window.addEventListener("unhandledrejection",Rd)):window.attachEvent&&window.attachEvent("onerror",(function(e,t,n,o){Nd({msg:e,url:t,source:"uncaughtErr"})}));const Ld=function(e){e&&"function"==typeof e&&Ad.push(e)};let Wd;class Pd extends d{constructor(){super(),this.errorTracking({getters:{window:window,accountId:window._vwo_acc_id,encodeURIComponent:encodeURIComponent,actions:{},serverUrl:window._vwo_server_url||"https://dev.visualwebsiteoptimizer.com/"}})}setErrorTrackingCallback(e){const t=e.encodeURIComponent,n=e.accountId,o=u((()=>window.VWO.data.accountJSInfo.collUrl))||e.serverUrl,i=this;var r=0;const s=function(e){var s,a=(e=e||{}).msg&&e.msg.substring(0,1e3),c=e.stack&&e.stack.substring(0,1e3);const d=e.source,l=e.url,u=Wd||i.getEmptyTriggerIdsIfAny(),w="ee.gif?"+(l?"f="+t(e.url):"")+"&a="+n+(d?"&s="+t(d):"")+(Array.isArray(u)&&u.length?"&eT="+t(u.join()):"")+"&e="+t(a)+"&stack="+t(c);if(r<50&&(r++,dt({url:w,serverUrl:o},void 0,void 0,!0)),null==u?void 0:u.length){null===(s=window._vwo_code)||void 0===s||s.finish();const e=vwo_$('[id^="_vis_opt_path_hides"]');if(e.length)for(let t=0;t<e.length;t++)vwo_$(e[t]).remove()}};return Ld(s),s}getEmptyTriggerIdsIfAny(){const{triggers:e}=window.VWO._.allSettings||{},t=[];return Object.keys(e).forEach((n=>{Object.keys(e[n]).length||t.push(n)})),Wd=t,t}errorTracking({getters:e}){const t=this.setErrorTrackingCallback(e);this.setCustomError(t)}}const Dd=new Pd,xd=Dd.errorTracking.bind(Dd);window.VWO.modules.tags=window.VWO.modules.tags||{},window.VWO.modules.tags.errorTracking=xd,window.VWO.modules.tags.errorTrackingCallback=Dd.setErrorTrackingCallback;let Ud=[];function Md(){return function(e,t){if(t!==j.PAGE_VIEW)return void window.VWO.phoenix('trigger("${{1}}", "${{2}}")',null,{captureGroups:[j.AFTER_SAMPLING_TRIGGER,{oldArgs:[{samplingRate:e.samplingRate,priority:e.priority}]}]});const{samplingRate:n,priority:o}=e;Ud.push({samplingRate:n,priority:o}),window.VWO.track.sampleData=Ud}}window.VWO._.phoenixMT.on("vwo_urlChangeMt",(()=>Ud=[]));const kd=Md();window.VWO.modules.tags=window.VWO.modules.tags||{},window.VWO.modules.tags.sampleVisitor=kd;class Gd{constructor(){this.whiteListedEventsForVsKey=[j.PAGE_VIEW,j.CUSTOM_CONVERSION,j.DOM_CLICK,j.DOM_SUBMIT,j.REVENUE_CONVERSION]}getCurrentEventData(e,t,n){const o={};if(!(Object.keys(t).length<=0))return Object.keys(t).forEach((i=>{var r;o[i]=o[i]||{},o[i]={vwoMeta:{metric:t[i].metrics}},this.whiteListedEventsForVsKey.includes(e)&&t[i].comb&&(o[i].vwoMeta.vS=t[i].comb),(null===(r=n[i])||void 0===r?void 0:r.length)>0&&(o[i].matchedSelectors=n[i])})),o}}class Fd{constructor(){this.vwoEvents={trigger:function(e,t){return v(this,void 0,void 0,(function*(){yield window.VWO.phoenix('trigger("${{1}}", "${{2}}")',null,{captureGroups:[e,t]})}))}}}isGoalEligible(e,t){return e.pExcludeUrl&&Jn.matchRegex(t,e.pExcludeUrl)?(window.VWO.modules.tags.wildCardCallback({},j.EXCLUDE_GOAL_URL),!1):e.pUrl?ya.verifyUrl(t,e.pUrl,null):ya.verifyUrl(t,null,e.urlRegex)}registerConversion(e,t,n,o,i){if(t.type===g().INSIGHTS_FUNNEL_CAMPAIGN)return void _.markFunnelValue(t.id,1,e,t.version);let r=Ca.getCombi(t,i);if(gi.isPersonalizeHoldback(t)){const e=r.split(";"),t=e[1];if(t){const n=e[0].split("|");for(let e=0;e<n.length;e++){const o=n[e];if(o.split(",")[0]===t){r=o;break}}}}e=e||1,this._triggerGoalConversion(e,t,n,o,{combination:r})}getImgUrlForConversion(e,t,n,o){if(!st.shouldWeTrackVisitor())return;var i,r;const s=e.id,a=window._vwo_acc_id,c=window.VWO.modules.tags.sessionInfoService;if(r="c.gif?account_id="+a+"&experiment_id="+s+"&goal_id="+t+"&ru="+encodeURIComponent(_n.get())+(void 0===o?"":"&r="+o)+gi.getUUIDString(gi.getUUID(e)),e.type===g().GOAL_CAMPAIGN){i=c.getSessionId(),window.VWO.modules.tags.wildCardCallback({campaign:e},j.EXECUTE_FUNNEL_FOR_GOAL_CAMPAIGN);const n=(window.tracklib||window.VWO._.track).getGtAndF(t);if(n){return r+"&s="+i+"&ifs="+ +(i===c.getSessionId())+"&t=1&cu="+encodeURIComponent(window.location.href)+n}return""}return c.shouldSendSessionInfoInCall()&&(i=c.getSessionId()),r+"&combination="+n+(i=i?"&sId="+i:"")}_triggerGoalConversion(e,t,n,o,i){if(t.type===g().INSIGHTS_METRIC_CAMPAIGN)return void Ca.markGoalTriggered(t,e);const r=i.combination;if(!o&&(!r||Ca.isGoalTriggered(t,e)||gi.isBot2()))return void(ee.queueGoalLogs(t.id,e,n,!1)&&window.VWO.modules.tags.wildCardCallback({oldArgs:[t.id,e,n,!1],campaignId:t.id,goalId:e},j.REGISTER_CONVERSION));"REVENUE_TRACKING"!==t.goals[e].type&&(n=void 0);const s=this.getImgUrlForConversion(t,e,r,n);if(s){if(gi.isEligibleToSendCall(t.id)){const e=e=>yi.sendCall(null,{url:s,cUrl:e},null,null),t=window.VWO._.lastPageUnloadURL||document.URL;Vr((()=>e(t)))}Ca.markGoalTriggered(t,e)}ee.queueGoalLogs(t.id,e,n,!!s)&&window.VWO.modules.tags.wildCardCallback({oldArgs:[t.id,e,n,!!s],campaignId:t.id,goalId:e},j.REGISTER_CONVERSION)}}const $d=new Fd;class jd extends Gd{execute(e,t){if(window.VWO._.willRedirectionOccur)return;if(gi.isBot2())return;const n={},o={};for(const r of t){const t=r.c,s=r.g,a=t&&window._vwo_exp[t];let c=!1;const d=a.goals[s];if(!(t&&s&&a&&d))continue;c=gi.isSessionBasedCampaign2(a);const l=r.uuid||gi.createUUIDCookie2(a);if(!c||gi.hasInsightsMetric(a.type)){if("CUSTOM_GOAL"===(null==d?void 0:d.type)){const e=d.url;n[l]=n[l]||[],n[l].indexOf(e)<0&&n[l].push(e)}o[l]=o[l]||{};const e="id_"+t;o[l].metrics=o[l].metrics||{},o[l].metrics[e]=o[l].metrics[e]||[],o[l].metrics[e].push("g_"+s),a.isEventMigrated&&(o[l].comb=o[l].comb||{},o[l].comb[e]=Ca.getCombi(a))}var i=!0;window.VWO._.isBeaconAvailable=e.isBeaconAvailable,window.VWO._.isLinkRedirecting=e.isLinkRedirecting,$d.registerConversion(s,a,e.revenue,!c,!0),window.VWO.phoenix('trigger("${{1}}", "${{2}}")',null,{captureGroups:[j.GOAL_CONVERTED,{campaignId:a.id,goalId:s}]}),window.VWO._.isLinkRedirecting=!1,i=i&&window.VWO._.isBeaconAvailable}const r=this.getCurrentEventData(e.vwoEventName,o,n);e._vwo=e._vwo||{},e._vwo.eventDataConfig=e._vwo.eventDataConfig||{},e._vwo.eventDataConfig=r}}const Bd=new jd,Hd=Bd.execute.bind(Bd);window.VWO.modules.tags.metricMT=Hd;class Kd{constructor(){this.lastSetTimerId=null,window.VWO._.phoenixMT.on(j.UNHIDE_ELEMENT,(({ruleName:e,campaignData:t,variation:n,rulesArr:o})=>{let i;t&&(i={id:t.id,variation:gi.isPersonalizeCampaign(t)?n:null}),gi.delCSSWrapper({ruleName:e,rulesArr:o,campaignData:i})}))}unhideElementsAfterTimer(e){null!==this.lastSetTimerId&&clearTimeout(this.lastSetTimerId),this.lastSetTimerId=setTimeout((function(){var t;this.lastSetTimerId=null;const n=vwo_$('[id^="_vis_opt_path_hides"]');if(n.length){const o=[];for(let e=0;e<n.length;e++)vwo_$(n[e]).remove(),o.push(null===(t=n[e].getAttribute("id"))||void 0===t?void 0:t.split("_").slice(-1)[0]);window.fetcher.getValue('phoenix.trigger("${{1}}", "${{2}}")',null,{captureGroups:[j.CHECK_SEGMENTATION,e]}),c.info("Multiple hiding tags found after 5 seconds for campaigns "+window.VWO._.native.JSON.stringify(o),{url:"visibilityService.js",lineno:34,colno:34})}}),5e3)}}const qd=new Kd;window.VWO.modules.tags.visibilityService=qd;var Jd=Object.freeze({__proto__:null,backwardCompatibilityUtils:gc,checkEnvironment:$c,runCampaign:Kc,runTestCampaign:qc,groupCampaigns:zc,urlChange:td,prePostMutation:yd,errorTracking:xd,sampleVisitor:kd,metric:Hd});const{checkEnvironment:Xd,runCampaign:Yd,runTestCampaign:zd,groupCampaigns:Qd,prePostMutation:Zd,urlChange:el,errorTracking:tl,sampleVisitor:nl,metric:ol}=Jd;class il{constructor(){this.noOp=function(){}}test(){console.log(1)}getPhoenixConfig(){return{tags:{checkEnvironment:{fn:Xd,sync:!0},runCampaign:{fn:Yd,sync:!0},runTestCampaign:{fn:zd,sync:!0},groupCampaigns:{fn:Qd,sync:!0},prePostMutation:{fn:Zd,sync:!0},urlChange:{fn:el,sync:!0},errorTracking:{fn:tl,sync:!0},sampleVisitor:{fn:nl},metric:{fn:ol,sync:!0,fireUniquelyForEveryEvent:!0}},storages:{localStorageService:$o,cookies:Ze},jsLibUtils:{verifyUrl:function(){return ya.verifyUrl.apply(ya,arguments)}}}}sendMessageToParentFrame(e){if(!e)return;if(window.self===window.parent)throw new Error("Cookieless Mode for Iframe enabled at top level. ");const t={vwoEvent:{name:"VWO_STORE_UPDATE",data:e}};window.parent.postMessage(t,"*")}getCookieJarValidValue(e){return["null",null,void 0,"undefined"].indexOf(e)>-1?"":e}setFunnelExps(e){var t,n;const o=null===(t=null==e?void 0:e.settings)||void 0===t?void 0:t.campaigns;for(const e in window._vwo_exp)if(window._vwo_exp[e].funnel)for(const t of window._vwo_exp[e].funnel){const e=t;(null===(n=window._vwo_exp[e.id])||void 0===n?void 0:n.g)||(window._vwo_exp[e.id]=e,window._vwo_exp[e.id].g=e.goals,window._vwo_exp[e.id].goals={},o&&(o[e.id]=window._vwo_exp[e.id]))}}postPhoenixMTHook(){var e,t;const n=Object.keys(Object.assign({},Jd));for(let o=n.length-1;o>=0;--o)null===(t=(e=Jd[n[o]]).postPhoenixMTHook)||void 0===t||t.call(e)}}const rl=new il;function sl(){const e=window.fetcher,t=window.fetcher.getValue("phoenixInstantiate"),n=function(t,n=null,o={}){if(!n)return e.getValue("phoenix."+t,null,o);e.setValue("phoenix."+t,n)},o=new Promise((e=>{t.then((t=>e([n,t])))}));let i=[];return window.VWO._.phoenixMT.on("vwo_phoenixInitialized",(()=>{for(let e=0;e<i.length;e++)i[e]();i=[],gi.fireVariationShownSentForSplit()})),[function(e,t=null,n={}){return new Promise((o=>{i.push((()=>{o(window.VWO.phoenix(e,t,n))}))}))}.bind(this),o]}window.VWO.modules.utils.initUtils=rl;const al=sl;var cl;window._vis_opt_queue=window._vis_opt_queue||[];var dl=window._vis_opt_queue||[];const ll=window._vwoCc&&(null===(cl=window._vwoCc.arrayRepl)||void 0===cl?void 0:cl[window._vwo_acc_id]),ul=ll?new Pe:[];ul.execute=function(e){try{e()}catch(e){}},ul.finish=function(e){if(!this.isProcessed){var t=dl.push;dl.push=function(){t.apply(this,[].slice.call(arguments)),ul.execute.apply(this,[].slice.call(arguments))},this.isProcessed=!0}for(e=0;e<dl.length;e++)ul.execute(dl[e])},ul.clear=function(){dl.splice(0,dl.length)};var wl=window.console||{log:function(){}},_l;window.VWO._.prVWO=window.VWO._.prVWO||[];const gl={processEvent:function(e,t,n,o,i){if("[object Array]"!==Object.prototype.toString.call(e))return 0;try{var r,s,a,c=e[0],d=e.slice(1),l=-1!==c.indexOf(".");return l&&0===c.indexOf(t)||!l?(l?(r=n[(s=c.split("."))[0]][s[1]],a=n[s[0]]):(r=n[c],a=n),r?(window.VWO._.prVWO=window.VWO._.prVWO.concat(i.queue?i.splice(o,1):i.queue),r.apply(a,d),1):0):0}catch(t){return wl.log("Error occured in VWO Process Event ("+(e&&e[0])+"): ",t),0}},addPushListener:function(e,t,n){var o=t.push;t.push=function(...i){let r=0;return i.forEach((i=>{r=function(i){const r=o.apply(t,[].slice.call(arguments));return t.queue&&t.queue[t.queue.length-1]===i?gl.processEvent(i,e,n,t.queue.length-1,t):t.queue||t[t.length-1]!==i||gl.processEvent(i,e,n,t.length-1,t),r}(i)})),r}},init:function(e,t,n,o,i=!0){_l=n?t[n]=t[n]||[]:t||[],this.vwoApi=o,gl.process(e,_l,t),i&&gl.addPushListener(e,_l,t)},initTrack:function(e,t){gl.init(e,window.VWO,t)},process:function(e,t,n){var o=0;t.sort((function(e){return"config"===e[0]?-1:0}));const i=t.queue?t.queue:t;for(;o<i.length;)0===gl.processEvent(i[o],e,n,o,t)&&o++}};function pl(e,t){window.VWO.phoenix('store.actions.addValues("${{1}}", "${{2}}")',null,{captureGroups:[e,t]})}window.VWO&&(window.VWO._=window.VWO._||{},window.VWO._.vwoLib=gl);const hl=function(){var e;const t={},{campaigns:n}=window.VWO._.allSettings.dataStore;let o="";for(const e in n){const i=n[e],r=n[e].type,s="SPLIT_URL"===r;if(r===g().FUNNEL_CAMPAIGN||!s&&!i.eHIR&&(i.ready||i.cA))continue;if(i.manual)continue;const a=Ca.doExperimentHere(i)[0];if(t[e]={},t[e].dEH=a,a){if(s){Qn(e)||(o=window.VWO._.bodyPath+",");break}{let{selector:n,selectorPerVariation:r,cPathSelector:s,cPathSelectorPerVariation:a}=gi.getCampaignXPath(i);n=n||"",n&&(t[e].xpath={selector:n,selectorPerVariation:r},o.indexOf(n)>-1||(o+=n+",")),s&&(t[e].cpath={cPathSelector:s,cPathSelectorPerVariation:a},-1==o.indexOf(s)&&(o+=s+","))}}}o&&(o=o.substr(0,o.length-1),o+=gi.hideElExpression,gi.insertCSS("_vis_opt_path_hides",o)),(null===(e=window._vwoCc)||void 0===e?void 0:e.disableSpaVisPerf)||(window.VWO._.visibilityServiceCache=t,pl({visibilityServiceCache:t},"vwoInternalProperties"))},vl=e=>!(0!==e&&!e),fl=(e,t,n)=>n.syncGet("fns.list",[e,t]),ml=(e,t,n)=>v(void 0,void 0,void 0,(function*(){if(!vl(e))return!1;const o=yield fl(e,t,n);return!!o.dataPresent&&o.val})),Ol=(e,t,n)=>v(void 0,void 0,void 0,(function*(){if(""===e||!vl(e))return!1;const o=yield fl(e,t,n);return!!o.dataPresent&&!o.val})),El={f_in_list:ml,f_nin_list:Ol},Sl=()=>{var e,t;let n=!!(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver);window.Zone&&window.Zone.__symbol__&&(n=!!window[window.Zone.__symbol__("MutationObserver")]);const o=window.name.indexOf("_vis_heatmap_")>=0||window._vwo_tm.indexOf("_vis_heatmap_")>=0,i={MutationObserver:n,name:window.name,navigator:{userAgent:window.navigator.userAgent,language:window.navigator.language||window.navigator.browserLanguage,appVersion:window.navigator.appVersion},screen:{colorDepth:window.screen.colorDepth,pixelDepth:window.screen.pixelDepth},location:window.location,Document:{prototype:{}},localStorage:window.localStorage,cachedSettingsInSessionStorage:gi.syncCachedSettingsInSessionStorage(),history:{},vwoCodeEndBeforeVA:null===(e=window._vwo_code)||void 0===e?void 0:e.finished(),_vwo_code:window._vwo_code,_vwo_code_version:(null===(t=window._vwo_code)||void 0===t?void 0:t.getVersion)&&window._vwo_code.getVersion(),_vwo_server_url:window._vwo_server_url,_vwo_acc_id:window._vwo_acc_id,_vwo_clicks:window._vwo_clicks,_vis_opt_url:window._vis_opt_url,_vwo_cookieDomain:window._vwo_cookieDomain,_vis_opt_domain:window._vis_opt_domain,_vwo_style:window._vwo_style,_vwo_css:window._vwo_css,_vwo_uuid:window._vwo_uuid,_vis_apm_lib:window._vis_apm_lib,_vwo_api_section_callback:window._vwo_api_section_callback,_vis_heatmap:o,_vis_debug:window._vis_debug,isInsightsOnConsentEnabled:!!window.vwo_cInstJS,document:{cookie:document.cookie,URL:document.URL,referrer:document.referrer,addEventListener:document.addEventListener,domain:document.domain,title:document.title,characterSet:document.characterSet,charset:document.charset,baseURI:document.baseURI},_vwo_cdn:window._vwo_cdn,_vis_opt_cookieDays:window._vis_opt_cookieDays,_VWO:window._VWO};return window.fetcher.setValue("fakeWindow",i)},Tl=function(e){var t;return v(this,void 0,void 0,(function*(){try{Sl();const n=e._.allSettings.tags;Object.keys(n).forEach((e=>{n[e].fn=V(n[e].fn)})),x("jI");const o=[];o.push(null),o.push(rl.getPhoenixConfig()),window.fetcher.getValue('setVWO("${{1}}")',null,{captureGroups:[e]}),window.fetcher.setValue("fakeWindow.VWOSettings",o),window.fetcher.setValue("window._vwoCc",window._vwoCc),window.fetcher.setValue("window._vwo_uuid",window._vwo_uuid),window._vwoCc&&window.fetcher.setValue("window._vwoCc",window._vwoCc);const[i,r]=al();e.phoenix=i,rl.postPhoenixMTHook();const s=new Ts;window._vwo_exp=s.register($.Object,"_vwo_exp",window._vwo_exp,"",!1),window.VWO._.allSettings.dataStore.campaigns=window._vwo_exp,s.register($.Document,"cookie"),s.register("custom","localStorage"),window.VWO._.phoenixMT.trigger("vwo_phoenixInitCalled");const[a]=yield r;window.VWO._.phoenixMT.on(j.SPA_VISIBILITY_SERVICE,hl),e.addPhoenix(a),window.vwo_cInstJS&&(e._.insightsOnConsentPromise=new Promise((e=>{window.VWO.phoenix('on("${{1}}", "${{2}}")',null,{captureGroups:["trigger.InsightsOnConsentTrigger",e]})}))),gl.init("jslib",e,null),gl.init("optOut",e,null),window._vwo_surveySettings=s.register($.Object,"_vwo_surveySettings",window._vwo_surveySettings),window.VWO._.track=s.register($.Object,"tracklib",window.VWO._.track,"",!1),window.VWO._.insightsUtils=s.register($.Object,"insightsUtils",window.VWO._.insightsUtils,"",!1),ia.add("inlist",(function(e,t){return v(this,void 0,void 0,(function*(){return!!(yield El.f_in_list(e,t,window.VWO.modules.vwoUtils.contentSync))}))})),ia.add("ninlist",(function(e,t){return v(this,void 0,void 0,(function*(){return!!(yield El.f_nin_list(e,t,window.VWO.modules.vwoUtils.contentSync))}))})),ul.finish(),window.VWO._.phoenixMT.trigger("vwo_phoenixInitialized"),window.VwoUnitTestsRunning&&(null===(t=window.resolveUnitTestPromise)||void 0===t||t.call(window));const c=window.VWO._.phoenixMT.on("vwo_urlChangeMt",(()=>{if(window.VWO._.phoenixMT.off(c),"object"!=typeof window.VWO._.txtCfg||!window.VWO._.txtCfg.tn)return;window.VWO._.txtCfg.f(window.VWO._.txtCfg.tn);const e=Object.assign({},window.VWO._.txtCfg);delete e.o,delete e.f,window.fetcher.setValue("window.VWO._.txtCfg",e)}));js(),Vr(ur),Vr((()=>fr(Wo())))}catch(e){window._removeVwoGlobalStyle(),window.vwo_libExecuted=!0,c.error("Error in bootPhoenix:",e.stack)}}))},Cl=(e,t)=>{const n=e.id,o=e.combination_chosen||e.cc;if(e.globalCode[t])try{let{nonce:i=""}=window.VWO;i&&(i=`nonce=${i}`),window.VWO._.allSettings.tags[e.globalCode[t]].fn(n,o,i)}catch(e){}},Il=(e,t)=>{if(window._vis_debug||L())return;let n=window.VWO.modules.utils.libUtils.extraData2();const o=encodeURIComponent(n);n=t.ps||void 0===t.ps?"&ed="+o:"";const i=Ze.get("_vwo_uuid"),r=window.VWO._.sessionInfoService.getSessionId(),s="l.gif?experiment_id="+t.id+"&account_id="+window._vwo_acc_id+"&cu="+encodeURIComponent(document.location.href)+"&combination="+e+"&s=1&sId="+r+"&u="+i+n;return new Promise((e=>{yi.sendCall(null,{url:s},null,(()=>{e()}),!0)}))},yl=e=>"_vis_opt_exp_"+e+"_combi",Al=e=>"_vis_opt_exp_"+e+"_exclude",bl=e=>L()||Ze.get(yl(e.id)),Vl=e=>!!Ze.get(Al(e.id)),Nl=e=>{gi.createCookieMT(Al(e.id),"1",100,e)},Rl=(e,t)=>{window.VWO.modules.tags.wildCardCallback({oldArgs:[String(e.id),t],VWO:{firedTime:Date.now()}},j.REGISTER_HIT)},Ll=(e,t)=>{window.VWO.modules.tags.wildCardCallback({oldArgs:[String(e.id),t],VWO:{firedTime:Date.now()}},j.SPLIT_VARIATION_SHOWN)},Wl=({campaignData:e,combination:t,isFirst:n,doNotProcess:o=!0})=>{if(L())return;const i="SPLIT_URL"===e.type?"1"!==t:void 0;return ja(e),window.fetcher.getValue('VWO.modules.events.events.variationShown("${{1}}", "${{2}}", "${{3}}")',null,{captureGroups:[null,{id:String(e.id),variation:t,isFirst:n,vwo_doNotProcess_vS:o,isSplitVariation:i},null]})},Pl=(e,t)=>{L()||gi.createCookieMT(yl(t.id),e,100,t)},Dl=(e,t)=>new Promise((n=>{if(!e)return n();const o=1==+e,i=()=>v(void 0,void 0,void 0,(function*(){const i=!!bl(t);if($a(t),t.isFirst=i?0:1,i)return yield Wl({campaignData:t,combination:e,isFirst:0}),n();window._vis_debug&&"SPLIT_URL"===t.type&&"1"!==e||Rl(t,e),(o||"SPLIT_URL"!==t.type)&&(Pl(e,t),Oa(t.id,e)),yield Promise.all([Wl({campaignData:t,combination:e,isFirst:1}),Il(e,t)]),n()}));if(window.VWO._.phoenixMT.getEventHistory("vwo_reRun"))i();else{const e=window._vis_debug?"vwo_previewReady":"vwo_phoenixInitialized",t=window.VWO._.phoenixMT.on(e,(()=>{window.VWO._.phoenixMT.off(t),i()}))}}));function xl(e,t={}){const{shouldApplyPoll:n=!0,stag:o}=t,{id:i,ss:r}=e;if(Ze.get(yl(i))&&!(null==r?void 0:r.csa))return!0;if(!o)return!1;if("number"==typeof o&&1===o)return!0;const s=window.VWO._.allSettings.stags[o];if("function"==typeof s)try{(null==r?void 0:r.pu)&&!n&&(window._vwoRunningTest=i);const e=Boolean(s.call());return delete window._vwoRunningTest,e}catch(e){return delete window._vwoRunningTest,!1}}const Ul=()=>!!parseInt(Ze.get(Be.GLOBAL_OPT_OUT,!0),10),Ml=e=>{Ze.create("_vis_opt_exp_"+e.id+"_exclude","1",100)};var kl=(e,t)=>{var n;let o;const i=e&&e.id&&(e.combination_chosen||e.cc);if(e&&gi.isPersonalizeCampaign(e)){if(i&&"0"!==i&&!e.debug)return i}else if(i&&"0"!==i)return i;const r=t&&t.scaleInfo||e.combs,s={},a={};let c,d,l,u=Math.random(),w=b(r),_=w.length,g=0,p=!1,h=!1;for(l=0;l<_;l++)o=w[l],d=e&&e.type,isNaN(parseFloat(r[o]))||0==r[o]||("VISUAL_AB"===d||"SPLIT_URL"===d?(c=t?t.segmentInfo:e.sections[1].stag||[],0!==c.length&&e.segment_code?!t&&(c&&xl(e,{stag:c[o],shouldApplyPoll:!1}))&&(1!=c[o]&&(p=!0),s[o]=g+r[o],g+=r[o]):(h=!0,a[o]=r[o])):(s[o]=g+r[o],g+=r[o]));if(!p&&h)for(w=b(a),_=w.length,l=0;l<_;l++)o=w[l],s[o]=g+a[o],g+=a[o];let v=-1;const f=null===(n=null==e?void 0:e.sections[1])||void 0===n?void 0:n.priority;if(f)for(_=f.length,l=0;l<_;l++)if(s[f[l]]){v=l;break}if(v>=0)return f[v]+"";for(0<g&&1!==g&&(u*=g),w=b(s),_=w.length,l=0;l<_;l++)if(o=w[l],!isNaN(parseFloat(r[o]))&&u<=s[o])return o};function Gl(e){let t=!1,n=L()||(e.mE?void 0:Ze.get("_vis_opt_exp_"+e.id+"_combi"));return(n||e.combination_chosen)&&(t=!0),n=n||kl(e),{alreadyChosen:t,combi:n}}const Fl=e=>{e.ready=!0,e[Aa]=!0,c.info("BETA: Campaign changes applied via main thread:"+e.type+" campaignId:"+e.id)},$l=e=>{"DEPLOY"===e.type&&(e.orgType=e.type,e.type="VISUAL_AB")},jl="TOGGLE_MUT_OBSERVER_V2";let Bl=null;const Hl=e=>!!u((()=>e.muts.post.enabled));let Kl={};const ql=e=>{delete Kl[e]},Jl=e=>{var t;if("undefined"==typeof MutationObserver||0===Object.keys(e).length)return;Bl&&(Bl.disconnect(),Bl=null),Kl=e;const n={subtree:!0,attributes:!0,childList:!0,attributeFilter:["class"]},o=null===(t=window._vwoCc)||void 0===t?void 0:t.observeHTML;Bl=new MutationObserver((function(){window.VWO._.phoenixMT.trigger(jl,{status:!1});for(const e in Kl)if(Object.prototype.hasOwnProperty.call(Kl,e)){const t=Kl[e];t[Ra]&&t[Aa]&&t[Zt]&&t.combination_chosen&&(t.cA=!1,qa.performChangeApplication({combination:t.combination_chosen,campaignData:t,avoidFiringPhoenixEvents:!0,fromMT:!0}))}window.VWO._.phoenixMT.trigger(j.EDITOR_APPLY_CHANGES_COMPLETE),window.VWO._.phoenixMT.trigger(jl,{status:!0})}));const i=o?document.documentElement:document.body||document.documentElement;i&&Bl.observe(i,n),Eo||window.VWO._.phoenixMT.on("vwo_urlChangeMt",(()=>{Bl.disconnect()})),window.VWO._.phoenixMT.on(jl,(({status:e})=>{window.VWO._.txtCfg&&window.VWO._.txtCfg.o&&(e?window.VWO._.txtCfg.o.c(document.body?"body":"html"):window.VWO._.txtCfg.o.d());const t=document.body||document.documentElement;t&&e?Bl.observe(t,n):Bl.disconnect()}))};function Xl(e,t){try{if(!t)return;const n=document.getElementById(e);if(!n)return;let o=n.textContent||n.innerHTML||"",i=o.replace(new RegExp(`\\s*${t}\\s*,?`,"g"),"").replace(/,\s*,/g,",").replace(/(^,|,$)/g,"").trim();i!==o&&(n.textContent=i)}catch(e){l({msg:"Some error occurred while unhiding global styles",url:window.location.href,source:window.VWO._.native.JSON.stringify({e:(e||{}).message})})}}function Yl(e,t){if(e.stag)if(t)Xl(La,"body");else{const{selector:t,cPathSelector:n}=gi.getCampaignXPath(e);Xl(La,t),Xl(La,n)}}const zl=e=>{Cl(e,"pre");const t=Gl(e),n=e.combination_chosen=t.combi;if(!n)return;$l(e);let{selector:o,cPathSelector:i}=gi.getCampaignXPath(e);o=o||"",i=i||"",e.xPath=o,i&&(e.cPath=i),document.querySelector("body")&&qa.performChangeApplication({combination:n,campaignData:e,avoidFiringPhoenixEvents:!0,fromMT:!0}),Hl(e)||vwo_$(document).ready((function(){ql(e.id),delete e[Zt]})),Dl(n,e),Cl(e,"post"),Fl(e),e[Zt]=!0,e.isApplicable=1,window.VWO._.phoenixMT.trigger(j.EDITOR_APPLY_CHANGES_COMPLETE),Yl(e)};function Ql(e){return L()||Ze.get("_vis_opt_exp_"+e.id+"_split")}function Zl({campaignData:e,redirectURL:t,isNewVisitor:n}){qa.processRedirect({getters:{location:window.location,currentUrl:gn.currentUrl,flags:{cookieLessModeEnabled:!1},storages:{storages:{cookies:Ze}}},campaignData:e,redirectURL:t,isNewVisitor:n})}function eu(e,t){L()||gi.createCookieMT("_vis_opt_exp_"+e.id+"_split",t,100,e)}function tu(){gi.insertCSS(Wa,`body${gi.hideElExpression}`)}function nu(){const e=document.getElementById(Wa);e&&e.remove()}const ou=e=>{let t=Ql(e),n=!!t;if(!t){const o=Gl(e);t=o.combi,n=o.alreadyChosen}e.combination_chosen=t;const o=e.sections[1].variations,i=+t;if(i){const r=Dl(t,e);i>1?(e.multiple_domains?Ze.waitForThirdPartySync((()=>{r.then((()=>{Zl({campaignData:e,redirectURL:o[t],isNewVisitor:!n})}))})):r.then((()=>{Zl({campaignData:e,redirectURL:o[t],isNewVisitor:!n})})),eu(e,t)):nu()}},iu=e=>{tu(),ou(e),Fl(e),Yl(e)},ru=e=>{"SPLIT_URL"===e.type?iu(e):zl(e),window.VWO._.phoenixMT.on(j.END_APPLY_CHANGES,(()=>{oc()})),e.isTriggerValidated=!0},su=e=>!!(e.meg&&!e.stag||!ba.includes(e.type)||e[Pa]||gi.isPersonalizeHoldback(e)),au=function(e,t){let n=0;for(let t=e.length-1;t>=0;t--)n+=e.charCodeAt(t);let o=n+t;for(let e=0;e<19;e++)o=(9301*o+49297)%233280;return o/233280},cu=function(e,t){return e/(t/100)},du={getRandom:function(e,t){return window.VWO._.allSettings.dataStore.CIF?au(e,t):Math.random()},getRandomForVariation:function(e,t){return e&&t&&window.VWO._.allSettings.dataStore.CIF?cu(e,t):Math.random()}},lu={};function uu(e){var t;if(window._vis_debug||L())return!0;const n=null!==(t=e.pc_traffic)&&void 0!==t?t:100;if(!n)return!1;let o;lu[e.id]&&lu[e.id].r?o=lu[e.id].r:(lu[e.id]={},o=lu[e.id].r=du.getRandom(gi.getUUID(e),e.id));return 100*o<=n}function wu(e){return!!bl(e)||uu(e)}const _u=e=>{if("SPLIT_URL"!==e.type)return!1;const t=Ql(e);if(!t)return!1;if(gi.isCurrentURLSplitVariation({chosenVariation:t,getters:{currentUrl:gn.currentUrl},campaignData:e})){let n=bl(e);e[Ft]=1;const o=window._vis_debug?"vwo_previewReady":"vwo_phoenixInitialized";let i;return n?i=()=>{$a(e),Ll(e,n)}:(n=t,e&&void 0===e.isFirst&&(e.isFirst=1),i=()=>{$a(e),Rl(e,n)},Pl(n,e)),e.combination_chosen=n,window.VWO._.phoenixMT.on(o,(()=>{i()})),Vr((()=>{Oa(e.id,n)}),{type:Ar.REQUEST_IDLE_CALLBACK}),!0}return!1},gu=e=>{const t=Vl(e);if(su(e)||t||!e[Ra])return e.isExcluded=t,c.info("BETA: Skipping campaign:"+e.id+" From MainThread flow!"),!1;if(_u(e))return Yl(e,!0),e.ready=!0,e[Aa]=!0,!0;if(!window.VWO.modules.utils.campaignUtils.doExperimentHere(e)[0])return!1;const n=xl(e,{stag:e.stag}),o=e.meg,i=e.groupSelectionWinner;let r=!0;if(!o||L()||window._vis_debug||(r=Boolean(i)),!n||!r)return!1;const s=wu(e);return!!gi.shouldTrackUserForCampaign(e)&&(s?(ru(e),!0):(Yl(e),Nl(e),e.isExcluded=!0,e[Aa]=!0,console.log("BETA: Campaign processed and excluded via main thread:"+e.type+" campaignId:"+e.id),!1))};let pu=!1;const hu=()=>window._vwo_code&&window._vwo_code.finish(),vu=()=>{const e=Ze.get("_vis_opt_out",!0);return!!(e||window.location.href.indexOf("vwo_opt_out=1")>-1)&&("0"!==e&&("2"!==e&&window.VWO.optOut.process({accountId:gn.accountId,domain:gn.cookieDomain}),!0))},fu=()=>{if(!u((()=>window.VWO._.allSettings.dataStore.vwoData.dntEnabled)))return!1;const e=window.navigator;return"yes"===e.doNotTrack||"1"==e.doNotTrack||"1"==e.msDoNotTrack||"1"==e.doNotTrack},mu=e=>{window.VWO._.shouldExecuteLib=e},Ou=()=>{pu=!0,mu(!1)},Eu=()=>{hu(),pu=!0,window.VWO._.optOut=!0,mu(!1)},Su=()=>{const{doCookiesMatter:e,areCookiesDisabled:t,shouldStopExecWhenSsmNotFound:n,isSSApp:o}=window.VWO._.envUtils;if(e){if(gi.checkForWrongConsent({location:window.location},o)||n)return hu(),mu(!1),!1}if(pu)return mu(!1),!1;if(!t&&(L()||window._vis_debug))return mu(!0),!0;if(!t){return fu()||Ul()||vu()?(Eu(),!1):(mu(!0),!0)}return window.VWO._.cookiesDisabled=!0,Ou(),!1},Tu=()=>{let e,t,n=[],o={};function i(e){for(let t=0;t<e.length;t++){const n=parseInt(e[t],10);if(1===o[n])return n}}function r(e){return!!Array.isArray(e)}function s(){return e.map((e=>1==e.et?function(e){const n={},s={},a=e.c;let c=0;if(!r(a))return;let d=i(a);if(!d){for(let e=0;e<a.length;e++)2===o[a[e]]&&(c+=1,s[a[e]]=t[a[e]].triggers);if(!c)return void a.map((e=>v(this,void 0,void 0,(function*(){4===o[e]&&Ml(t[e])}))));for(const e in s)Object.prototype.hasOwnProperty.call(s,e)&&(n[e]=+(100/c).toFixed(2));d=+kl(void 0,{scaleInfo:n,segmentInfo:s}),o[d]=1}}(e):2==e.et?function(e){const n=e.c,s=e.p,a=e.wt;if(!r(n))return;let c=i(n);if(!c){if(s&&s.length)for(let e=0;e<s.length;e++)if(2===o[s[e]]){c=s[e],o[c]=1;break}if(!c&&a){const e={},n={};let i=0,r=0;const s=Object.keys(a);for(let e=0;e<s.length;e++)2===o[s[e]]&&(i+=1,n[s[e]]=t[s[e]].triggers,r+=a[s[e]]);if(i){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=+(100*a[t]/r).toFixed(2));c=+kl(void 0,{scaleInfo:e,segmentInfo:n}),o[c]=1}}c||n.map((e=>v(this,void 0,void 0,(function*(){4===o[e]&&Ml(t[e])}))))}}(e):void 0))}return{init:function(i,r){e=i,t=r,o={},n=[]},flattenGroupsData:function(){if(e)for(let t=0;t<e.length;t++){if(e[t].c instanceof Array)for(let n=0;n<e[t].c.length;n++)e[t].c[n]=e[t].c[n].toString();n=n.concat(e[t].c)}},filterExperimentsFromGroups:function(){if(!(null==e?void 0:e.length))return;let i=!1;return Object.keys(t).map((e=>{e=e.toString();const r=t[e];if(he(n,e)<0)o[e]=0;else if(Vl(r))o[e]=3;else{i=!0;const n=function(e){return!!(bl(e)||"SPLIT_URL"===t[e.id].type&&Ql(e)||1===o[e.id])}(r),s=function(e){return Ca.doExperimentHere(e)[0]&&xl(e,{stag:e.stag})}(r);n?o[e]=1:1!==o[e]&&s&&(uu(r)?o[e]=2:o[e]=4)}})),i&&s(),function(){let e,i=!1;Object.keys(t).map((r=>{if(Object.prototype.hasOwnProperty.call(t,r)){const s=t[r],a="SPLIT_URL"===s.type;let c;0!==o[r]&&1!==o[r]||(s.shouldProcessMeg=1),1===o[r]&&(s.groupSelectionWinner=1,a&&(c=xl(s,{stag:s.stag}))),!a||i&&e||(n.indexOf(r)<0?c&&Ca.doExperimentHere(s)[0]&&(e=!0):i=!0)}}))}()}}};var Cu=Tu();const Iu=()=>{const e=window.VWO._.allSettings.dataStore,t=e.vwoData.gC,n=e.campaigns;return Cu.init(t,n),Cu.flattenGroupsData(),Cu.filterExperimentsFromGroups()},yu=()=>{if(Ca.getGroupBasedCampaigns().length)return Iu()},Au=e=>{if(Z()||!Su()||window._vis_heatmap||window.VWO._.blockedState)return;const t=window.VWO._.allSettings,n=Array.isArray(t[Va])?t[Va]:[],o=Array.isArray(t[Na])?t[Na]:[];let i=[];i=window._vis_debug||L()?Object.keys(e):[...n,...o],gi.setThirdPartyCookiesForApplicableCamps();const r={};Td(),yu();for(const t of i)if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];let o=!1;try{o=gu(n)}catch(e){c.error(`Error occured when campaign was run for ${n.id}!`,e)}o&&(r[t]=n)}Jl(r)},bu=()=>{const e=Wo();window.VWO._.allSettings[Na]=Object.keys(e),Au(e)},Vu=function(e){try{let t;e._.allSettings.dataStore.vwoData=e._.allSettings.dataStore.vwoData||{},as(e);const n=window.VWO._.allSettings.dataStore.CIF,o=window.VWO._.cookies.get("_vwo_uuid");if(n)if(o)t=o;else if(t=n(),!t)return void window._removeVwoGlobalStyle();window.VWO._.allSettings.dataStore.uuid=window._vwo_uuid=t||u((()=>window.VWO._.allSettings.dataStore.uuid)),e.data.tB=!0,zi.set("jsLibUtils",{verifyUrl:function(){return Yn.verifyUrl.apply(Yn,arguments)},getCleanedUrl:function(){return Yn.getCleanedUrl.apply(Yn,arguments)}}),Ji.register(ia),e.pageGroup=zs;const{pages:i,pagesEval:r}=e._.allSettings;e.pageGroup.add(i,r),_n.init();const s=window.VWO._.allSettings.dataStore.campaigns;if(window._vis_debug){const e=Object.keys(s)[0];s[e].debug.v=gi.getSelectedVariationForPreviewMode(s[e]),s[e].cc=s[e].debug.v,s[e].combs=Object.keys(s[e].combs).reduce(((t,n)=>(n===s[e].debug.v?t[n]=1:t[n]=0,t)),{})}Au(s);!window._vwo_code||window._vwo_code[en]||!!u((()=>window.VWO._.allSettings.dataStore.plugins.DACDNCONFIG.aSM))?Vr((()=>Tl(e)),{type:Ar.SCHEDULE_CALLBACK,fallbackType:Ar.REQUEST_ANIMATION_FRAME,timeout:0}):Tl(e)}catch(e){window._removeVwoGlobalStyle(),window.vwo_libExecuted=!0,c.error("Error in bootPhoenix:",e.stack)}},Nu={},Ru=function(e,t,n,o={allowReload:!1}){if(!(Z()&&e.indexOf("get_debugger_ui")<0||Nu[e])){o.allowReload||(Nu[e]=1);var i=document.createElement("script");i.src=e,i.type="text/javascript",window.VWO.nonce&&(i.nonce=window.VWO.nonce),t=t||function(){},n=n||function(){},i.onerror=function(){window.VWO._.gcpfb&&window.VWO._.gcpfb(e,window.VWO.modules.utils.loadScript,null,t,n)||t()},o.defer&&(i.defer=o.defer),i.onload=n,document.getElementsByTagName("head")[0].appendChild(i),i.parentNode?i.parentNode.removeChild(i):window.setTimeout((function(){i.parentNode&&i.parentNode.removeChild(i)}),100)}};window.VWO.modules.utils.loadScript=Ru;const Lu=e=>{e._.allSettings.triggers[zt]={cnds:["a",{id:2,event:j.SSR_COMPLETE},{event:j.NOT_REDIRECTING,id:4,filters:{}},{event:j.VISIBILITY_TRIGGERED,id:5,filters:{}},{event:j.PAGE_VIEW,id:1e3,filters:{}}],[Co]:2}},Wu=function(e,t){window._vwo_exp=e._.allSettings.dataStore.campaigns,e._.coreLib={lS:Ru};const n=window._vwo_server_url||"https://dev.visualwebsiteoptimizer.com/";function o(t,n){var o;if(!(null===(o=window.VWO.consentMode)||void 0===o?void 0:o.wFC))return;e._.allSettings.dataStore.campaigns[n][Pa]=!0;const i=["o",{filters:[[`storage.cookies._vis_opt_exp_${n}_combi`,"nbl"]],id:500,event:j.PAGE_VIEW},{filters:[["window.VWO.consentMode.dT","neq",!0]],event:j.COOKIE_CONSENT_ACCEPTED,id:+new Date}],r=window.VWO._.allSettings.triggers[t].cnds;1===r.length?r[0]=["a",r[0],i]:r.push(i)}function i(t){e._.allSettings.triggers.customPreviewTrigger={cnds:["a",{event:j.PAGE_VIEW,id:+new Date},{event:j.VISIBILITY_TRIGGERED,id:+new Date}]},o("customPreviewTrigger",t),e._.allSettings.rules.push({triggers:["customPreviewTrigger"],tags:[{priority:4,data:`campaigns.${t}`,id:"runCampaign"}]});const n=e._.allSettings.dataStore.campaigns[t].triggers[0];if(delete e._.allSettings.triggers[n],e._.allSettings.dataStore.campaigns[t].triggers[0]="customPreviewTrigger",gi.isPersonalizeCampaign(_vwo_exp[t])){for(const t in e._.allSettings.triggers){const o=e._.allSettings.triggers[t].cnds;if(Array.isArray(o))for(const e of o)(null==e?void 0:e.event)&&e.event.indexOf(`trigger.${n}`)>-1&&(e.event="trigger.customPreviewTrigger")}_vwo_exp[t].sections[1].stag&&(e._.allSettings.dataStore.campaigns[t].stag=1)}else e._.allSettings.dataStore.campaigns[t].stag=1}Lu(e),window.vwo_cInstJS&&(e._.allSettings.tags.ctInsightsOnConsent={},e._.allSettings.tags.ctInsightsOnConsent.fn=window.vwo_cInstJS,e._.allSettings.triggers.InsightsOnConsentTrigger={cnds:[{event:"vwo_postInit",filters:[[["tags.ctInsightsOnConsent"],"exec"]],id:+new Date}]}),rl.setFunnelExps();const r=e._.allSettings.dataStore.previewExtraSettings;if(!r||"object"!=typeof r){if(L())for(const t in e._.allSettings.dataStore.campaigns)i(t);return t(e),!1}const s=b(r);if(!s.length)return t(e),!1;const a=s[0],d=r[a].debug.s,l=r[a].debug.tg;for(var w in window._vwo_exp)window._vis_debug=!0,r[w]?(_vwo_exp[w].previewHash=r[w].previewHash,_vwo_exp[w].debug=r[w].debug,r[w].debug.url&&(_vwo_exp[w].url=decodeURIComponent(r[w].debug.url))):delete _vwo_exp[w];let _;is(window._vwo_exp,r),Object.keys(e._.allSettings.dataStore.campaigns).length||c.error("Preview mode opened but no campaigns served");const g=window.name.indexOf("_vis_heatmap_")>=0||window._vwo_tm.indexOf("_vis_heatmap_")>=0;if(!d||g){const e=g?s:[a];for(let t=0;t<e.length;t++)i(e[t])}var p;if(p=a,e._.allSettings.triggers.customSegmentTestTrigger={cnds:[{event:"checkSegmentation",id:+new Date}]},e._.allSettings.rules.push({triggers:["customSegmentTestTrigger"],tags:[{data:`campaigns.${p}`,id:"segmentEligibilityTest"}],occurance:1}),function(t){e._.allSettings.triggers.customPatternTestTrigger={cnds:[{id:+new Date,event:j.PAGE_VIEW}]},o("customPatternTestTrigger",t),e._.allSettings.rules.push({triggers:["customPatternTestTrigger"],tags:[{id:"compareUrlAndFireResultantEvent"}]}),function(){e._.allSettings.triggers.customVisibilityServiceTrigger={cnds:["a",{id:+new Date,event:"vwo_groupCampTriggered"},{id:+new Date,event:"executePatternMatching"}]};const t=e._.allSettings.rules;e._.allSettings.rules=t.map((e=>("visibilityService"===e.tags[0].id&&(e.triggers=["customVisibilityServiceTrigger"]),e)))}()}(a),!l){const t=window._vwo_exp[a].debug.v;e._.allSettings.dataStore.campaigns[a].sections[1].triggers[t]&&(e._.allSettings.dataStore.campaigns[a].sections[1].triggers[t]="customPreviewTrigger")}if(window._vwo_surveySettings&&!d){const e=b(window._vwo_surveySettings);e.length&&window._vwo_surveySettings[e[0]].t&&(window._vwo_surveySettings[e[0]].t="customPreviewTrigger")}if(g){const e=u((()=>window.VWO._.allSettings.dataStore.plugins.LIBINFO.HEATMAP_HELPER.HASH)),t=`${n}7.0/heatmap.helper.js`,o=`${window._vwo_cdn}7.0/heatmap.helper-${e}.js`;_=oo?o:t,window._vis_opt_heatmap=1}else{if("SURVEY"===e._.allSettings.dataStore.campaigns[a].type)return window.fetcher.setValue("fakeWindow._vwo_surveySettings",window._vwo_surveySettings),t(e),!0;if(window.VWO_d&&window.VWO_d.bootDebugger)return t(e),!0;_=`${n}7.0/debugger.js`}return Ru(_,null,(function(){t(e)})),!0};class Pu{constructor(){this.id=0,this.store={}}wrap(e,t){const n=this.id++;return this.store=this.store||{},this.store[n]=t?e.bind(t):e,n}unwrap(e){return this.store[e]}}const Du={primary:(e,t,n=!1,o,i)=>new Proxy(t,{construct(t,r){this.store=this.store||["1"];const s=new t(...r),a=this.store.length;this.store.push(s);let c=r;n&&(c=o(s)),Object.defineProperty(s,"otherSideCreated",{value:!1,enumerable:!1,writable:!0}),s.otherSide=(...e)=>s.otherSideCreated.then((()=>s.otherSide(...e).then((e=>e))));const d={type:"vwoClassInstanceBridge",id:a,args:c,path:e};return s.otherSideCreated=new Promise((t=>{window.fetcher.request(d).send().then((n=>{s.otherSide=(...t)=>{const o=e.dest+"."+n+"."+t[0];return t[0]=o,window.fetcher.getValue(...t)},t(null),i&&i(n)}))})),s},get(e,t){return"symbol"==typeof t||isNaN(+t)?e:this.store[t]}}),secondary:(e,t,n)=>new Proxy(t,{construct(e,t){this.store=this.store||["1"];const o=new e(...t),i=this.store.length;return this.store.push(o),n&&n(o),[i,o]},get(e,t){return"symbol"==typeof t||isNaN(+t)?e:this.store[t]}})};class xu{constructor(e,t,n,o){this.eventName=e,this.domEventName=t,this.domEventsDebounceTime=n,this.attachedFilters=o}on(e){this.domEventName!==r.CLICK&&this.domEventName!==r.SUBMIT&&(this.domEventName===r.DOM_CONTENT_LOADED?"interactive"===document.readyState||"complete"===document.readyState?setTimeout((()=>{e()}),0):window.document.addEventListener(this.domEventName,this.callback=ri((t=>{t.preComputedConds=tr(this.eventName,t,this.attachedFilters),e(t)}),this.domEventsDebounceTime),!0):this.domEventName===r.SCROLL?window.document.addEventListener(this.domEventName,this.callback=ri((t=>{const{scrollY:n,innerHeight:o}=window,i=vwo_$(document).height(),r=100*n/(i-o);Object.assign(t,{pxTop:n,pxBottom:i-o-n,top:r,bottom:100-r}),t.preComputedConds=tr(this.eventName,t,this.attachedFilters),e(t)}),this.domEventsDebounceTime),!0):window.document.addEventListener(this.domEventName,this.callback=ri((t=>{t.preComputedConds=tr(this.eventName,t,this.attachedFilters),e(t)}),this.domEventsDebounceTime),!0))}off(){window.document.removeEventListener(this.domEventName,this.callback,!0)}eventConditionsUpdate(e){this.attachedFilters=e}}window.VWO.modules.phoenixPlugins.events.predefinedEvents.GenericDOMEvent=Du.secondary("VWO.modules.phoenixPlugins.events.predefinedEvents.GenericDOMEvent",xu);class Uu{}class Mu extends Uu{constructor(){super(),this.eventName=n.LEAVE_INTENT,this.threshold=2,this.delay=100}on(e){window.document.addEventListener("mouseout",this.onMouseLeave(e).bind(this)),window.document.addEventListener("mouseover",this.onMouseEnter.bind(this))}off(){window.document.removeEventListener("mouseout",this.mouseLeaveCallback),window.document.removeEventListener("mouseover",this.onMouseEnter)}onMouseLeave(e){return this.mouseLeaveCallback=t=>{this.isMouseMoveUpward(t)&&(Math.abs(t.offsetY||t.clientY)<=this.threshold||(this.timeout=window.setTimeout((()=>e(t)),this.delay)))},this.mouseLeaveCallback}onMouseEnter(){clearTimeout(this.timeout)}isMouseMoveUpward(e){let t=!0;return/\b(MSIE|Trident.*?rv:|Edge\/)(\d+)/.test(navigator.userAgent)||(t=e.clientY<0),t&&e.screenY-window.innerHeight<0&&(e.offsetX||e.clientX)-3>0&&e.clientX+3-window.innerWidth<0}}var ku;function Gu(){if(!document.URL.includes("_vis_preview_data"))return;const e=new URL(document.URL);return e.searchParams.delete("_vis_preview_data"),e.toString()}window.VWO.modules.phoenixPlugins.events.predefinedEvents.LeaveIntentEvent=Du.secondary("VWO.modules.phoenixPlugins.events.predefinedEvents.LeaveIntentEvent",Mu),function(e){e[e.PAGE_LOAD=0]="PAGE_LOAD",e[e.URL_CHANGE=1]="URL_CHANGE"}(ku||(ku={}));class Fu{resetExpParamsCommon(e){if(e[jt]=0,delete e[Ft],delete e[$t],delete e.clicks,delete e.combination_chosen,delete e[Zt],delete e.segment_eligble,delete e.isFirst,delete e.isExcluded,e.muts&&delete e.muts.pvtMut,779155==window._vwo_acc_id?!e.isProcessing&&delete e.ready:delete e.ready,delete e.timedout,delete e[Aa],delete e.processed,delete e[Ft],this.checkForVariationTargeting(e)&&delete e.xPath,clearTimeout(e[qt]),delete e[qt],delete e.globalCode.preExecuted,delete e.globalCode.postExecuted,e.sections)for(var t=_e(e.sections),n=0;n<t.length;n++)delete e.sections[t[n]].loaded}shouldProcessCampaign(e,t){return!1}checkForVariationTargeting(e){return!1}}class $u extends Fu{resetExpParams(e){for(const t in e)this.shouldProcessCampaign(t,e)&&this.resetExpParamsCommon(e[t])}shouldProcessCampaign(e,t){return Object.prototype.hasOwnProperty.call(t,e)&&t[e][Ra]}checkForVariationTargeting(e){return Ca.checkForVariationTargeting(e)}}var ju=new $u;class Bu extends Uu{constructor(e){var t;super(),this.eventName=n.URL_CHANGE,this.originalCallbacks={},this.enableSpaVisibility=!!(null===(t=window._vwoCc)||void 0===t?void 0:t.enableSpaVisibility),this.events=e||["pushState","replaceState","hashchange","popstate"]}handleUrlChange(e,t){const n=window.location.href;this.lastExecutedURL!==n&&(gi.updateLibState(ku.URL_CHANGE,!0),window.VWO._.phoenixMT.trigger("vwo_reRun"),window.VWO._.urlChangeProcessingPending=!0,gi.resetAuxDependencies(),this.lastExecutedURL=n,Eo&&(ju.resetExpParams(Wo()),bu()),(null==t?void 0:t._event)?(window._vis_opt_url=u((()=>Gu())),gi.fireUrlChangeWildCardEvent(),e({_event:gi.filterEventObjectForWT(t._event),location:{href:window.location.href,search:window.location.search,hash:window.location.hash,visOptUrl:window._vis_opt_url}})):(gi.fireUrlChangeWildCardEvent(),e({values:null==t?void 0:t.values,location:{href:window.location.href,search:window.location.search,hash:window.location.hash,visOptUrl:window._vis_opt_url}})),this.enableSpaVisibility&&window.VWO._.phoenixMT.trigger(j.SPA_VISIBILITY_SERVICE),window.VWO._.phoenixMT.trigger("vwo_urlChangeMt"),js({spa:1}))}on(e){this.lastExecutedURL=window.location.href,this.events.forEach((t=>{"popstate"===t?window.addEventListener(t,(t=>{this.handleUrlChange(e,{_event:t})}),!1):(this.originalCallbacks[t]=window.history[t],window.history[t]=(...n)=>{window._vis_opt_url=void 0,this.originalCallbacks[t].apply(window.history,n),window._vis_opt_url=u((()=>Gu())),this.handleUrlChange(e,{values:n})})}))}off(){Object.keys(this.originalCallbacks).forEach((e=>{window.history[e]=this.originalCallbacks[e]}))}}window.VWO.modules.phoenixPlugins.events.predefinedEvents.UrlChangeEvent=Du.secondary("VWO.modules.phoenixPlugins.events.predefinedEvents.UrlChangeEvent",Bu);class Hu{}class Ku extends Hu{shouldWeTriggerMetric({currentUrl:e},t,n,o={}){const i=t.isFirst,{excludeUrl:r,pExcludeUrl:s,urlRegex:a,pUrl:c}=n;let d;d=!(r||s||a||c)||$d.isGoalEligible(n,e);return!(!gi.isSessionBasedCampaign2(t)&&i&&o.name===j.PAGE_VIEW&&"CUSTOM_GOAL"===n.type)&&d}}var qu=new Ku;function Ju(e,t,n){var o,i;const r="o"===n[0];let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if(!c.filters)continue;let d=!0;for(const n of c.filters){if("string"==typeof n)continue;const[r,s,...a]=n,l=Zi(r,t);if(!(null===(i=null===(o=Ji.plugins[Xi.OPERATOR])||void 0===o?void 0:o.get(s))||void 0===i?void 0:i(l,...a,{eventName:e,triggerName:c.id,jsLibUtils:zi.get("jsLibUtils")}))){d=!1;break}}if(r&&d){s=!0;break}s=d}return s}const Xu=e=>u((()=>3===Po()[e][Co]))||!1;class Yu{constructor(e,t){this.goalsToBeConvertedSynchronously=null,this.nameInStorage=e,this.goalsFilter=t,window.VWO._.phoenixMT.on("updateSettingSuccess",(()=>{this.goalsToBeConvertedSynchronously=null}))}checkMissingComputations(e){var t;return null===(t=u((()=>{const{goalId:t,campaignId:n,eventData:o,eventName:i}=e,r=window.VWO._.allSettings,s=u((()=>r.triggers[r.dataStore.campaigns[n].mt[t]].cnds));if(s&&(s.length>1||s[0].filters.length))return Ju(i,o,s)})))||void 0===t||t}isGoalTriggerValid(e,t){return e||t.isDslvType3?!!u((()=>e.state)):this.checkMissingComputations(t)}updateGoalsKind(){this.goalsToBeConvertedSynchronously||(this.goalsToBeConvertedSynchronously=gi.updateGoalsKind(window._vwo_exp,this.goalsFilter))}fireEventForConversion(e,t,n){var o,i,r,s;if(!st.shouldWeTrackVisitor())return Promise.resolve(null);const a=[],c=null===(o=t.props)||void 0===o?void 0:o.aux,d=window._vis_opt_url||window.location.href,l=Wi(null,e,t);this.updateGoalsKind();let w=null;for(const o in this.goalsToBeConvertedSynchronously){if(!Object.prototype.hasOwnProperty.call(this.goalsToBeConvertedSynchronously,o))continue;const l=this.goalsToBeConvertedSynchronously[o],_=window._vwo_exp[o];if(!(null===(i=window._vwoCc)||void 0===i?void 0:i.ignoreCSAForGoals)&&(null===(r=null==_?void 0:_.ss)||void 0===r?void 0:r.csa)&&!_.isTriggerValidated){u((()=>{var e,o,i;return null===(i=null===(e=window.VWO)||void 0===e?void 0:(o=e._.previewDebugger.utils).handleCsaMetricFails)||void 0===i?void 0:i.call(o,{campaignData:_,goals:l,event:t,isAux:c,opts:n,isGoalTriggerValid:this.isGoalTriggerValid.bind(this),shouldWeTriggerMetric:qu.shouldWeTriggerMetric})}));continue}if((null==_?void 0:_.mE)&&Ca.doExperimentHere(_)[0]&&!_.combination_chosen)continue;const g=gi.isSessionBasedCampaign2(_),p=gi.hasInsightsMetric(_.type),h=!g||p||u((()=>window.VWO._.track.loaded));if((!h||Ca.getCombi(_))&&gi.shouldTrackUserForCampaign(_))for(const i in l){if(!Object.prototype.hasOwnProperty.call(l,i))continue;const r=l[i],u=Object.assign({kind:r},_.goals[i]),g=null===(s=_.mt)||void 0===s?void 0:s[i];g&&!t.preComputedConds[g]&&c||g&&this.isGoalTriggerValid(t.preComputedConds[g],{goalId:i,campaignId:o,eventData:null==n?void 0:n.eventData,eventName:e,isDslvType3:Xu(g)})&&qu.shouldWeTriggerMetric({currentUrl:d},_,u)&&(h?Ca.isGoalTriggered(_,i)||(a.push({c:_.id,g:i}),u.mca||(w=w||{},w[g]=!0)):Ca.getCombi(_))}}return a.length&&Hd(t,a),l.then((()=>w))}}class zu{static isBrowserChromiumBased(){const e=gn.navigator.userAgent;return!(!e.includes("Chrome/")||!e.includes("Safari/"))}}const Qu=e=>{const{event:t,eventName:n,functionalTriggerFilters:o}=e,i=mr({eventName:n,properties:t,metricIdsToBeConvertedList:Array.from(o)});return i.length>0&&(t.preComputedConds=t.preComputedConds||{},Object.assign(t.preComputedConds,i.reduce(((e,t)=>(e[t]={state:!0},e)),{}))),t};window.VWO._.functionalDSLUtils={evaluateFunctionalTriggers:Qu};const Zu=(e,t)=>{const n=[];return Object.keys(e).forEach((o=>{const i=e[o],{pgId:r}=i;u((()=>Vo().pageGroup.validatePage(r,null,t).didMatch))&&n.push({elId:o,paths:i.paths})})),n},ew=(e,t,n)=>{if(!n)return"";const o=[];return t.forEach((t=>{const{paths:n,elId:i}=t;for(const t of n)try{if(window.vwo_$(e).is(t)){o.push(i);break}}catch(e){continue}})),o.join(",")},tw=()=>{let e=[],t=!1;const n=()=>{const n=u((()=>Lo().elements))||{},o=u((()=>Vo().modules.dataStorePlugin.currentUrl))||window.location.href;e=Zu(n,o),t=Me(e)};return{init(){No().phoenixMT.on("vwo_phoenixInitialized",(()=>{n(),No().phoenixMT.on("vwo_urlChangeMt",n)}))},hasElements:()=>t,getMatchedElementIdsString:n=>ew(n,e,t)}},nw=tw();class ow{constructor(e){this.eventName=n.CLICK_EVENT,this.functionalTriggerFilters=new Set,this.attachedFilters=e,this.goalConverter=new Yu("vwoClickGoalData",{CLICK_ELEMENT:!0,ENGAGEMENT:!0,ON_PAGE:!0}),window.VWO._.phoenixMT.on(j.DOM_CLICK,(e=>{w(this.performClick.call(this,e))}),{syncToDataLayer:!0})}handleShadowDOMClick(e){let t={};const n=new Proxy(e,{get:(e,n)=>{let o=t[n]||e[n];return"function"==typeof o&&(o=o.bind(t[n]?t:e)),o},set:(e,n,o)=>(t[n]=o,!0)}),o=n._vwoComposedPath||n.composedPath(),i=e.target;for(let r=0;r<o.length;r++){n.target=o[r];const s={e:n,ignoreObj:{heatmap:0!=r}};if(o[r]==i){this._click(s),e._vwo=s.e._vwo;break}(0==r||o[r].shadowRoot)&&(this._click(s),e._vwo=s.e._vwo),t={}}}performClick(e){e.vwoEventName=j.DOM_CLICK,e.target.shadowRoot&&e.composedPath?this.handleShadowDOMClick(e):this._click({e:e}),Ms({msg:"Clicked on an element!",event:e})}shouldTrackClick(e,t){return"touchend"===e||void 0===t||1===t}onPointerUp(e,t){var n,o=e.target;(u((()=>window.VWO.nls.canvasRec.isFlutterWeb))||o.vwoPD&&(!(uo||!(null!==(n=window.chrome)&&void 0!==n?n:zu.isBrowserChromiumBased()))||!t))&&(e.composedPath&&(e._vwoComposedPath=[...e.composedPath()]),window.VWO._.phoenixMT.trigger(j.DOM_CLICK,e),window.VWO._.phoenixMT.trigger("vwo_domClicked",e))}onPointerDown(e){e.target.vwoPD=1}_click({_pause:e,e:t,ignoreObj:n}){var o,i;let r,s;n=n||{};const a=t.which,c=vwo_$(t.target),d=c.get(0);if(!this.shouldTrackClick(t.type,a)||void 0===d.tagName)return;void 0===e&&(e=500),"a"===d.tagName.toLowerCase()?(r=c.attr("href"),s=!0):0<c.parents("a").length?(r=c.parents("a").eq(0).attr("href"),s=!0):("button"===d.tagName.toLowerCase()||0<c.parents("button").length||"input"===d.tagName.toLowerCase()&&("button"===c.attr("type")||"image"===c.attr("type")||"submit"===c.attr("type")))&&(s=!0),t.props=t.props||{},null===(o=t.props)||void 0===o||delete o.vwoMeta;const l=u((()=>nw.getMatchedElementIdsString(d)));l&&(t.props.elementId=l),t.userEngagement=t.props.userEngagement=!!s,t.eventUuid=t.eventUuid||gi.generateUUID(),r&&(t.props.targetUrl=t.targetUrl=r),t.preComputedConds=tr(this.eventName,t,this.attachedFilters),(null===(i=window.VWO._.ncLib)||void 0===i?void 0:i.handleClickEvent)&&window.VWO._.ncLib.handleClickEvent(t);const w={props:t.props,targetUrl:t.targetUrl,userEngagement:t.userEngagement,vwoEventName:t.vwoEventName,preComputedConds:t.preComputedConds,eventUuid:t.eventUuid};let _={};const g=window.VWO.modules.utils.heatmapUtils;!t.props.aux&&g&&(_=n.heatmap?{}:g.evaluateHeatmapData(t)),Qu({event:t,eventName:this.eventName,functionalTriggerFilters:this.functionalTriggerFilters}),this.goalConverter.fireEventForConversion(this.eventName,w,{eventData:t}).then((e=>{if(e){const t=[];for(let n=0;n<this.attachedFilters.length;n++){const o=this.attachedFilters[n];e[o.triggerName]||t.push(o)}this.attachedFilters=t}}));let p=u((()=>w._vwo.eventDataConfig))||{};Object.keys(p).length&&Object.keys(_).length?p=this.syncHeatmapAndEventsData(_,p):Object.keys(_).length&&(p=_),t._vwo=t._vwo||{},Object.keys(p).length&&(t._vwo.eventDataConfig=A.mergeNestedObjectsV2({mergeArrays:!0},p,t._vwo.eventDataConfig)),t._vwo.syncEventData=w}syncHeatmapAndEventsData(e,t){const n={};for(const o in t)Object.keys(e).find((e=>e===o))&&(n[o]=Object.assign(Object.assign({},t[o]),e[o]),delete t[o]);return n}on(e,t){const n=this,o=L(),i=vwo_$(document)[0];o||function(){if(i&&i.vwoCEvent)return;const e=vwo_$(i);let o=null,r=!1;ua.addJqEventListener(e,"bind","pointerdown",(e=>{null!==o&&delete o.vwoPD,n.onPointerDown(e),o=e.target,r=!1}),null,t.useCapturePhase),ua.addJqEventListener(e,"bind","pointermove",(e=>{"touch"===e.pointerType&&(r=!0)}),null,t.useCapturePhase),ua.addJqEventListener(e,"bind","pointerup",(e=>{n.onPointerUp(e,r)}),null,t.useCapturePhase),i&&(i.vwoCEvent=1)}()}off(){}eventConditionsUpdate(e){this.attachedFilters=e}updateFunctionalTriggerFilters({triggerName:e}){this.functionalTriggerFilters.add(e)}otherSide(...e){throw new Error("entered into outdated otherSide")}}window.VWO.modules.phoenixPlugins.events.predefinedEvents.ClickDomEvent=Du.secondary("VWO.modules.phoenixPlugins.events.predefinedEvents.ClickDomEvent",ow);class iw{constructor(e,t){this.nameInStorage=e,this.goalsFilter=t}checkMissingComputations(e){var t,n,o;try{const{goalId:i,campaignId:r,eventData:s,eventName:a}=e,c=window.VWO._.allSettings,d=c.triggers[null===(n=null===(t=c.dataStore.campaigns[r])||void 0===t?void 0:t.mt)||void 0===n?void 0:n[i]].cnds;return!d||!(d.length>1||(null===(o=d[0].filters)||void 0===o?void 0:o.length))||Ju(a,s,d)}catch(e){return!0}}isGoalTriggerValid(e,t){if(t.isDslvType3)return!!u((()=>e.state));if(!e)return this.checkMissingComputations(t);let n=!1;const o=Object.keys(e);for(const t of o){const o=e[t];let i=!0;const r=Object.keys(o);for(const e of r)if(!o[e]){i=!1;break}if(i){n=!0;break}}return n}fireEventForConversion(e,t,n){var o;if(!st.shouldWeTrackVisitor())return Promise.resolve();const i=[],r=null===(o=t.props)||void 0===o?void 0:o.aux,s=window._vis_opt_url||window.location.href,a=Wi(null,e,t);return window.VWO._.goalsToBeConvertedSynchronously||gi.updateGoalsKind(window._vwo_exp),Object.keys(window.VWO._.goalsToBeConvertedSynchronously).forEach((o=>{var a,c;const d=window.VWO._.goalsToBeConvertedSynchronously[o],l=window._vwo_exp[o];if(!(null===(a=window._vwoCc)||void 0===a?void 0:a.ignoreCSAForGoals)&&(null===(c=null==l?void 0:l.ss)||void 0===c?void 0:c.csa)&&!l.isTriggerValidated)return;if((null==l?void 0:l.mE)&&Ca.doExperimentHere(l)[0]&&!l.combination_chosen)return;const w=gi.isSessionBasedCampaign2(l),_=gi.hasInsightsMetric(l.type),g=!w||_||u((()=>window.VWO._.track.loaded));g&&!Ca.getCombi(l)||gi.shouldTrackUserForCampaign(l)&&Object.entries(d).forEach((([a,c])=>{var d;const u=Object.assign({kind:c},l.goals[a]);if(this.goalsFilter.includes(u.kind)){const c=null===(d=l.mt)||void 0===d?void 0:d[a];if(c&&!t.preComputedConds[c]&&r)return;if(!c||!this.isGoalTriggerValid(t.preComputedConds[c],{goalId:a,campaignId:o,eventData:null==n?void 0:n.eventData,eventName:e,isDslvType3:Xu(c)})||!qu.shouldWeTriggerMetric({currentUrl:s},l,u))return;if(!g)return void Ca.getCombi(l);Ca.isGoalTriggered(l,a)||i.push({c:l.id,g:a})}}))})),i.length&&Hd(t,i),a}}window.VWO.modules.utils.goalUtils={GoalConversion:iw};class rw{constructor(e){this.eventName=j.DOM_SUBMIT,this.functionalTriggerFilters=new Set,this.attachedFilters=e,this.goalConverter=new iw("vwoSubmitGoalData",["FORM_SUBMIT"]),window.VWO._.phoenixMT.on(j.DOM_SUBMIT,(e=>this.onFormSubmit({e:e})),{syncToDataLayer:!0})}eventConditionsUpdate(e){this.attachedFilters=e}otherSide(...e){throw new Error("entered into outdated otherSide")}onFormSubmit({e:e}){var t,n=vwo_$(e.target),o=n.get(0);if("string"==typeof o.tagName&&"form"!==o.tagName.toLowerCase()&&n.parents("form").length>0&&(o=n.parents("form").get(0)),"string"==typeof o.tagName&&"form"!==o.tagName.toLowerCase()||"vwo_form"===vwo_$(o).attr("id"))return;e.props=e.props||{},e.props.targetUrl=e.targetUrl=vwo_$(o).attr("action"),e.userEngagement=e.props.userEngagement=!0,e.isBeaconAvailable=!0,e.isLinkRedirecting=!0,e.vwoEventName=this.eventName;const i=u((()=>nw.getMatchedElementIdsString(o)));i&&(e.props.elementId=i),e.preComputedConds=tr(this.eventName,e,this.attachedFilters),t={props:e.props,targetUrl:e.targetUrl,userEngagement:e.userEngagement,isBeaconAvailable:e.isBeaconAvailable,isLinkRedirecting:e.isLinkRedirecting,vwoEventName:e.vwoEventName,preComputedConds:e.preComputedConds},Qu({event:e,eventName:this.eventName,functionalTriggerFilters:this.functionalTriggerFilters}),this.goalConverter.fireEventForConversion(this.eventName,t,{eventData:e});const r=u((()=>t._vwo.eventDataConfig))||{};e._vwo=e._vwo||{},Object.keys(r).length&&(e._vwo.eventDataConfig=r),e._vwo.syncEventData=t}on(e,t){const n=L(),o=vwo_$(document)[0];o&&(o.vwoFEvent=1),function(){var e=vwo_$(document)[0];n||(ua.addJqEventListener(vwo_$(e),"bind","submit",(e=>{u((()=>e.target.noValidate&&!e.target.checkValidity()))||window.VWO._.phoenixMT.trigger(j.DOM_SUBMIT,e)}),null,t.useCapturePhase),e&&(e.vwoFEvent=1))}()}off(){}updateFunctionalTriggerFilters({triggerName:e}){this.functionalTriggerFilters.add(e)}}window.VWO.modules.phoenixPlugins.events.predefinedEvents.SubmitDomEvent=Du.secondary("VWO.modules.phoenixPlugins.events.predefinedEvents.SubmitDomEvent",rw);class sw extends Uu{constructor(){super(...arguments),this.eventName=n.PAGE_LOAD_EVENT}on(e){if("complete"===document.readyState)e();else{const t=this.onPageLoad(e);window.addEventListener("load",(e=>{t(gi.filterEventObjectForWT(e))}),!0)}}off(){window.removeEventListener("load",(e=>{this.pageLoadCallback(gi.filterEventObjectForWT(e))}),!0)}onPageLoad(e){return this.pageLoadCallback=e,this.pageLoadCallback}}window.VWO.modules.phoenixPlugins.events.predefinedEvents.PageLoadEvent=Du.secondary("VWO.modules.phoenixPlugins.events.predefinedEvents.PageLoadEvent",sw);class aw{constructor(){this.eventName=j.PAGE_VIEW,this.functionalTriggerFilters=new Set,window.VWO._.phoenixMT.on("vwo_reRun",(()=>{this.functionalTriggerFilters.clear()}))}updateFunctionalTriggerFilters({triggerName:e}){this.functionalTriggerFilters.add(e)}computeEligibleFunctionalTriggers(){return mr({eventName:this.eventName,properties:{page:{url:gn.currentUrl},time:+new Date,props:{url:gn.currentUrl,referrerUrl:_n.get()}},metricIdsToBeConvertedList:Array.from(this.functionalTriggerFilters)})}}window.VWO.modules.phoenixPlugins.events.predefinedEvents.PageViewEvent=new aw;let cw=!1;function dw(){let e=!1;function t(t){e||(e=!0,window.VWO._.phoenixMT.trigger(j.PAGE_EXIT,t))}window.addEventListener("beforeunload",(function(e){t(e)})),window.addEventListener("pagehide",(function(e){t(e)})),document.addEventListener("visibilitychange",(function(n){!function(n){"hidden"===document.visibilityState?t(n):e=!1}(n)})),window.addEventListener("pageshow",(function(t){t.persisted&&(e=!1)})),cw=!0}!cw&&dw();const lw=function(){var e,t,n=function(e,t){try{Object.defineProperty(e,t,{writable:!1})}catch(e){}},o=function(){if(!window.DISABLE_NATIVE_CONSTANTS){if(!document.body)return;e=window.document.createElement("iframe"),n(e,"src"),e.setAttribute=function(e,t){},e.style.display="none",e.onload=function(){(t=e.contentWindow).onerror=function(e,t){l({msg:e,url:t,source:"nativeConstants"})}},document.body.appendChild(e),(t=e.contentWindow)&&n(t.location,"href")}};return void 0===window.DISABLE_NATIVE_CONSTANTS?window.DISABLE_NATIVE_CONSTANTS=!0:!1===window.DISABLE_NATIVE_CONSTANTS&&o(),{get:function(n){e&&e.contentWindow||o();var i=t;const r=!i||!!window.DISABLE_NATIVE_CONSTANTS;if(r&&(i=window),window.VWO._.enableInternalJSONStringify&&"JSON"==n){if(r){return{stringify:window.window.VWO._.native.JSON.stringify,parse:window.window.VWO._.native.JSON.parse,rawJSON:window.JSON.rawJSON,isRawJSON:window.JSON.isRawJSON}}i[n].stringify=window.window.VWO._.native.JSON.stringify}return i[n]}}};function uw(){const e=[[].map,[].filter,[].forEach,[].reverse];for(const t of e)if(-1==Function.prototype.toString.call(t).indexOf("[native code]"))return!0;return!1}const ww=function(){const e=!!u((()=>window.VWO._.allSettings.dataStore.plugins.DACDNCONFIG.eNC));void 0===window.DISABLE_NATIVE_CONSTANTS&&(window.DISABLE_NATIVE_CONSTANTS=!e),window.DISABLE_NATIVE_CONSTANTS&&(window.DISABLE_NATIVE_CONSTANTS=1!=uw()),window.VWO._.nativeConstants=lw()},_w=()=>{const e="function"==typeof Array.prototype.toJSON;window.VWO._.enableInternalJSONStringify=e;let t=window.DISABLE_NATIVE_CONSTANTS?window.JSON:window.VWO._.nativeConstants.get("JSON");if(e){const e=t.stringify;t={parse:t.parse,rawJSON:t.rawJSON,isRawJSON:t.isRawJSON,stringify:(...t)=>{const n=Array.prototype.toJSON;delete Array.prototype.toJSON;const o=e.call(void 0,...t);return Array.prototype.toJSON=n,o}}}window.VWO._.native.JSON=t};var gw="undefined",pw=10;function hw(e,t){return e.toString().toLowerCase()===t.toString().toLowerCase()}function vw(e,t){return e.toString()===t.toString()}function fw(e,t){var n=new RegExp(t,"i");return(e+="").match(n)}function mw(e,t){var n=new RegExp(t);return(e+="").match(n)}function Ow(e,t){return e.toString().toLowerCase().indexOf(t.toString().toLowerCase())>-1}function Ew(e,t,n){if("object"==typeof e&&e._vwo_qp instanceof Array&&!(t instanceof Array))return e._vwo_qp.some((function(e){return n(e,t)}))}const Sw=navigator,Tw=document,Cw=Sw.userAgent,Iw=Tw.createElement("a"),yw=Cw.toLowerCase(),Aw=u((()=>window.VWO._.allSettings.dataStore.plugins)),bw=[{s:"search.yahoo.com/",p:"p",i:1},{s:"www.google.",p:"q",i:2},{s:"www.bing.com/",p:"q",i:3},{s:".ask.com/",p:"q",i:4},{s:"www.search.com/",p:"q",i:5},{s:"www.baidu.com/",p:"wd",i:6},{s:"search.aol.com/",p:"q",i:7},{s:"duckduckgo.com/",p:"q",i:8}],Vw=function(e){return gw!==typeof e},Nw=function(){return window.VWO&&window.VWO.data&&window.VWO.data.vi},Rw=function(e){return!(!Vw(e)||null===e)&&!isNaN(+e)},Lw={ce:function(){return Sw.cookieEnabled},U:function(){return decodeURIComponent(Tw.URL)},ks:function(){return""===this.R()?"":Iw.search},R:function(){return _n.get()},ors:function(){for(var e=0;e<bw.length;e++)if(-1!==this.R(window._vwoCc&&window._vwoCc.shouldUseSessionReferrer).indexOf(bw[e].s))return bw[e].i;return 0},rt:function(){return this.ors()?"org":this.R()?"ref":this.f_in(this.qP("utm_medium"),"email")?"eml":this.f_re_i(this.qP("utm_medium"),"^(?:cpc|ppc|cpa|cpm|cpv|cpp)$")?"spt":"dir"},ts:function(){const{queryParams:e}=ji.parseUrl(document.URL);let t,n;const o=document.referrer;if(/facebook\.com|quora\.com|reddit\.com|imgur\.com|tapiture\.com|disqus\.com|9gag\.com|tumblr\.com|plus\.google|stumbleupon\.com|twitter\.com|linkedin|del\.icio\.us|delicious\.com|technorati|digg\.com| hootsuite|stumbleupon|myspace|bit\.ly|tr\.im|tinyurl|ow\.ly|reddit|m\.facebook\.com|youtube|flickr|pinterest\.com|^https:\/\/t\.co\/|tweetdeck/.test(o))return"soc";this.ors()&&(t=!0);const{gclid:i,utm_medium:r}=e;if(o&&(n=!0),t&&i)return"pst";if(r){if("email"===(null==r?void 0:r.toString().toLowerCase()))return"eml";if(null==r?void 0:r.toString().match(new RegExp("^(?:cpc|ppc|cpa|cpm|cpv|cpp)$","i")))return"pst"}else if(t)return"org";return n?"ref":"dir"},k:function(){if(this.ors()){var e=new RegExp("[\\?&]"+bw[this.ors()-1].p+"=([^&#]*)").exec(this.R());if(null!==e)return e[1].split("+").join(" ")}return""},gC:function(e){if(0<Tw.cookie.length){var t,n=Tw.cookie.indexOf(e+"=");if(-1!==n)return n=n+e.length+1,-1===(t=Tw.cookie.indexOf(";",n))&&(t=Tw.cookie.length),decodeURIComponent(Tw.cookie.substring(n,t))}return""},T:function(){var e=this.gC("_vis_opt_s");return e&&1<parseInt(e.split("|")[0],pw)?"ret":"new"},qP:function(e){if(632115==window._vwo_acc_id||window._vwo_acc_id>=709708){const t=new URL(this.U()),n=decodeURIComponent(t.search).slice(1),o=[];return n.split("&").forEach((t=>{const[n,i]=t.split("=");n===e&&o.push(i)})),o.length?{_vwo_qp:o}:""}e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(this.U());return t?t[1]:""},pC:function(e){return u((()=>Aw.GEO.p))},f_in_loc:function(e){return!1},f_nin_loc:function(e){return!1},f_in_list:function(e,t){return!1},f_nin_list:function(e,t){return!1},f_in:function(e,t){if(!Vw(e)||!Vw(t))return!1;const n=Ew(e,t,hw);return void 0!==n?n:hw(e,t)},f_nin:function(e,t){return!this.f_in(e,t)},f_cs:function(e,t){if(!Vw(e)||!Vw(t))return!1;const n=Ew(e,t,vw);return void 0!==n?n:vw(e,t)},f_ncs:function(e,t){return!this.f_cs(e,t)},f_re_i:function(e,t){if(!Vw(e)||!Vw(t))return!1;const n=Ew(e,t,fw);return void 0!==n?n:fw(e,t)},f_re_s:function(e,t){if(!Vw(e)||!Vw(t))return!1;const n=Ew(e,t,mw);return void 0!==n?n:mw(e,t)},f_con:function(e,t){if(!Vw(e)||!Vw(t))return!1;const n=Ew(e,t,Ow);return void 0!==n?n:Ow(e,t)},f_d_con:function(e,t){return!this.f_con(e,t)},f_b:function(e){return!e},f_n_b:function(e){return!this.f_b(e)},f_in_arr:function(e,t,n=this.f_in){for(let o=0;o<t.length;o++)if(n(e,t[o]))return!0;return!1},f_nin_arr:function(e,t,n=this.f_in){return!this.f_in_arr(e,t,n)},f_e:function(e,t){var n;if("object"==typeof t){for(n=0;n<t.length;n++)if(this.f_in(e,t[n]))return!0;return!1}return this.f_in(e,t)},f_gt:function(e,t){return Rw(e)&&Rw(t)&&parseInt(e,10)>parseInt(t,10)},f_gte:function(e,t){return Rw(e)&&Rw(t)&&parseInt(e,10)>=parseInt(t,10)},f_lt:function(e,t){return Rw(e)&&Rw(t)&&parseInt(e,10)<parseInt(t,10)},f_lte:function(e,t){return Rw(e)&&Rw(t)&&parseInt(e,10)<=parseInt(t,10)},wk:function(){return yw.indexOf("webkit")>-1},de:function(){var e=Nw();return e&&e.de?e.de:yw.indexOf("ipod")>-1?"ipod":yw.indexOf("ipad")>-1&&this.wk()?"ipad":yw.indexOf("iphone")>-1?"iphone":yw.indexOf("android")>-1?"android":yw.indexOf("googletv")>-1?"googletv":yw.indexOf("symbian")>-1||/series\s*[4-9]0/i.test(yw)?"symbian":yw.indexOf("blackberry")>-1||yw.indexOf("vnd.rim")>-1||yw.indexOf("bb10")>-1?"blackberry":yw.indexOf("windows phone")>-1?"winphone":""},dt:function(){return u((()=>Aw.UA.dt))},os:function(){const{appVersion:e}=window.navigator;return e.includes("Win")?"windows":e.includes("Mac")?"macOS":e.includes("X11")?"unix":e.includes("Linux")?"linux":""},b:function(){return u((()=>Aw.UA.br))},sS:function(e){var t,n,o;for(t=0;t<e.length;t++){if(n=e[t].s,o=e[t].p,n&&-1!==n.indexOf(e[t].sS))return e[t].i;if(o)return e[t].i}},jv:function(e){try{return window[e]}catch(e){}},getVariableValue(e,t,n=""){if(!t||"object"!=typeof t)return;let o,i;if(e.endsWith("]")){const t=e.match(/(.+?)\[(\d+)\]/);t&&(i=e,e=t[1],o=parseInt(t[2]))}if(t.hasOwnProperty(e)){let i=t[e];if(void 0!==o){if(!Array.isArray(i))return;i=i[o]}return n?this.getVariableValue(n.slice(1),i):i}{let o=(e=i||e).lastIndexOf(".");if(-1===o)return;let r=e.substring(0,o),s=e.substring(o)+n;return this.getVariableValue(r,t,s)}},ua:function(){return Cw},DoW:function(){return(new Date).getDay().toString()},Hr:function(){return(new Date).getHours()},Co:function(e){return u((()=>Aw.GEO.c))},Re:function(e){return u((()=>Aw.GEO.c))},Ci:function(e){return u((()=>Aw.GEO.c))},ip:function(){return null==Aw?void 0:Aw.IP},vt:function(){const e=u((()=>window.VWO.data.vi));return(null==e?void 0:e.vt)||"new"}},Ww=()=>{const e=window.VWO._.allSettings.dataStore.plugins.DACDNCONFIG,t=u((()=>gn.vwoCode.getVersion()));if(!t)return;const n=`_vwo_${gn.accountId}_config`,o=(null==e?void 0:e.SCC)?window.VWO._.native.JSON.parse(e.SCC):null;if(o&&t>=2){const{sT:e,hE:t}=o;window.localStorage.setItem(n,window.VWO._.native.JSON.stringify({sT:e,hE:t}))}};function Pw(){window._vwo_s=function(){return Lw},window._vwo_t={cm:function(e,t,n){var o;if("string"==typeof t&&"poll"===t){const e=window._vwoRunningTest,t=null===(o=window._vwo_exp[e].ss)||void 0===o?void 0:o.pu,i=window._vwo_exp[e];if("domReady"===t){const e=setInterval((()=>{let t=!1;try{t=!!n()}catch(t){clearInterval(e)}("complete"===document.readyState||t)&&(ru(i),clearInterval(e))}),100)}if("true"==t){const t=setInterval((()=>{let o=!1;try{o=!!n()}catch(e){clearInterval(t)}(window._vwo_exp[e].ready||o)&&(ru(i),clearInterval(t))}),100)}}}}}function Dw(e){const{dcdnUrl:t=""}=window._VWO||{},{serverUrl:n,accountId:o}=window.VWO.modules.dataStorePlugin;let i=`?a=${o}&settings_type=${e.settingsType}`;if(e.cacheParam){i+=new URLSearchParams(window.location.search).get("ma")?`&ma=${new URLSearchParams(window.location.search).get("ma")}`:""}const r=u((()=>window.VWO._.allSettings.dataStore.plugins)),s=`${i}${window.VWO.sTs?`&ts=${window.VWO.sTs}`:""}${`&dt=${u((()=>r.UA.dt))}&cc=${u((()=>r.GEO.cc))}`}${e.txtCfgState&&window.VWO._.txtCfg?"&tS=1":""}`;return{settingsUrl:`${n}${t.slice(1)}${s}`,fallbackUrl:`${n}settings.js${i}`}}window.VWO._.getSettingsUrl=Dw;let xw=null,Uw=0;function Mw(){return Dw({settingsType:6})}function kw(){return xw&&window.VWO.sTs===Uw||(Uw=window.VWO.sTs,xw=new Promise(((e,t)=>{const{settingsUrl:n,fallbackUrl:o}=Mw();Ru(n,(()=>{Ru(o,(()=>t(new Error(`Failed to load external tags script: ${n}`))),(()=>e())),l({msg:"settings.js type 6 cdn request failed.",url:window.location.href,uuid:window.VWO._.cookies.get("_vwo_uuid"),source:encodeURIComponent("settingsjs")})}),(()=>e()))}))),xw}function Gw(e,...t){return v(this,void 0,void 0,(function*(){yield kw();const n=u((()=>window.VWO.dctags[e].fn));return n&&n(...t)}))}window.vwo_dctag=Gw;const Fw=()=>{const e=window.VWO._.allSettings||{},t=u((()=>e.dataStore.plugins.DACDNCONFIG))||{},n=t.PRTHD,o=t.aSM;return!lo&&!n&&!o};function $w(e){var t,n,o,i;try{if(window.VWO._.beta=1,null===(t=window.VWO)||void 0===t?void 0:t.phoenix)return;if(!e)return console.warn("VWO aborted as jQuery is not initialized!"),void(null===(n=window._vwo_code)||void 0===n||n.finish());const r=window.VWO.consentMode;if(r&&!1===r.cReady)return window.clearTimeout(window._vwo_library_timer),750455===window._vwo_acc_id&&(window._vwo_library_timer=null),window.VWO.initVWOLib=$w.bind(null,e);if(window._removeVwoGlobalStyle=(null===(o=window._vwo_code)||void 0===o?void 0:o.finish)||gi.removeGlobalStyle,"function"==typeof window.VWO.siteWideCode){try{window.VWO.siteWideCode()}catch(e){}delete window.VWO.siteWideCode}ww(),_w(),window.VWO._.bodyPath=803786===window._vwo_acc_id?":root body":"body",window.VWO._.clientHideElementStyle=u((()=>window._vwo_code.hide_element_style())),window.VWO._.loadNonTestingLibraries=Kt;let s=window.performance.getEntriesByName("first-contentful-paint")[0]?"":window.VWO._.bodyPath;if((null===(i=window.VWO.consentMode)||void 0===i?void 0:i.wFC)&&(s=""),!window._vwo_code&&Fw()){const e=document.createElement("style");let t="";(window._vwo_acc_id>742099||718480===window._vwo_acc_id)&&(t="-webkit-transform:none;-ms-transform:none;transform:none;");const n=s+"{opacity:0 !important;filter:alpha(opacity=0) !important;background:none !important;transition:none !important;"+t+"}",o=document.getElementsByTagName("head")[0];if(e.setAttribute("id","_vis_opt_path_hides"),e.setAttribute("type","text/css"),e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),o.appendChild(e),[515823].includes(window._vwo_acc_id)){const e=window._vwoCc&&window._vwoCc.wsT||2e3,t=()=>{const e=document.getElementById("_vis_opt_path_hides");e&&e.remove()},n=e=>{e.filename===window._vwoWorkerUrl&&(t(),window.removeEventListener("error",n),clearTimeout(window._vwo_oscTimeout))};window.addEventListener("error",n),window._vwo_oscTimeout=setTimeout((()=>{t(),window.removeEventListener("error",n)}),e)}}qd.unhideElementsAfterTimer({hideElementsTriggered:!1,segmentCndsSatisfied:!1}),window.VWO.nonce="";const a=document.querySelector("#vwoCode");a&&(window.VWO.nonce=a.nonce),window.vwo_$=e,gi.isBot2()||window.VWO._.selfHosted||gi.loadNcLib(),window.clearTimeout(window._vwo_library_timer),750455===window._vwo_acc_id&&(window._vwo_library_timer=null),window.functionWrapper=new Pu,Pw(),window.fetcher.init(),ai(e),di(),window._vwo_server_url=window._vwo_server_url||"https://dev.visualwebsiteoptimizer.com/",ks({msg:"vaInit",url:window.location.href}),Gs(),Fs(),$s();const d=new("function"==typeof window.URL?window.URL:window.webkitURL)(document.URL).searchParams.get("vwoLogLevel");c.setLevel(d||"warn"),c.info("Initializing jslib");const l=new Gr(window.VWO||[]);if(ce(l),de(l),gi.updateLibState(ku.PAGE_LOAD),gl.init("jslib",l,null,null,!1),st.setOptOutStateConfig(),gi.syncThirdPartyGlobalCookies(),Ze.domain=gn.cookieDomain,window.VWO._.cLFE=gi.isCookieLessModeEnabled(),!L()&&!window._vis_debug&&(!st.shouldExecuteLibOnBasisOfCurrentOptOutState()||gi.isGloballyOptedOut()))return gl.init("optOut",l,null),window._removeVwoGlobalStyle(),void window.VWO._.triggerEvent(j.OPT_OUT,!0);window.VWO._.phoenixMT.trigger("vwo_init"),window.VWO._.phoenixMT.on("syncDataToDataLayer",(({event:e,eventName:t,syncEventData:n})=>{var o;Pi(t,n,{},n.postSyncCallback),(null===(o=e._vwo)||void 0===o?void 0:o.eventDataConfig)&&(e._vwo.eventDataConfig={})})),window.VWO._.phoenixMT.on(j.END_APPLY_CHANGES,(()=>{const e=window._vwo_code;e&&e.removeLoaderAndOverlay&&e.removeLoaderAndOverlay()})),nw.init(),window.VWO.consentMode&&(ee.initConsentMode(),ee.overrideCookies(Ze)),window.VWO._.phoenixMT.on(j.END_APPLY_CHANGES,(()=>{window.VWO._.ncLib?window.VWO._.ncLib.initNonCriticalLib():window.VWO._.phoenixMT.on("vwo_InitNCLib",(()=>{window.VWO._.ncLib.initNonCriticalLib()})),window._VWO.uhdCp=1}));be((()=>{Wu(l,Vu),Ww()}),window._vwo_code&&![702077,704345,690758,685475,680279,695984,710456,601996].includes(window._vwo_acc_id)&&!window.location.href.includes("vwo_DisableAsp")&&!to),Bs()}catch(e){u((()=>window._removeVwoGlobalStyle())),window.vwo_libExecuted=!0,console.error(e)}}function jw(e,t){l({msg:e,url:"gquery.js",source:t})}const Bw={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],th:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]},Hw=function(){var e=document,t=e.documentElement,n=[].slice,o=[].push,i=[].filter,r=e.createElement("div"),s=[].indexOf,a=[].splice,c=!1,d=!1,u=function(){try{return[].reverse.call(this)}catch(e){if(c||l({msg:"Native [].reverse Fn is overridden and Native Constants = "+!window.DISABLE_NATIVE_CONSTANTS,url:"gQuery.ts",source:"gQuery"}),c=!0,710129===window._vwo_acc_id)return[]._reverse.call(this)}},w=function(){try{return[].map.apply(this,arguments)}catch(e){d||l({msg:"Native [].map Fn is overridden and Native Constants = "+!window.DISABLE_NATIVE_CONSTANTS,url:"gQuery.ts",source:"gQuery"}),d=!0}},_=window,g=/^data-(.+)/,p=/\S+/g,h=/^(\s|\u00A0)+|(\s|\u00A0)+$/g,v={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function f(e){var t,n,r,s,a,c=!window.DISABLE_NATIVE_CONSTANTS&&(null===(a=null===(s=null===(r=null===(n=null===(t=window.VWO._)||void 0===t?void 0:t.nativeConstants)||void 0===n?void 0:n.get)||void 0===r?void 0:r.call(n,"Array"))||void 0===s?void 0:s.prototype)||void 0===a?void 0:a.filter)||i;return e.multiple&&e.options?function(e,t,n,i){for(var r=[],s=$(t),a=i,c=0,d=e.length;c<d;c++)if(s){var l=t(e[c]);l.length&&o.apply(r,l)}else for(var u=e[c][t];!(null==u||i&&a(-1,u));)r.push(u),u=n?u[t]:null;return r}(c.call(e.options,(function(e){return e.selected&&!e.disabled&&!e.parentNode.disabled})),"value"):e.value||""}function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var O={focus:"focusin",blur:"focusout"},E=/^(?:mouse|pointer|contextmenu|drag|drop|click|dblclick)/i;var S=/\S+/g;var T={focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},mouseenter:{delegateType:"mouseover",bindType:"mouseover"},mouseleave:{delegateType:"mouseout",bindType:"mouseout"},pointerenter:{delegateType:"pointerover",bindType:"pointerover"},pointerleave:{delegateType:"pointerout",bindType:"pointerout"}};Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(I(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null});var C=function e(t,n){return new e.fn.init(t,n)},I=C.matches=function(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)},y=C.isString=function(e){return m(e)===m("")},A=/^--/;function b(e){return A.test(e)}var V=/-([a-z])/g;function N(e,t){return t.toUpperCase()}var R=C.camelCase=function(e){return e.replace(V,N)};function L(e){return!!e&&1===e.nodeType}var W={},P=r.style,D=["webkit","moz","ms","o"];function x(e,t){if(void 0===t&&(t=b(e)),t)return e;if(!W[e]){var n=R(e),o=""+n.charAt(0).toUpperCase()+n.slice(1);J((n+" "+D.join(o+" ")+o).split(" "),(function(t,n){if(n in P)return W[e]=n,!1}))}return W[e]}function U(e,t,n){return void 0===n&&(n=b(e)),n||v[e]||!K(t)?t:t+"px"}function M(e,t){return parseInt(k(e,t),10)||0}function k(e,t,n){if(L(e)&&t){var o=_.getComputedStyle(e,null);return t?n?o.getPropertyValue(t)||void 0:o[t]:o}}var G,F=function(){},$=C.isFunction=function(e){return m(e)===m(F)&&!!e.call},j=C.uid="_gQ"+Date.now(),B=function(e){return e[j]=e[j]||{}},H=C.isWindow=function(e){return e===e.window},K=C.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},q=function(e){return 9===e.nodeType};function J(e,t){for(var n=0,o=e.length;n<o&&!1!==t.call(e[n],n,e[n]);n++);}function X(e,t,n){J(e,(function(e,o){J(t,(function(t,i){Y(o,e?i.cloneNode(!0):i,n,n&&o.firstChild)}))}))}function Y(e,t,n,o){var i=[];if(J(3===t.nodeType?[]:C("script",t),(function(e,t){var n=document.createElement("script");J(C(t).prop("attributes"),(function(){C(n).attr(this.name,this.value)})),n.text=t.innerHTML,i.push(n),t.parentElement.removeChild(t)})),n)if("SCRIPT"===t.tagName||"STYLE"===t.tagName){var r=document.createElement(t.tagName.toLowerCase());"SCRIPT"===t.tagName?r.text=t.innerHTML:r.appendChild(document.createTextNode(t.innerHTML)),J(C(t).prop("attributes"),(function(){C(r).attr(this.name,this.value)})),r.classList=t.classList,e.insertBefore(r,o)}else e.insertBefore(t,o);else if("SCRIPT"===t.tagName||"STYLE"===t.tagName){r=document.createElement(t.tagName.toLowerCase());"SCRIPT"===t.tagName?r.text=t.innerHTML:r.appendChild(document.createTextNode(t.innerHTML));J(C(t).prop("attributes"),(function(){C(r).attr(this.name,this.value)})),r.classList=t.classList,e.appendChild(r)}else e.appendChild(t);for(var s=0;s<i.length;s++)document.getElementsByTagName("head")[0].appendChild(i[s])}return C.extend=function(){var e,t,n,o,i=arguments[0]||{},r=1,s=arguments.length,a=!1;for("boolean"==typeof i&&(a=i,i=arguments[1]||{},r=2),"object"===m(i)||$(i)||(i={}),s===r&&(i=this,--r);r<s;r++)if(null!=(e=arguments[r]))for(t in e)if(n=i[t],o=e[t],"__proto__"!==t&&i!==o)if(a&&o&&(C.isPlainObject(o)||C.isArray(o))){var c=n&&(C.isPlainObject(n)||C.isArray(n))?n:C.isArray(o)?[]:{};i[t]=C.extend(a,c,o)}else void 0!==o&&(i[t]=o);return i},C.isArray=Array.isArray,C.isPlainObject=function(e){if(!e||"[object Object]"!==Object.prototype.toString.call(e)||e.nodeType||e.setInterval)return!1;if(e.constructor&&!hasOwnProperty.call(e,"constructor")&&!hasOwnProperty.call(e.constructor.prototype,"isPrototypeOf"))return!1;var t;for(t in e);return void 0===t||hasOwnProperty.call(e,t)},C.parseJSON=function(e){return"string"==typeof e&&e?/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))?window.VWO._.native.JSON.parse(e):void 0:null},C.getJSON=function(e,t,n,o){return $(t)&&(o=o||n,n=t,t=null),C.ajax({url:e,data:t,success:n,dataType:o})},C.get=function(e,t,n,o){return $(t)&&(o=o||n,n=t,t=null),C.ajax({type:"GET",url:e,data:t,success:n,dataType:o})},C.each=function(){var e,t,o=arguments;1===o.length&&$(o[0])?(e=n.call(this),t=o[0]):(e=o[0],t=o[1]);for(var i=0;i<e.length;i++)t.call(e[i],i,e[i]);return this},C.ajax=function(e){if("script"===e.dataType){var t=document.createElement("script");return t.src=e.url,document.getElementsByTagName("head")[0].appendChild(t),t.onload=e.success||F,void(t.onerror=e.error||F)}var n=new XMLHttpRequest;n.open(e.method?e.method:"GET",e.url,!0),e.data||(e.data=null),n.onload=function(){this.status>=200&&this.status<400&&(e.dataType||(this.response=C.parseJSON(this.response)),e.success&&e.success(this.response))},n.onerror=function(){e.error&&e.error(this.response)},n.send(e.data)},C.isEmptyObject=function(e){return e&&0===Object.keys(e).length},(C.fn=C.prototype={gQVersion:"0.0.1",toArray:function(){return n.call(this,0)},constructor:C,hasClass:function(e){return n.call(this).every((function(t){return 1===t.nodeType&&t.classList.contains(e)}))},ready:function(t){return"loading"!==e.readyState?setTimeout(t):e.addEventListener("DOMContentLoaded",t),this},scrollTop:function(){var e=this[0];return H(e)?e.pageYOffset:q(e)?e.defaultView.pageYOffset:e.scrollTop},scrollLeft:function(){var e=this[0];return H(e)?e.pageXOffset:q(e)?e.defaultView.pageXOffset:e.scrollLeft},getComputedDimensionOuter:function(e,t){let n="height"===e.toLowerCase()?1:0,o=this[0];if(o)return H(o)?window["outer"+e]:this[0]["offset"+e]+(t?M(this[0],"margin"+(n?"Top":"Left"))+M(this[0],"margin"+(n?"Bottom":"Right")):0)},getComputedDimension:function(e,t){var n,o,i=this[0],r="height"===e.toLowerCase()?0:1;if(e=e.charAt(0).toUpperCase()+e.slice(1),q(i)){var s=i.documentElement;return Math.max(i.body["scroll"+e],i.body["offset"+e],s["scroll"+e],s["offset"+e],s["client"+e])}if(H(i))return"height"===e.toLowerCase()?i.outerHeight:i.outerWidth;try{return i.getBoundingClientRect()[e.toLowerCase()]-(M(n=i,"border"+((o=r)?"Left":"Top")+"Width")+M(n,"padding"+(o?"Left":"Top"))+M(n,"padding"+(o?"Right":"Bottom"))+M(n,"border"+(o?"Right":"Bottom")+"Width"))}catch(e){jw(`Error is ${e} and elem is ${i}`,"getBoundingClientRect")}},height:function(){return this.getComputedDimension("height")},width:function(){return this.getComputedDimension("width")},is:function(e){if(!e)return!1;var t=!1;return this.each((function(n,o){return!(t="string"==typeof e?I(o,e):o===e)})),t},attr:function(e,t){var n;if(e){if(y(e))return void 0===t?null===(n=this[0]?this[0].getAttribute?this[0].getAttribute(e):this[0][e]:void 0)?void 0:n:this.each((function(n,o){o.setAttribute?o.setAttribute(e,t):o[e]=t}));for(var o in e)this.attr(o,e[o]);return this}},removeAttr:function(e){return e=e.match(p)||[],this.each((function(t,n){J(e,(function(e,t){n.removeAttribute(t)}))}))},outerWidth:function(e){return this.getComputedDimensionOuter("Width",e)},outerHeight:function(e){return this.getComputedDimensionOuter("Height",e)},offset:function(){var e=this[0];if(e.nodeType==Node.TEXT_NODE&&(e=e.parentElement),!e)return{top:0,left:0};let n={};try{n=e.getBoundingClientRect()}catch(t){if(jw(`Error is ${t} and elem is ${e}`,"getBoundingClientRect"),e===document)return}var o=e.ownerDocument?e.ownerDocument.defaultView:window;return{top:n.top+o.pageYOffset-t.clientTop,left:n.left+o.pageXOffset-t.clientLeft}},index:function(e){var t=e?C(e)[0]:this[0],n=e?this:C(t).parent().children();return s.call(n,t)},each:C.each,delegate:function(e,t,n,o){return this.on(e,t,n,o)},on:function(e,t,n,o){var i,r,s=this;return $(t)&&(n=t,t=null),this[0]===document&&"ready"===e?(this.ready(n),this):(t&&(i=n,n=function(e){for(var n=e.target;!I(n,t);){if(n===this||!n)return!1;n=n.parentNode}n&&i.call(n,e)}),J(y(r=e)&&r.match(S)||[],(function(i,r){T[r]&&(t&&T[r].delegateType?e=T[r].delegateType:T[r].bindType&&(e=T[r].bindType)),s.each((function(t,i){i.addEventListener(e,n,!!o)}))})),this)},off:function(e,t,n){return this.each((function(o,i){i.removeEventListener(e,t,!!n)}))},isChecked:function(){return null!==this[0].getAttribute("checked")},isFocussed:function(){return this[0]===e.activeElement},closest:function(e){return new C(this[0].closest(e))},parent:function(){return new C(this[0]&&this[0].parentNode)},val:function(e){if(!arguments.length)return this[0]&&f(this[0]);const t=!window.DISABLE_NATIVE_CONSTANTS&&window.VWO._.nativeConstants.get("Array").prototype.map||w;return this.each((function(n,o){var i=o.multiple&&o.options;if(i||/radio|checkbox/i.test(o.type)){var r=Array.isArray(e)?t.call(e,String):null===e?[]:[String(e)];i?J(o.options,(function(e,t){t.selected=r.indexOf(t.value)>=0})):o.checked=r.indexOf(o.value)>=0}else o.value=null==e?"":e}))},prop:function(e,t){if(e){if(y(e))return void 0===t?this[0][e]:this.each((function(n,o){o[e]=t}));for(var n in e)this.prop(n,e[n]);return this}},data:function(e,t){var n=this;if(!e){if(!this[0])return;var o={};return J(this[0].attributes,(function(e,t){var i=t.name.match(g);i&&(o[i[1]]=n.data(i[1]))})),o}if(y(e))return void 0===t?function(e,t){var n=B(e)[t];return void 0===n&&(n=e.dataset?e.dataset[t]:C(e).attr("data-"+t)),n}(this[0],e):this.each((function(n,o){return function(e,t,n){return B(e)[t]=n}(o,e,t)}));for(var i in e)this.data(i,e[i]);return this},eq:function(e){return C(this.get(e))},get:function(e){return void 0===e?n.call(this):e<0?this[e+this.length]:this[e]},appendTo:function(e){for(var t=C(e),n=0;n<t.length;n++)t[n].appendChild(this[0]);return this},find:function(e){return this[0]||(e=void 0),C(e,this[0])},toggleClass:function(e,t,n){var o=[],i=void 0!==t;return y(e)&&(o=e.match(p)||[]),this.each((function(e,r){if(1===r.nodeType)for(var s=0;s<o.length;s++)i?(n=t?"add":"remove",r.classList[n](o[s])):r.classList.toggle(o[s])}))},addClass:function(e){return this.toggleClass(e,!0,"add"),this},removeClass:function(e){return e?this.toggleClass(e,!1,"remove"):this.attr("class",""),this},remove:function(){return this.each((function(e,t){t.parentNode.removeChild(t)})),this},children:function(){var e=[];return this.each((function(t,n){o.apply(e,n.children)})),C(e)},map:function(e){const t=!window.DISABLE_NATIVE_CONSTANTS&&window.VWO._.nativeConstants.get("Array").prototype.map||[].map;return C(t.call(this,(function(t,n){return e.call(t,n,t)})))},clone:function(){return this.map((function(e,t){return t.cloneNode(!0)}))},filter:function(e){var t,n,o,r,s,a=e;y(a)&&(a=function(t,n){return I(n,e)});const c=!window.DISABLE_NATIVE_CONSTANTS&&(null===(s=null===(r=null===(o=null===(n=null===(t=window.VWO._)||void 0===t?void 0:t.nativeConstants)||void 0===n?void 0:n.get)||void 0===o?void 0:o.call(n,"Array"))||void 0===r?void 0:r.prototype)||void 0===s?void 0:s.filter)||i;return C(c.call(this,(function(e,t){return a.call(e,t,e)})))},parents:function(e){var t=[];return this.each((function(e,n){for(var o=n.parentNode;o&&9!==o.nodeType;)t.push(o),o=o.parentNode})),t=t.filter((function(e,n){return t.indexOf(e)===n})),e&&(t=t.filter((function(t){return I(t,e)}))),C(t)},append:function(){var e=this;return J(arguments,(function(t,n){X(e,C(n))})),this},prepend:function(){var e=this;return J(arguments,(function(t,n){X(e,C(n),!0)})),this},html:function(e){try{if(!this.length)return this;try{this.each((function(t,n){e!==n.innerHTML&&(n.__vwoControlInnerHTML=n.innerHTML.replaceAll(/(?=<!--)([\s\S]*?)-->/gm,""),n.__vwoExpInnerHTML=e)}))}catch(e){const t="[JSLIB] Error during storing control innerHTML";l({msg:t,url:"gQuery.ts",source:encodeURIComponent(t)})}let t=e&&e.includes("<br>");return void 0===e?this[0]&&this[0].innerHTML:this.each((function(n,o){1===o.childNodes.length&&3===o.childNodes[0].nodeType&&o.childNodes[0].textContent&&!t?o.childNodes[0].textContent=e:o.innerHTML=e}))}catch(e){jw(`Error is ${e}`,"html")}},css:function(e,t){if(y(e)){var n=b(e);return e=x(e,n),arguments.length<2?this[0]&&k(this[0],e,n):e?(t=U(e,t,n),this.each((function(o,i){L(i)&&(n?i.style.setProperty(e,t):i.style[e]=t)}))):this}for(var o in e)this.css(o,e[o]);return this},hashchange:function(e){window.addEventListener("hashchange",e)},replaceWith:function(e){return this.each((function(t,n){var o=n.nextSibling,i=n.parentNode;C(n).remove(),o?C(o).before(e):C(i).append(e)}))},before:function(){var e=this;return J(arguments,(function(t,n){C(n).insertBefore(e)})),this},after:function(){var e=this;const t=!window.DISABLE_NATIVE_CONSTANTS&&window.VWO._.nativeConstants.get("Array").prototype.reverse||u;return J(t.apply(arguments),(function(n,o){t.apply(C(o).slice()).insertAfter(e)})),this},insertBefore:function(e){var t=this;return C(e).each((function(e,n){var o=n.parentNode;o&&t.each((function(t,i){Y(o,e?i.cloneNode(!0):i,!0,n)}))})),this},insertAfter:function(e){var t=this;return C(e).each((function(e,n){var o=n.parentNode;o&&t.each((function(t,i){Y(o,e?i.cloneNode(!0):i,!0,n.nextSibling)}))})),this},trigger:function(t,n){var o,i;if(y(t)){var r=[(i=t.split("."))[0],i.slice(1).sort()],s=r[0],a=r[1],c=E.test(s)?"MouseEvents":"HTMLEvents";(o=e.createEvent(c)).initEvent(s,!0,!0),o.namespace=a.join(".")}else o=t;o.data=n;var d=o.type in O;return this.each((function(e,t){d&&$(t[o.type])?t[o.type]():t.dispatchEvent(o)}))},contents:function(){return this[0]?C(this[0].childNodes):C("")},not:function(e){return C(this).filter((function(t,n){return!I(n,e)}))}}).bind=C.fn.live=C.fn.on,C.inArray=function(e,t){return s.call(t,e)},C.trim=function(e){return(e||"").replace(h,"")},C.getScript=function(e,t){return C.get(e,void 0,t,"script")},C.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error".split(" "),(function(e,t){C.fn[t]=function(e){return"submit"===t?this[0].submit():e?this.bind(t,e):this.trigger(t)},C.attrFn&&(C.attrFn[t]=!0)})),C.guid=1,C.proxy=function(e,t,n){return 2===arguments.length&&("string"==typeof t?(e=(n=e)[t],t=void 0):t&&!$(t)&&(n=t,t=void 0)),!t&&e&&(t=function(){return e.apply(n||this,arguments)}),e&&(t.guid=e.guid=e.guid||t.guid||C.guid++),t},(C.fn.init=function(t,n){var i,r=!1;if(y(t)&&/<.+>/.test(t)){r=!0;try{t=function(t){if(G||(G=e.implementation.createHTMLDocument(null)),go){const e=/<\s*([a-z0-9]+)/i.exec(t),n=e?e[1].toLowerCase():"",o=Bw[n]||Bw._default;G.body.innerHTML=o[1]+t+o[2];let i=G.body;for(let e=0;e<o[0];e++)i=i.firstChild;return i.childNodes}return G.body.innerHTML=t,G.body.childNodes}(t)}catch(e){throw e}}if(!t)return this;if(t&&t.nodeType||H(t))return this[0]=t,this.length=1,this;if(y(t)){n=n||e;var s=this.constructor(),a=n instanceof C?(null===(i=n)||void 0===i?void 0:i.toArray())||[]:[n];for(let e=0;e<a.length;e++)try{const n=a[e];var c=/^#[\w-]*$/.test(t)&&n.getElementById?n.getElementById(t.slice(1)):n.querySelectorAll(t);c&&c.nodeType&&(c=[c]),o.apply(s,r?t:c)}catch(e){}return s}if($(t))return C.fn.ready(t);for(var d=0;d<t.length;d++)this.length=t.length,this[d]=t[d]}).prototype=C.fn,C.fn.splice=a,"function"==typeof Symbol&&(C.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator]),C.prototype.slice=function(){return C(n.apply(this,arguments))},C.prototype.length=0,C.nodeName=function(e,t){return e.nodeName&&e.nodeName.toUpperCase()===t.toUpperCase()},C}();$w(Hw)})();

</script><script type="text/javascript" nonce="">!function(){"use strict";if(window.VWO=window.VWO||[],window.VWO.coreLibExecuted)return;window.VWO.coreLibExecuted=1,window.VWO.v="7.0",window.VWO.v_e="b184684d0",window.VWO.betaTimeStamp=1756293855171;const e=e=>{try{window.VWO._.customError(e)}catch(e){}};function t(t,n={sendErrorLog:!1},o){try{return t()}catch(t){return n.sendErrorLog&&setTimeout((()=>{try{e({msg:n.msg||"safelyGetValue failed!",url:n.url||"errorHandler.ts",source:n.source||t})}catch(e){}}),100),o}}let n;const o=function(){if(void 0!==n)return n;const e=[],t=window.VWO._.allSettings.dataStore.campaigns;let o,i;for(let n in t)e.push(n);return n=!!(o=(window.location.search+window.location.hash).match(/.*_vis_test_id=(.*?)&.*_vis_opt_preview_combination=(.*?)(?:&|#|$)/))&&(!(!e.includes(o[1])||!t[o[1]]||void 0===t[o[1]].combs[i=function(e){if(!e)return e;try{e=window.decodeURIComponent(e)}catch(e){}return e}(o[2])])&&i),n};var i;const s=null===(i=window._vwoCc)||void 0===i?void 0:i.cookiePrefix;class r{constructor(){var e,t;window.VWO._.phoenixMT.on("vwo_campaignsLoaded",(()=>{this.processLoadedCampaigns(),window.VWO.state="executionComplete"})),(null===(e=window.VWO._.phoenixMT.getEventHistory("vwo_campaignsLoaded"))||void 0===e?void 0:e.length)>0&&(this.processLoadedCampaigns(),(null===(t=window._vwoCc)||void 0===t?void 0:t.delayCustomGoal)||window.VWO._.phoenixMT.clearEventHistory("vwo_campaignsLoaded"))}processLoadedCampaigns(){this.setBucketedCampaigns(),this.executeAll({bucketed_campaigns:window.VWO._.bucketedCampaignsAPIStore.campaigns})}setBucketedCampaigns(){window.VWO._.bucketedCampaignsAPIStore=window.VWO._.bucketedCampaignsAPIStore||{},window.VWO._.bucketedCampaignsAPIStore.campaigns=[];let e=window._vis_debug||o()?"debug":"";e+="_vis_opt_exp_";const t=new RegExp(`^${n=e,s?n.startsWith(s)?n:`${s}${n}`:n}(\\d{1,})_combi$`,"");var n;const i=document.cookie.split(";");for(let e=0;e<i.length;e++){const[n,o=""]=i[e].split("=").map((e=>e.trim())),s=t.exec(n);s&&_vwo_exp[s[1]]&&window.VWO._.bucketedCampaignsAPIStore.campaigns.push({[s[1]]:o,name:_vwo_exp[s[1]].name,variation:_vwo_exp[s[1]].comb_n[o]})}}executeAll(e={}){const n=t((()=>window.VWO._.bucketedCampaignsAPIStore.callbacks.length))||0;for(let o=0;o<n;o++){const n=window.VWO._.bucketedCampaignsAPIStore.callbacks[o];t((()=>"number"==typeof n.count))?n.count>0?(n(e),--n.count):(window.VWO._.bucketedCampaignsAPIStore.callbacks.splice(o,1),o--):n(e)}}}function a(e,t,n,o){return new(n||(n=Promise))((function(i,s){function r(e){try{d(o.next(e))}catch(e){s(e)}}function a(e){try{d(o.throw(e))}catch(e){s(e)}}function d(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,a)}d((o=o.apply(e,t||[])).next())}))}const d="cCC",l="hCl",c="vwo__activated",u="nSF",w="vwo_pageUnload",_="vE",g="pageExitEvent",h="cCAI",E="loadSurveyLib";class p{constructor(){this.forceKeys={id:"forceIdSelector",class:"forceClassSelector",customAttribute:"forceCustomAttributeSelector"},this.regexCache={}}shouldUseAttributeSelector(e,t,n){if(!!((e&&e.getRootNode())instanceof ShadowRoot)||t.dAttrName||n._vwo_noAttributeMode)return null;const o=this.createRegex("string"==typeof t.dAttrName?t.dAttrName:""),i=[],s=e.attributes;if(s)for(let e=0;e<s.length;e++){const t=s[e];!p.DATA_SELECTOR_CHECK.test(t.name)||o&&o.test(t.name)||p.EXCLUDED_ATTR_KEYS_REGEX.test(t.name)||p.EXCLUDED_ATTR_VALUES_REGEX.test(t.value)||this.isDynamicAttribute(t.name)||this.isDynamicAttribute(t.value)||i.push(t)}t.whitelistingHrefAsValidAttribute&&e.hasAttribute("href")&&i.push(e.attributes&&e.attributes.getNamedItem&&e.attributes.getNamedItem("href"));for(const e of i){const n=this.createAttributeSelector(e.name,e.value);if(this.verify(n,t))return n}if(i.length>1){const e=i.slice(0,3).map((e=>this.createAttributeSelector(e.name,e.value))).join("");if(this.verify(e,t))return e}return null}createAttributeSelector(e,t){return`[${e}='${t?t.replace(/'/g,"\\'"):""}']`}escapeCSS(e){return"undefined"!=typeof CSS&&CSS.escape?CSS.escape(e):e}createRegex(e){if(!e)return null;if(this.regexCache[e])return this.regexCache[e];try{const t=new RegExp(e);return this.regexCache[e]=t,t}catch(e){return null}}isDynamicAttribute(e=""){return p.RE_DYNAMIC_ATTRIBUTE_1.test(e)||p.RE_DYNAMIC_ATTRIBUTE_2.test(e)}isDynamicId(e){return(p.RE_DYNAMIC_ID_1.test(e)||p.RE_DYNAMIC_ID_2.test(e))&&!p.RE_DYNAMIC_ID_FOR_ADDED_WIDGET.test(e)}isVwoClass(e){return e.indexOf("vwo")>-1||e.indexOf("_vwo_")>-1}getSelectorPathSettings(e){return{_vwo_noIdMode:!(!e||!(!0===e.dIdVal||e.selectorPathSetting&&e.selectorPathSetting.hasOwnProperty("editorNoIdMode")))&&(!0===e.dIdVal||e.selectorPathSetting.editorNoIdMode),_vwo_noDynamicIdMode:!(!e||!(e.dDynId||e.selectorPathSetting&&e.selectorPathSetting.hasOwnProperty("editorNoDynamicIdMode")))&&(e.dDynId||e.selectorPathSetting.editorNoDynamicIdMode),_vwo_noClassMode:!(!e||!(e.dClassValBoolean||e.selectorPathSetting&&e.selectorPathSetting.hasOwnProperty("editorNoClassMode")))&&(e.dClassValBoolean||e.selectorPathSetting.editorNoClassMode)}}isDynamicClass(e){return p.RE_DYNAMIC_CLASS_1.test(e)||p.RE_HOVER_CLASS.test(e)}shouldUseTextBasedSelector(e,t){return null}findRecursiveTextBasedSelector(e,t,n){return null}generateShortPath(e,t,n={}){if(!e)return null;if(n.originNode||(n.originNode=e),n.dClassValBoolean=n.hasOwnProperty("dClassValBoolean")?n.dClassValBoolean:!0===n.dClassVal,n.dClassVal="string"==typeof n.dClassVal?`${n.dClassVal}|${p.DEFAULT_EXCLUDE_CLASSES_REGEX}`:p.DEFAULT_EXCLUDE_CLASSES_REGEX,this.shouldUseSiblingSelectorEarly(e,n)){const t=this.shouldUseSiblingSelector(e,n);if(t)return t}if(n.skipRootNodeInSelectorPath&&n.documentRootNode===e)return"";const o=this.getSelectorPathSettings(n);(n.forceTextBasedSelector||n.forceRecursiveTextBasedSelector)&&(o._vwo_noIdMode=!0,o._vwo_noClassMode=!0,o._vwo_noAttributeMode=!0);const i=this.getNodeName(e);if(document.body===e||"head"===i||"html"===i)return i;const s="*"===i,r=!(e.getRootNode()instanceof ShadowRoot),a=this.tryCustomAttributeSelector(e,n,r);if(a)return a;const d=this.createRegex("string"==typeof n.dIdVal?n.dIdVal:"");if(this.shouldUseIdSelector(e,n,o,d))return"#"+e.getAttribute("id");const l=this.shouldUseClassSelector(e,n,o);if(l)return l;const c=this.shouldUseAttributeSelector(e,n,o);if(c)return c;if(r){const t=this.shouldUseTextBasedSelector(e,n);if(t)return t}if(this.shouldUseRecursiveTextBasedSelector(e,n,r)){const t=5,o=this.findRecursiveTextBasedSelector(e,t,n);if(o)return e._vwoCachedShortPath=o,o}const u=this.generateParentPath(e,t,n);if(u&&"string"==typeof u&&-1!==u.indexOf(":nth-parent"))return u;const w=this.generateCurrentNodePath(e,i,s,n);if(n.skipRootNodeInSelectorPath&&!u)return w;const _=this.handleSlotAssignment(e,w);return this.isSpecialUrlCase()?this.handleSpecialUrlCase(e,u,_):`${u} > ${_}`}shouldUseSiblingSelectorEarly(e,t){return!t.skipTextBasedSelector&&window._vwo_textBasedSelectorMode&&window.eventArchEnabled&&t.recursiveCall&&window._vwo_textBasedSelectorV2Mode}getNodeName(e){const t=e.nodeName.toLowerCase(),n=t.match(p.DANGEROUS_NODE_REGEX);if(!n||n[0]!==t)switch(e.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:return e.nodeName;default:return"*"}return t}tryCustomAttributeSelector(e,t,n){const o=this.forceKeys;if(!n||!t[o.customAttribute]&&!window._vwo_useAttributeForSelector&&!t.isContainedInBasicOrPastedElement||this.isForceAttributeSelectorRequired(t))return null;const i=t[o.customAttribute]&&t.forceCustomAttributeName||(t.isContainedInBasicOrPastedElement?"vwo-element-id":void 0)||window._vwo_useAttributeForSelector,s=t[o.customAttribute]&&t.forceCustomAttributeValue||(i?e.getAttribute(i):void 0);if(!s)return null;const r=`[${i}='${s}']`;return t[o.customAttribute]||this.verify(r,t)?r:null}shouldUseRecursiveTextBasedSelector(e,t,n){return!t.skipTextBasedSelector&&!t.skipRecursiveTextBasedSelector&&window._vwo_textBasedSelectorMode&&n&&window.eventArchEnabled&&!t.recursiveCall&&e.innerText&&-1===e.innerText.indexOf("<%=")&&window._vwo_textBasedSelectorV2Mode}generateParentPath(e,t,n){const o=e.parentNode||e.host;return t?this.generateCachedShortPath(o):this.generateShortPath(o,t,Object.assign(Object.assign({},n),{recursiveCall:!0,parentLevel:0}))}generateCurrentNodePath(e,t,n,o){let i=0;for(let t=e;t;t=t.previousSibling)(e.nodeName===t.nodeName||n&&t.nodeType===Node.ELEMENT_NODE)&&i++;return t+(n?":nth-child(":":nth-of-type(")+i+")"}handleSlotAssignment(e,t){return e.assignedSlot&&document.contains(e.assignedSlot)?` slot > ${t}`:t}isSpecialUrlCase(){return window.location&&-1!==window.location.href.indexOf("https://quote.cignaglobal.com/s/")||!1}handleSpecialUrlCase(e,t,n){let o=n;if(e.assignedSlot&&(o=" slot > #assignElements()"),e.shadowRoot&&-1===o.indexOf("#document-fragment:nth-child(1)")&&(o=`${o} > #document-fragment:nth-child(1)`),t&&"string"==typeof t){const e=t.split(">").map((e=>e.trim()));if("#document-fragment:nth-child(1)"===e[e.length-1]&&"#document-fragment:nth-child(1)"===o)return t}return`${t} > ${o}`}isUnstableClass(e){return!1}isForceAttributeSelectorRequired(e){return!!e&&!!(e[this.forceKeys.customAttribute]||e[this.forceKeys.id]||e[this.forceKeys.class])}shouldUseSiblingSelector(e,t){return null}shouldUseIdSelector(e,t,n,o){const i=e.getAttribute("id");return!(e.getRootNode()instanceof ShadowRoot)&&t[this.forceKeys.id]||(!n._vwo_noIdMode||t.isContainedInWidget)&&i&&(!o||!o.test(i))&&!p.EXCLUDED_NODE_NAMES.test(e.nodeName)&&!(n._vwo_noDynamicIdMode&&this.isDynamicId(i))&&this.verify("#"+i,t)&&!this.isForceAttributeSelectorRequired(t)}shouldUseClassSelector(e,t,n){if(!!(e.getRootNode()instanceof ShadowRoot)||!e.hasAttribute||!t[this.forceKeys.class]&&(!e.hasAttribute("class")||n._vwo_noClassMode||t.isContainedInWidget||t.isContainedInBasicAddElement)||this.isForceAttributeSelectorRequired(t))return null;const o=e.getAttribute("class").split(/\s+/),i="string"==typeof t.dClassVal?o.filter((e=>{const n=this.createRegex(t.dClassVal);return!this.isVwoClass(e)&&!this.isUnstableClass(e)&&p.VALID_CLASS_NAME_REGEX.test(e)&&(!n||!n.test(e))})):o.filter((e=>!this.isVwoClass(e)&&!this.isUnstableClass(e)&&p.VALID_CLASS_NAME_REGEX.test(e)));for(const e of i)if(t.forceClassSelector||this.verify(e,t,"class")&&!this.isDynamicClass(e))return"."+this.escapeCSS(e);if(i.length>0){const e=i.map((e=>this.escapeCSS(e))),n="."+e.join(".");if(t.forceClassSelector||this.verify(n,t)&&!this.isDynamicClass(e.join(".")))return n}return null}generateCachedShortPath(e,t){return e?e._vwoCachedShortPath?e._vwoCachedShortPath:e._vwoCachedShortPath=this.generateShortPath(e,!0,t):null}verify(e,t,n){try{const o=t.documentRootNode||document;return"class"===n?!!t._vwo_skipUniqueElementsCheck||1===o.getElementsByClassName(e).length:1===o.querySelectorAll(e).length}catch(e){return!1}}}function v(e,t){if(e){var n,o="."+e,i=window.vwo_$;if((t=t||{})[e])return!1;try{n=i(o)}catch(e){n=""}return 1===n.length||(t[e]=!0,!1)}}function A(e){if(e){var t,n=window.vwo_$;try{t=n("#"+e)}catch(e){t=""}return t.length}}function f(e,t){var n=t[e](),o=t.get(0);if(!n){if(window.getComputedStyle&&void 0!==(n=getComputedStyle(o)[e])&&(n=parseInt(n,10),!isNaN(n)&&n))return n;n=o["client"+e.toUpperCase()[0]+e.substring(1,e.length)]}return n}function O(e){if(e.previousElementSibling)return e.previousElementSibling;for(;e=e.previousSibling;)if(1===e.nodeType)return e}function S(e,t){if(!e)return null;if(e===document)return"#document";t=t||{};var n,o,i,s,r,a=e,d=[],l=e.tagName,c=window.vwo_$;if(e===document.body||e===document.head)return l;for(;e;){n=(l="undefined"!=typeof ShadowRoot&&e instanceof ShadowRoot?"shadow-root":e.tagName)&&l.match(/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/),l&&n&&(n&&n[0])===l||(l="*");const w=["INPUT","SELECT"].indexOf(e.tagName)>-1;try{o=c(e).attr("id")}catch(a){o=e.id}w&&e.name?l=l+'[name="'+e.name+'"]':o&&"string"==typeof o&&A(o)&&(l=o.match(/^\d/)?l+'[id="'+o+'"]':l+"#"+o),i=(i=e.getAttribute&&e.getAttribute("class"))?i.split(/\s+/):[];for(var u=0;u<i.length;u++)if(r="."+(s=i[u]),v(s,t)){l+=r;break}d.unshift(l),e=O(e)}return-1!==d[0].indexOf("#")||a.parentNode&&"HEAD"===a.parentNode.nodeName||a.host||(d[0]+=":first-child"),S("undefined"!=typeof ShadowRoot&&a instanceof ShadowRoot&&a.host?a.host:a.parentNode,t)+" > "+d.join(" + ")}function m(e){return e instanceof SVGElement&&e.tagName&&"svg"!==e.tagName.toLowerCase()?m(e.parentNode):e}function C(e,t){return Math.round(e/t*100)}function N(){const e=document.querySelector("._vwo_scroll_fix"),t=e||document.documentElement,n=(null==e?void 0:e.scrollTop)||window.scrollY||window.pageYOffset,o=(null==e?void 0:e.scrollLeft)||window.scrollX||window.pageXOffset,i=t.scrollHeight,s=t.scrollWidth,r=window.innerHeight,a=window.innerWidth,d=n+r,l=C(d,i),c=o+a;return{xScrollPercent:C(c,s),yScrollPercent:l,absXScroll:c,absYScroll:d,contentWidth:s,contentHeight:i,scrollTop:n}}var I;p.EXCLUDED_KEY_STRINGS=["data-user-id","data-kriti-","data-user-name","data-user-email","data-customer-logged-in","data-session-id","data-cart-id","data-timestamp","data-date","data-time","data-order-number","data-product-id","data-token","data-api-key","data-ga-","data-gtm-","data-utm-","data-tracking-id","data-session-count","data-page-view","data-locale","data-language","data-currency","data-region","data-experiment-id","data-variant-id","data-personalization-id","data-ab-test-group"],p.EXCLUDED_ATTR_VALUES_REGEX=/^(1|0|true|false|self|logged-in|log)$/,p.EXCLUDED_ATTR_KEYS_REGEX=new RegExp(`^(${p.EXCLUDED_KEY_STRINGS.join("|")})`),p.DATA_SELECTOR_CHECK=/^data-(.+)/,p.VALID_CLASS_NAME_REGEX=/^[^:]+$/,p.DANGEROUS_NODE_REGEX=/^((?:[\w\u00c0-\uFFFF\*-]|\\.)+)/,p.EXCLUDED_NODE_NAMES=/base|link|meta|style|iframe|script|noscript/gi,p.DEFAULT_EXCLUDE_CLASSES_REGEX="(^elementor-)|elementor-|(^active)|active|(^sc-)|(^pf-)|(^__pf)",p.RE_DYNAMIC_ATTRIBUTE_1=/[a-z]+[_-]?([0-9_-]){2,}$/,p.RE_DYNAMIC_ATTRIBUTE_2=/[0-9a-z]{5,}/gi,p.RE_DYNAMIC_ID_1=/[a-z]+[_-]?([0-9_-]){2,}$/,p.RE_DYNAMIC_ID_2=/[0-9a-f]{5,}/gi,p.RE_DYNAMIC_ID_FOR_ADDED_WIDGET=/(vwo-widget-)[0-9]{2,}/gi,p.RE_DYNAMIC_CLASS_1=/[a-z]+[_-][0-9_-]{4,}/gi,p.RE_HOVER_CLASS=/hover/gi,function(e){e[e.SCHEDULE_CALLBACK=0]="SCHEDULE_CALLBACK",e[e.REQUEST_IDLE_CALLBACK=1]="REQUEST_IDLE_CALLBACK",e[e.REQUEST_ANIMATION_FRAME=2]="REQUEST_ANIMATION_FRAME",e[e.QUEUE_MICROTASK=3]="QUEUE_MICROTASK",e[e.SET_TIMEOUT=4]="SET_TIMEOUT"}(I||(I={}));const V={[I.SCHEDULE_CALLBACK]:{doesThisMethodExist:"function"==typeof t((()=>window.scheduler.yield)),defer:e=>window.scheduler.yield().then((()=>e()))},[I.REQUEST_IDLE_CALLBACK]:{doesThisMethodExist:"function"==typeof requestIdleCallback,defer:(e,t=200)=>requestIdleCallback(e,{timeout:t})},[I.QUEUE_MICROTASK]:{doesThisMethodExist:"function"==typeof queueMicrotask,defer:e=>queueMicrotask(e)},[I.REQUEST_ANIMATION_FRAME]:{doesThisMethodExist:"function"==typeof requestAnimationFrame,defer:e=>requestAnimationFrame(e)},[I.SET_TIMEOUT]:{doesThisMethodExist:!0,defer:(e,t=0)=>setTimeout(e,t)}},T=(e,{timeout:t=100,type:n=I.REQUEST_IDLE_CALLBACK,fallbackType:o}={})=>{const i=V[n]||V[o];if(i&&i.doesThisMethodExist)return i.defer(e,t);V[I.SET_TIMEOUT].defer(e,t)},b=new p;function W(e){const n=t((()=>window.VWO._.allSettings.dataStore.plugins.DACDNCONFIG.sConfig))||{};return t((()=>b.generateShortPath(e,!1,Object.assign({},n))),{sendErrorLog:!0,msg:"error while generating short selector path",url:window.location.href},"")}function L(e){return t((()=>e.tagName.toLowerCase()),null,"")}function y(e){return t((()=>vwo_$(e).attr("placeholder")))}function R(e){const{scrollTop:n,contentHeight:o}=t(N,null,{scrollTop:0,contentHeight:0});return C(t((()=>e.getBoundingClientRect().top+n),null,0),o)}function M(e){const n=t((()=>e.id));if(!n)return;const o=function(e){const n=vwo_$(e);return t((()=>n.closest("form").get(0)))||t((()=>n.parent().get(0)))}(e);if(!o)return;const i=vwo_$(o),s=t((()=>i.find(`label[for="${n}"]`).get(0)));return s?t((()=>{var e;return null===(e=s.textContent)||void 0===e?void 0:e.trim()})):void 0}function U(e){const t=vwo_$(e.target).get(0);return{sPath:W(t),tag:L(t),ph:y(t),scrDp:R(t),label:M(t)}}var D,P,G,x,k,F,B;window.VWO.modules.utils.getClickMetadata=U,function(e){e.DOM="vwo_dom"}(D||(D={})),function(e){e.WILD_CARD="*",e.TRIGGER="trigger",e.POST_INIT="post-init",e.TIMER="vwo_timer"}(P||(P={})),function(e){e.URL_CHANGE="vwo_urlChange",e.LEAVE_INTENT="vwo_leaveIntent",e.CLICK_EVENT="vwo_dom_click",e.SUBMIT_EVENT="vwo_dom_submit",e.PAGE_LOAD_EVENT="vwo_page_load"}(G||(G={})),function(e){e.PAGE_VIEW="vwo_pageView",e.PAGE_UNLOAD_EVENT="vwo_pageUnload"}(x||(x={})),function(e){e.EXIT_CONDITIONS="__exitConditions"}(k||(k={})),function(e){e.DOM_CONTENT_LOADED="DOMContentLoaded",e.SCROLL="scroll",e.CLICK="click",e.SUBMIT="submit"}(F||(F={})),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(B||(B={}));var $=new class{constructor(e){this.setLevel(e)}setLevel(e="warn"){this.logLevel=B[e.toUpperCase()]}info(e,t={}){this.customLog(B.INFO,e,t)}debug(e,t={}){this.customLog(B.DEBUG,e,t)}warn(e,t={}){var n,o;this.customLog(B.WARN,e,t,null===(o=null===(n=window.VWO)||void 0===n?void 0:n._)||void 0===o?void 0:o.customError)}error(e,t={}){var n,o;this.customLog(B.ERROR,e,t,null===(o=null===(n=window.VWO)||void 0===n?void 0:n._)||void 0===o?void 0:o.customError)}customLog(e,t,n,o=null){var i,s,r;if(e>=this.logLevel){const a=this.formatMessage(e,t,n);null===(r=null===(s=null===(i=window.VWOEvents)||void 0===i?void 0:i.store)||void 0===s?void 0:s.actions)||void 0===r||r.addLogsForDebugging(a),o?o(a):this.consoleLog(e,[a])}}consoleLog(e,t){switch(e){case B.INFO:console.info(...t);break;case B.WARN:console.warn(...t);break;case B.ERROR:console.error(...t);break;default:console.log(...t)}}formatMessage(e,t,n){var o,i;const s=Object.keys(n).reduce(((e,t)=>e.replace(new RegExp(`{{${t}}}`,"g"),n[t])),t),r=`${D.DOM}_`;let a=n;const d=(null===(o=n.data)||void 0===o?void 0:o.vwoEventName)||n.vwoEventName;d!==r+F.CLICK&&d!==r+F.SUBMIT||(a=n.data?null===(i=n.data)||void 0===i?void 0:i.props:a.props,a=a||{name:d});let l=JSON.stringify;try{l=window.VWO._.native.JSON.stringify||JSON.stringify}catch(e){}return`VWO: [${B[e].toUpperCase()}] [${(new Date).toUTCString()}] ${s} ${l(a)}`}}("warn");class H{constructor(){this.GoalsEnum=window.VWO._.GoalsEnum,this.eventName=w,this.attachedFilters=[],this.unloadListenersAttached=!1,this.registeredTriggers=[],this.unloadCaptured=!1,this.functionalTriggerFilters=new Set,this.pageStartTime=performance?performance.timeOrigin:Date.now(),this.goalConverter=new window.VWO.modules.utils.goalUtils.GoalConversion("vwoPageUnloadData",[this.GoalsEnum.PAGE_UNLOAD,this.GoalsEnum.CUSTOM_GOAL]),window.VWO._.phoenixMT.on("vwo_campaignsLoaded",(()=>{this.updatePageUnloadTriggers()})),this.updatePageUnloadTriggers()}updatePageUnloadTriggers(){return a(this,void 0,void 0,(function*(){const e=yield window.fetcher.getValue("VWO._.pageUnloadTriggers");if(this.pageData=yield window.fetcher.getValue("VWO.pluginStorage.props.page"),!e)return;const t=Object.keys(e);if(this.registeredTriggers.length!==t.length){const e=this.extractPageUnloadFilters(t);this.attachedFilters=function(e){const t=[];return e.forEach((e=>{var n;null===(n=e.filters)||void 0===n||n.forEach(((n,o)=>{const i=n[0].substring(0,n[0].indexOf("."));if("event"===i||"page"===i){const i=JSON.parse(JSON.stringify(n));t.push({condition:i,triggerName:e.triggerName,condId:e.id,filterId:o,aux:e.aux})}}))})),t}(e),this.registeredTriggers=t,this.addListenersForPageUnload()}}))}extractPageUnloadFilters(e){var t;const n=[];for(let o=0;o<e.length;o++){const i=window.VWO._.allSettings.triggers;if(3===i[e[o]].dslv){this.functionalTriggerFilters.add(e[o]);continue}const s=null===(t=i[e[o]])||void 0===t?void 0:t.cnds;for(let t=0;t<s.length;t++){if(0===Object.keys(s[t].filters).length)s[t].filters=[];else for(let e=0;e<s[t].filters.length;e++){const n=s[t].filters[e],o=n[0].match(/^page\.(.*)/);o&&(n[0]="event."+o[1])}n.push(Object.assign(Object.assign({},s[t]),{triggerName:e[o]}))}}return n}evaluateAndSendData(e){let n;const{getFinalScrollValues:o,updateScrollState:i}=this.initScrollTracking;i();const s=o();if(this.pageData)for(let t in this.pageData)e[t]=this.pageData[t];e.timeSpent=Math.floor((Date.now()-this.pageStartTime)/1e3),e.sdxp=s.xScrollDepthPercent,e.sdxa=s.xScrollDepthAbs,e.sdyp=s.yScrollDepthPercent,e.sdya=s.yScrollDepthAbs,window.VWO._.lastPageUnloadURL=this.pageData.url;try{e.preComputedConds=window.VWO.modules.utils.triggers.triggersConditionsCheck(this.eventName,e,this.attachedFilters),n={name:this.eventName,vwoEventName:this.eventName,preComputedConds:e.preComputedConds,page:this.pageData,timeSpent:e.timeSpent,sdxp:e.sdxp,sdxa:e.sdxa,sdyp:e.sdyp,sdya:e.sdya,postSyncCallback:function(){delete window.VWO._.lastPageUnloadURL}},window.VWO._.functionalDSLUtils.evaluateFunctionalTriggers({event:e,eventName:this.eventName,functionalTriggerFilters:this.functionalTriggerFilters}),this.goalConverter.fireEventForConversion(this.eventName,n,{eventData:e}),delete n.preComputedConds;const o=t((()=>n._vwo.eventDataConfig))||{};e._vwo=e._vwo||{},Object.keys(o).length&&(e._vwo.eventDataConfig=o),e._vwo.syncEventData=n}catch(e){$.error(e)}}resetStartTimeAndPageData(){this.pageStartTime=Date.now(),this.updatePageUnloadTriggers()}sendDataWrapper(e){return this.unloadCaptured?this.unloadCaptured=!1:(window.VWO._.phoenixMT.trigger(w,e),this.unloadCaptured=!0)}addListenersForPageUnload(){this.unloadListenersAttached||(window.VWO._.phoenixMT.on(w,(e=>{this.evaluateAndSendData(e)}),{syncToDataLayer:!0}),window.VWO._.phoenixMT.on(g,(e=>{this.sendDataWrapper(e)})),this.initScrollTracking=function(){let e,t,n=0,o=0,i=0,s=0;const r=document.querySelector("._vwo_scroll_fix");function a(r=!1){try{const{xScrollPercent:a,yScrollPercent:d,absXScroll:l,absYScroll:c,contentWidth:u,contentHeight:w}=N(),_=t<w,g=e<w;t=w,e=u,n=Math.max(l,n),o=Math.max(c,o),i=g&&!r?C(n,e):Math.max(a,i),s=_&&!r?C(o,t):Math.max(d,s)}catch(e){}}return a(),window.addEventListener("resize",(()=>a(!0))),r?r.addEventListener("scroll",(()=>a())):window.addEventListener("scroll",(()=>a())),{getFinalScrollValues:function(){return{xScrollDepthAbs:n,yScrollDepthAbs:o,xScrollDepthPercent:i>100?100:i,yScrollDepthPercent:s>100?100:s}},updateScrollState:a}}(),window.VWO._.phoenixMT.on("vwo_urlChangeMt",(e=>{window.VWO._.phoenixMT.trigger(w,e),this.resetStartTimeAndPageData()})),this.unloadListenersAttached=!0)}}var Y,j,K;function X(){}!function(e){e.SURVEY_CAMPAIGN="SURVEY",e.ANALYZE_HEATMAP_CAMPAIGN="ANALYZE_HEATMAP",e.ANALYZE_RECORDING_CAMPAIGN="ANALYZE_RECORDING",e.ANALYZE_FORM_CAMPAIGN="ANALYZE_FORM",e.ANALYSIS_CAMPAIGN="ANALYSIS",e.GOAL_CAMPAIGN="TRACK",e.FUNNEL_CAMPAIGN="FUNNEL",e.INSIGHTS_FUNNEL_CAMPAIGN="INSIGHTS_FUNNEL",e.INSIGHTS_METRIC_CAMPAIGN="INSIGHTS_METRIC"}(Y||(Y={})),function(e){e.ANALYSIS="r",e.ANALYZE_FORM="a",e.ANALYZE_HEATMAP="a",e.ANALYZE_RECORDING="a",e.FUNNEL="t",e.SURVEY="s",e.TRACK="t",e.INSIGHTS_FUNNEL="t",e.INSIGHTS_METRIC="t"}(j||(j={})),function(e){e.SEPARATE_PAGE="SEPARATE_PAGE",e.CLICK_ELEMENT="CLICK_ELEMENT",e.ENGAGEMENT="ENGAGEMENT",e.FORM_SUBMIT="FORM_SUBMIT",e.ON_PAGE="ON_PAGE",e.REVENUE_TRACKING="REVENUE_TRACKING",e.CUSTOM_GOAL="CUSTOM_GOAL",e.PAGE_UNLOAD="PAGE_UNLOAD"}(K||(K={}));try{X.prototype=Object.create(Array.prototype),Object.defineProperty(X.prototype,"clear",{value:void 0,writable:!0,enumerable:!1})}catch(e){}const Z=null===(q=window._vwoCc)||"object"!=typeof q||Array.isArray(q)?{}:window._vwoCc;var q;(()=>{const e=Z.debugConfig||{};e.CLICK_DEBUG,e.TIMEOUT_DEBUG,e.GA_DEBUG,e.URL_DEBUG,e.VARIATION_SHOWN_DEBUG,e.IN_LIST_DEBUG})(),Z.debugLogs,Z.disableAsp,Z.vwoUuidV2Secure;const Q=t((()=>window.VWO._.useCdn))||!1;Z.enableRefreshLimit,Z.expUrlChange,window._vwo_acc_id>1044e3||Z.enableLoader,Z.eblCSync,Z.hdPR,Z.oscH,Z.cPM,Z.svIdInSyncListDbgLog,Z.wMS,Z.mEPR,Z.cA_csa,Z.dAM,Z.observeHTML,Z.mSSR,Z.mtUrlChange,Z.allowWinnerSelection;function z(e,n){let o=!1;const i=function(){o||(o=!0,function(e,n){var o,i,s,r,a,d,l,c;const w=window._vwo_cdn||window.VWO.modules.dataStorePlugin.serverUrl,_=window.VWO.modules.dataStorePlugin.serverUrl,g=null===(s=null===(i=null===(o=window.VWO._.allSettings)||void 0===o?void 0:o.dataStore)||void 0===i?void 0:i.plugins)||void 0===s?void 0:s.LIBINFO,h=null===(r=null==g?void 0:g.TRACK)||void 0===r?void 0:r.HASH,p=null===(a=null==g?void 0:g.OPA)||void 0===a?void 0:a.HASH,v=null===(d=null==g?void 0:g.OPA)||void 0===d?void 0:d.PATH,A=null===(l=null==g?void 0:g.SURVEY)||void 0===l?void 0:l.HASH;let f=!1,O=!1;const S=null===(c=window.VWO._)||void 0===c?void 0:c.loadPC;let m=!1,C=window._vis_apm_lib;const N=[];for(const t of e){const e=window.VWO._.allSettings.dataStore.campaigns;if(Object.prototype.hasOwnProperty.call(e,t)){const n=e[t];if(n.type!==Y.ANALYSIS_CAMPAIGN&&n.type!==Y.ANALYZE_FORM_CAMPAIGN&&n.type!==Y.ANALYZE_HEATMAP_CAMPAIGN&&n.type!==Y.ANALYZE_RECORDING_CAMPAIGN||(f=!0,O=!0),n.type!==Y.FUNNEL_CAMPAIGN&&n.type!==Y.GOAL_CAMPAIGN&&n.type!==Y.INSIGHTS_FUNNEL_CAMPAIGN&&n.type!==Y.INSIGHTS_METRIC_CAMPAIGN||(O=!0),n.type===Y.SURVEY_CAMPAIGN||n.survey&&n.survey.id)for(var I in m=!0,n.survey)Object.prototype.hasOwnProperty.call(n.survey,I)&&N.push(I)}}if(S&&window.VWO.modules.utils.loadScript(`${w}web/djIkcGM6MS4w/tag-1a6cb79d9b921e9f733a3a9f91c43b90.js`,null,(function(){})),O&&!window.VWO.v_t&&window.VWO.modules.utils.loadScript(`${w}7.0/track-${h}.js`),f&&!window.VWO.nls&&(window.VWO.v_t||window.VWO.modules.utils.loadScript(`${w}7.0/track-${h}.js`),window.VWO.modules.utils.loadScript(`${w}analysis${v}/opaEv-${p}.js`,null,(function(){window.VWO.modules.vwoUtils.optOut.callStopAnalyzeAndSurvey()}))),!window.VWO._[E]){const e=window.VWO.featureInfo.sse;!window.VWO.v_t&&e&&window.VWO.modules.utils.loadScript(`${w}7.0/track-${h}.js`);const n=()=>{const e=t((()=>window.VWO._.useCdn))?`${w}static/1.0/`:_;window.VWO.modules.utils.loadScript(`${e}va_survey-${A}.js`)};window.VWO._.shouldLoadSurveyLib?n():window.VWO.phoenix('on("${{1}}", "${{2}}")',null,{captureGroups:[E,n]})}if(C&&!window.VWO.apm){const e=window._vis_apm_lib,t=`${_}${e}`,n=`${window._vwo_cdn}${e}`,o=Q?n:t;window.VWO.modules.utils.loadScript(o,null,(()=>{}),{defer:!0})}m&&n&&window.VWO.phoenix('trigger("${{1}}", "${{2}}")',null,{captureGroups:[u,{oldArgs:[N]}]})}(e,n))},s=()=>window.VWO._.defer(i);!function(e){if("undefined"==typeof PerformanceObserver)return;let t=!1;const n=new PerformanceObserver((o=>{o.getEntries().length&&!t&&(t=!0,n.disconnect(),e())}));try{n.observe({type:"largest-contentful-paint",buffered:!0})}catch(e){}}(s),function(e){if("complete"===document.readyState)e();else{const t=()=>{window.removeEventListener("load",t),e()};window.addEventListener("load",t)}}(s)}function J(e,t){const n=window.VWO.consentMode;if(n){if(n.dTI)return;if(n.hTI){const n=window.VWO._.phoenixMT.on(h,(()=>{window.VWO._.phoenixMT.off(h,n),window.fetcher.setValue("VWO.consentMode.hTI",!1),window.VWO.phoenix('trigger("${{1}}")',null,{captureGroups:[h]}),z(e,t)}));return}}z(e,t)}window.VWO._.loadNonTestingLibraries=J;const ee=[Y.ANALYSIS_CAMPAIGN,Y.SURVEY_CAMPAIGN,Y.ANALYZE_RECORDING_CAMPAIGN,Y.ANALYZE_HEATMAP_CAMPAIGN,Y.ANALYZE_FORM_CAMPAIGN,Y.GOAL_CAMPAIGN,Y.FUNNEL_CAMPAIGN,Y.INSIGHTS_FUNNEL_CAMPAIGN,Y.INSIGHTS_METRIC_CAMPAIGN];const te={[Y.ANALYZE_RECORDING_CAMPAIGN]:!0,[Y.ANALYZE_HEATMAP_CAMPAIGN]:!0,[Y.ANALYZE_FORM_CAMPAIGN]:!0,[Y.GOAL_CAMPAIGN]:!0,[Y.FUNNEL_CAMPAIGN]:!0,[Y.INSIGHTS_FUNNEL_CAMPAIGN]:!0,[Y.INSIGHTS_METRIC_CAMPAIGN]:!0};const ne=[Y.ANALYZE_RECORDING_CAMPAIGN,Y.ANALYZE_HEATMAP_CAMPAIGN,Y.ANALYZE_FORM_CAMPAIGN];const oe=[Y.INSIGHTS_FUNNEL_CAMPAIGN,Y.INSIGHTS_METRIC_CAMPAIGN];const ie={isDomIndependentCampaign:function(e){return ee.includes(e)},isSessionBasedCampaign2:function(e){return!!te[e.type]},isAnalyzeCampaign:function(e){return ne.includes(e)},hasInsightsMetric:function(e){return oe.includes(e)}};let se=e=>e;window.VWO._.namespaceKeyWithAccId=se;class re{constructor(){this.vwoExecutedTriggeredOnce=!1,this.vwoOSCTriggeredOnce=!1,this.vwoDebouncedTimer=null}_debouncedEvent(){this.vwoDebouncedTimer&&clearTimeout(this.vwoDebouncedTimer),this.vwoDebouncedTimer=setTimeout((()=>this._sendCampaignsLoaded()),re.CAMPAIGNS_LOADED_DELAY)}_sendCampaignsLoaded(){null!==this.vwoCookieListenerId&&(window.VWO._.phoenixMT.trigger("vwo_campaignsLoaded"),window.VWO._.phoenixMT.off(this.vwoCookieListenerId),this.vwoCookieListenerId=null)}_attachCombiListener(){this.vwoCookieListenerId=window.VWO._.phoenixMT.on(d,(()=>this._debouncedEvent()))}_canAttachCombiListenerOnce(e){return!(!window._vis_debug&&!o())||(this.vwoExecutedTriggeredOnce?e||this.vwoOSCTriggeredOnce:!e)}_attachCombiListenerOnce(e){this._canAttachCombiListenerOnce(e)&&(this._debouncedEvent(),this._attachCombiListener())}execute(){const e=!!window._vwo_code;if(this._attachCombiListenerOnce(e),this.vwoExecutedTriggeredOnce)return void(this.vwoOSCTriggeredOnce=!0);const n=function(){const{executableCampaignsOnCurrentPage:e}=window.VWO._,n=window.VWO._.allSettings.dataStore.campaigns,o=[{},[]];if(null==e?void 0:e.length)for(const i of e){const e=n[i];t((()=>window.VWO.modules.utils.libUtils.isTestingCampaign(e.type)))&&(e.ready?o[0][i]=e.combination_chosen:o[1].push(i))}return window._vwo_code&&(window._vwo_code.lT||window._vwo_code.sT)&&o.push({timeout:!0}),o}();window.VWO._.triggerEvent.apply(window.VWO._.triggerEvent,[_,n]),this.vwoExecutedTriggeredOnce=!0}}re.CAMPAIGNS_LOADED_DELAY=200;const ae=new re,de=ae.execute.bind(ae);function le(e){return 1!=e||!window.VWO._.disableAutofetchSettings}function ce(e,t){var n,o,i,s,r,a,d;le(e)&&(n=()=>{le(e)&&window.VWO.settings.requestSettings(e)},d=!1,-1===(o=+t||0)||i?(r=requestAnimationFrame,a=cancelAnimationFrame):(r=setTimeout,a=clearTimeout),function(...e){d&&(a(s),s=null),s=r((function(){n.apply(this,e)}),o),d=!0})()}const ue=e=>e?ce(e,window.VWO._.SPA_NEW_PAGE_SETTINGS_DELAY):function(){if(window._vis_debug||o()||!window.VWO._.isSpaEnabled)return;const e=window._vwo_code,{SPA_SETTINGS_DELAY:t,SPA_NEW_PAGE_SETTINGS_DELAY:n}=window.VWO._;ce(e?1:2,e?t:n)}();window.VWO.settings={requestSettings:function(n){return a(this,void 0,void 0,(function*(){const i=window.VWO.modules.utils.libUtils;if(window._vis_debug||o()||i.isBot2()||window.VWO._.selfHosted)return;const{dcdnUrl:s=""}=window._VWO||{},{serverUrl:r,accountId:a,currentUrl:d}=window.VWO.modules.dataStorePlugin,l=t((()=>{var e;return null===(e=window._vwo_code)||void 0===e?void 0:e.getVersion}))&&window._vwo_code.getVersion();if(s){const t=window._vwo_code?4:5,{settingsUrl:n,fallbackUrl:o}=window.VWO._.getSettingsUrl({settingsType:t,cacheParam:!0,txtCfgState:!0});return function(t,n){window.VWO.modules.utils.loadScript(t,(()=>{window.VWO.modules.utils.loadScript(n,window.fetcher.getValue("VWO.modules.utils.libUtils.firePageViewEvent"),(()=>{}),{defer:!0,allowReload:!0}),e({msg:`settings.js type ${window._vwo_code?4:5} cdn request failed.`,url:window.location.href,uuid:window.VWO._.cookies.get("_vwo_uuid"),source:encodeURIComponent("settingsjs")})}),(()=>{}),{defer:!0,allowReload:!0})}(n,o)}const c=[],u=window._vwo_exp_ids,w=window._vwo_exp;let _=!1;const g=t((()=>window.VWO.pageGroup.pageConfig)),h=t((()=>window.VWO.pageGroup.experimentConfig)),E=[],p=[];for(const e in g)Object.hasOwnProperty.call(g,e)&&E.push(e);for(const e in h)Object.hasOwnProperty.call(h,e)&&p.push(e);const v=[];for(let e=0;e<u.length;e++)w[u[e]]?(w[u[e]].type===Y.ANALYZE_RECORDING_CAMPAIGN&&(_=!0),c.push(u[e])):v.push(u[e]);let A=yield window.VWO._.cookies.get("wgs_uuid");A=A||"";let f=r+"settings.js?a="+a+"&settings_type="+n+"&vn=&eventArch=1&uuid="+A;if(1==n&&window.VWO._.txtCfg&&(f+="&tS=1"),2!==n&&3!==n||(f=f+"&u="+encodeURIComponent(d)),p.length){f+="&ec="+p.join("|")}if(E.length){f+="&pc="+E.join("|")}if(_&&(f+="&rc=1"),l>=1.4&&l<2){let e;undefined._.jar||(e=window._vwo_code.getCombinationCookie&&i.getCombinationCookie()),e&&(f+="&c="+e)}if(4!==n&&c.length){const e="&exc="+c.join("|");f.length+e.length<2e3&&(f+=e)}window.VWO.modules.utils.loadScript(f,(()=>window.fetcher.getValue("VWO.modules.utils.libUtils.initAuxiliaryPageView")),(()=>{}),{defer:!0})}))}};const we=window.VWO.modules.events.fireEventAndSyncData,_e=window.VWO._.commonCookieHandler,ge=window.VWO._.libUtils;function he(){const e=_e.getMetaStore().split(":")[1];return!!new RegExp("(,|^)"+j[Y.INSIGHTS_FUNNEL_CAMPAIGN]+"_1").test(e)&&"1"}function Ee(e,t,n,o){let i=[e,t].join("_");window._vwo_exp[e]&&window._vwo_exp[e].type!==Y.INSIGHTS_METRIC_CAMPAIGN&&(i=[e,t,0,window._vwo_exp[e].version].join("_")),n&&o&&(i=function(e,t,n,o){var i,s="";return null!=n&&o?((null===(i=_e.getDataStore().split(":")[2])||void 0===i?void 0:i.split(",")).forEach((i=>{if(i.includes(`${e}`)){const r=i.split("_");r[3]&&r[3]==o.toString()?parseInt(r[2],10)+1==n?(s=[e,t,n,o].join("_"),window.VWO._.phoenixMT.trigger("vwo_insightsFunnel",{data:s})):s=[e,t,r[2],o].join("_"):1==n?(s=[e,t,1,o].join("_"),window.VWO._.phoenixMT.trigger("vwo_insightsFunnel",{data:s})):s=[e,t,0,o].join("_")}})),s):""}(e,t,n,o));var s=_e.getDataStore(),r=s.split(":");if(!r[2])for(let e=r.length;e<=2;e++)r[e]="";r[2].match(new RegExp("(?:^|,)("+e+"_[^,]+)"))?r[2]=r[2].replace(new RegExp("(^|,)("+e+"_[^,]+)"),"$1"+i):r[2]+=(0===r[2].length?"":",")+i,s=r.join(":"),_e.setDataStore(s)}function pe(e,t){const n=_e.getDataStore().split(":")[2];return new RegExp(`(?:,|^)${e}_${t}(?:_[^,]*)?(?:,|$)`).test(n)?"1":""}const ve={isVisBucketedForTrack:he,includeFunnel:function(e){Ee(e,1)},excludeFunnel:function(e){Ee(e,0)},isFunnelIncluded:function(e){return pe(e,1)},isFunnelExcluded:function(e){return pe(e,0)},activateFunnels:function(){var e;return a(this,void 0,void 0,(function*(){if(!(null===(e=window.VWO._.track)||void 0===e?void 0:e.loaded)&&he()){const e=Object.keys(window._vwo_exp||{}).map((function(e){return a(this,void 0,void 0,(function*(){if(window._vwo_exp[e]){const t=window._vwo_exp[e].type;ge.hasInsightsMetric(t)&&(yield we(window.VWO.phoenix,c,{id:e}))}}))}));yield Promise.all(e),window.VWO._.phoenixMT.trigger("vwo_insightsActivated")}}))},markFunnelValue:Ee,includeInsightsMetric:function(e){Ee(e,1)},isMetircTriggered:function(e){const t=_e.getDataStore().split(":")[2];return new RegExp(`(?:,|^)${e}_1(?:_[^,]*)?(?:,|$)`).test(t)}},Ae=window.VWO.modules.utils.campaignUtils,fe=window.VWO.modules.utils.libUtils,Oe=window.VWO.modules.tags.dataSync.utils,Se=window.VWO.modules.dataStorePlugin,me=Object.keys;const Ce=new class{getTargetPathInfo(e){let n,o,i,s,r,a,d,l,c;n=vwo_$(t((()=>e.composedPath()[0]))||e.target),o=n.get(0);const u=m(o);return u!==o&&(o=u,n=vwo_$(o)),l=S(o),"string"!=typeof l||"html"===l.toLowerCase()||fe.isBot2()||(c=n.offset(),"touchend"===e.type?(r=e.originalEvent&&e.originalEvent.changedTouches[0],r&&(i=r.pageX,s=r.pageY)):(i=e.pageX,s=e.pageY),a=Math.round(1e3*(i-c.left)/(n.outerWidth()||function(e){return f("width",e)}(n)))/1e3,d=Math.round(1e3*(s-c.top)/(n.outerHeight()||function(e){return f("height",e)}(n)))/1e3,(0>a||1<a)&&(a=.5),(0>d||1<d)&&(d=.5)),"html"===l.toLowerCase()&&(l=""),{xpath:l,x_percent:a,y_percent:d}}evaluateHeatmapData(e){let t,n,o,i,s,r,a={};vwo_$(e.target).get(0);const d=window._vwo_acc_id,c=window._vwo_exp,u=me(c);n=u.length;const{xpath:w,x_percent:_,y_percent:g}=this.getTargetPathInfo(e),{sPath:h,tag:E,ph:p,scrDp:v,label:A}=U(e);for(;n--;)if(o=u[n],t=c[o],"RUNNING"===t.status&&t.clickmap&&(t.ready||t.gp)){const e=Ae.getCombi(t);if(t.clicks=t.clicks||0,e&&w&&++t.clicks<=(window._vwo_clicks||10)&&fe.isEligibleToSendCall(o)){r=fe.getUUID(t),s="h.gif?experiment_id="+o+"&account_id="+d+"&combination="+e+fe.getUUIDString(r)+"&url="+encodeURIComponent(window.location.href)+"&path="+encodeURIComponent(w)+"&x="+_+"&y="+g+"&mapEv=false",window.VWO._.isBeaconAvailable=!0,window.VWO._.isLinkRedirecting=undefined;T((()=>Oe.sendCall({serverUrl:Se.serverUrl,accountId:d},{url:s}))),window.VWO._.isLinkRedirecting=!1,i=i&&window.VWO._.isBeaconAvailable,window.VWO.modules.tags.wildCardCallback({oldArgs:[o,e,w,_,g]},l);const n={x:_,y:g,path:w,sPath:h,tag:E,ph:p,scrDp:v,label:A},c="id_"+o;a[r]?a[r]=Object.assign(Object.assign({},a[r]),{[c]:e}):a=Object.assign(Object.assign({},a),{[r]:Object.assign({[c]:e},n)})}}return a}};window.VWO.modules.utils.heatmapUtils=Ce;const Ne=()=>{window.VWO.modules.tags.sessionInfoService.eraseSessionCookie(),window.fetcher.setValue("window._vwo_uuid",null),window.fetcher.setValue("window.VWO._.allSettings.dataStore.uuid",null),window._vwo_uuid=null,window.VWO._.allSettings.dataStore.uuid=null,(()=>{const e=window.VWO._.cookies,n=e.getAll(),o=/^(debug)?(_vis_opt|_vwo)/;for(const i in n)if(o.test(i)){const n=/(_vis_opt_exp_|_vwo_uuid_)(\d+)/,o=t((()=>n.exec(i)[2]));o||"_vwo"==i?(e.createThirdParty(i,"",-1,null,o),i.includes("combi")&&e.createThirdParty(`_vis_opt_exp_${o}_combi_choose`,"",-1,null,o)):e.create(i,"",-1)}})(),Object.keys(window.localStorage).forEach((e=>{e.indexOf("vwo")>-1&&window.localStorage.removeItem(e)})),window.VWO._.sessionInfoService.setVisitorInformation("new"),t((()=>window.VWO._.crossStore.removeAll())),window.VWO._.phoenixMT.trigger("vwo.session.destroyed"),955434===window._vwo_acc_id&&t((()=>window.VWO._.tua.clearCallbacks()))};function Ie(e){return function(e){return Object.keys(e).filter((t=>Object.prototype.hasOwnProperty.call(e,t)))}(window._vwo_exp[e.toString()].goals)[0]}window.VWO._.destroySession?window.VWO._.destroySession(Ne):window.VWO._.destroySession=Ne;const Ve={markInsightGoalTriggered:function(e,t){var n;const o=window.tracklib||window.VWO._.track;e.type===Y.GOAL_CAMPAIGN?o.markGoalTriggered(e.id,t):e.type===Y.INSIGHTS_METRIC_CAMPAIGN&&((null===(n=e.goals[t])||void 0===n?void 0:n.mca)||window.VWO._.insightsUtils.includeInsightsMetric(e.id))},getInsightCombi:function(e,t){const n=window.VWO._.track,o=window.VWO._.insightsUtils;if(e.type===Y.GOAL_CAMPAIGN)return n.isGoalIncluded?n.isGoalIncluded(Ie(e.id)):void(t||window.VWO.push(["track.delayedGoalConversion",{campaignId:e.id,type:Y.GOAL_CAMPAIGN,goalId:Ie(e.id)}]));if(e.type===Y.FUNNEL_CAMPAIGN)return n.isFunnelIncluded?n.isFunnelIncluded(e.id):void(t||window.VWO.push(["track.delayedGoalConversion",{campaignId:e.id,type:Y.FUNNEL_CAMPAIGN}]));if(e.type===Y.INSIGHTS_FUNNEL_CAMPAIGN)return o.isFunnelIncluded(e.id);if(ie.hasInsightsMetric(e.type)&&e.ready)return window.VWO._.insightsUtils.isVisBucketedForTrack();if(ie.isAnalyzeCampaign(e.type)){if(n.isAnalyzeCampaignIncluded)return n.isAnalyzeCampaignIncluded(e.id);t||window.VWO.push(["track.delayedGoalConversion",{campaignId:e.id,type:e.type}])}}};window.VWO._.ncLib=window.VWO._.ncLib||{},window.VWO._.ncLib.initNonCriticalLib=()=>{var e;(de(),window.VWO._.ncLib.ncInit)||(window.VWO._.vwoLib.init("nonCritical",window.VWO,null),e=window.VWO.modules.dataStorePlugin.vwoUUID,window.VWO.modules.otherLibDeps.setOtherLibrariesDepsMT(),window.VWO._.addConsentTrigger=function(e){return a(this,void 0,void 0,(function*(){yield window.VWO._.insightsOnConsentPromise,e()}))},window.VWO._.libLoaded=!0,window.VWO._.track=window.VWO._.track||{},window.VWO._.CampaignEnum=Object.assign(Object.assign({},window.VWO._.CampaignEnum),Y),window.VWO._.pcTrafficEnum=Object.assign(Object.assign({},window.VWO._.pcTrafficEnum),j),window.VWO._.GoalsEnum=Object.assign(Object.assign({},window.VWO._.GoalsEnum),K),window.VWO._.EventsEnum=Object.assign(Object.assign({},window.VWO._.EventsEnum),{PERFORMANCE:"vwo_performance",ERROR_ONPAGE:"vwo_errorOnPage",CURSOR_THRASHED:"vwo_cursorThrashed",PAGE_REFRESHED:"vwo_pageRefreshed",QUICK_BACK:"vwo_quickBack",COPY:"vwo_copy",SELECTION:"vwo_selection",TAB_IN:"vwo_tabIn",TAB_OUT:"vwo_tabOut",REPEATED_SCROLLED:"vwo_repeatedScrolled",REPEATED_HOVERED:"vwo_repeatedHovered",LEAVE_INTENT:"vwo_leaveIntent",DOM_SUBMIT:"vwo_dom_submit",PAGE_UNLOAD:"vwo_pageUnload"}),window.VWO._.SyncableEventsEnum=Object.assign(Object.assign({},window.VWO._.SyncableEventsEnum),{[window.VWO._.EventsEnum.PERFORMANCE]:{},[window.VWO._.EventsEnum.ERROR_ONPAGE]:{},[window.VWO._.EventsEnum.CURSOR_THRASHED]:{},[window.VWO._.EventsEnum.PAGE_REFRESHED]:{},[window.VWO._.EventsEnum.QUICK_BACK]:{},[window.VWO._.EventsEnum.COPY]:{},[window.VWO._.EventsEnum.SELECTION]:{},[window.VWO._.EventsEnum.TAB_IN]:{},[window.VWO._.EventsEnum.TAB_OUT]:{},[window.VWO._.EventsEnum.LEAVE_INTENT]:{},[window.VWO._.EventsEnum.REPEATED_SCROLLED]:{},[window.VWO._.EventsEnum.REPEATED_HOVERED]:{}}),window.VWO._.coreLib=window.VWO._.coreLib||{},window.VWO._.coreLib.compareUrlWithIncludeExcludeRegex=window.VWO.modules.utils.urlUtils.compareUrlWithIncludeExcludeRegex.bind(window.VWO.modules.utils.urlUtils),window.VWO._.coreLib.getCurrentUrl=function(){return window._vis_opt_url||window.location.href},window.VWO._.coreLib.runCampaigns=function(e,t){var n;return a(this,void 0,void 0,(function*(){if(!(null===(n=window.VWO._.track)||void 0===n?void 0:n.isUserBucketed()))return void window.VWO._.vwoLib.init("track",window.VWO,null);"object"==typeof e&&(t=e.expIds);const o=t.map((function(e){return a(this,void 0,void 0,(function*(){yield window.VWO.modules.events.fireEventAndSyncData(window.VWO.phoenix,c,{id:e})}))}));yield Promise.all(o),window.VWO._.track.nlsProcessed=!0,window.VWO._.phoenixMT.trigger("vwo_insightsActivated"),window.VWO._.vwoLib.init("track",window.VWO,null)}))},window.VWO._.libUtils.createUUIDCookie=function(){return window.VWO._.libUtils.createUUIDCookie2({vwoUUID:e})},window.VWO._.libUtils.sendCall=function(e,t,n,o){window.VWO.modules.vwoUtils.sendCall({url:e},t,n,o)},window.VWO._.libUtils.extraData=function(e){return window.VWO._.libUtils.extraData2(e)},window.VWO._.libUtils.isSessionBasedCampaign=function(e){const t=window.VWO._.allSettings.dataStore.campaigns[e];return ie.isSessionBasedCampaign2(t)},window.VWO._.libUtils.isBot=function(){return window.VWO._.libUtils.isBot2()},window.VWO.modules.otherLibDeps.storeSurveyDataInVWOSurveySettings(window._vwo_exp),window.VWO.track=window.VWO.track||{},window.VWO.track.goalConversion=function(e){return a(this,void 0,void 0,(function*(){yield window.fetcher.getValue("VWO.modules.tags.backwardCompatibilityUtils.customGoalConversion",[e,!0])}))},window.VWO.track.revenueConversion=function(e){return a(this,void 0,void 0,(function*(){yield window.fetcher.getValue("VWO.modules.tags.backwardCompatibilityUtils.customRevenueConversion",[e,!0])}))},window.VWO.track.delayedGoalConversion=function(e){return a(this,void 0,void 0,(function*(){yield window.fetcher.getValue("VWO.modules.tags.backwardCompatibilityUtils.delayedGoalConversion",[e])}))},function(){const e=window._vwo_pa={},t=window._vwo_exp;for(var n in t)"ANALYZE_RECORDING"===t[n].type&&(e.r=1),"ANALYZE_FORM"===t[n].type&&(e.r=1),"ANALYZE_HEATMAP"===t[n].type&&(e.r=1)}(),window.VWO._.insights=ve,window.VWO._.insightsLibUtils=ie,window.VWO._.insightsCampaignUtils=Ve,window._vis_heatmap||J(window._vwo_exp_ids),new r,window.VWO.modules.phoenixPlugins.events.predefinedEvents.PageUnloadEvent=new H,window.VWO._.ncLib.ncInit=!0,window.VWO._.ncLib.handleClickEvent=e=>{var t;if((null===(t=e._vwo)||void 0===t?void 0:t.aux)&&e.props){e.props.aux=!0;const{isDeadClick:t,isRageClick:n,isErrorClick:o}=e._vwo;(t||n||o)&&e.props&&(t&&(e.props.isDeadClick=!0),n&&(e.props.isRageClick=!0),o&&(e.props.isErrorClick=!0))}})},window.VWO._.phoenixMT&&window.VWO._.phoenixMT.trigger("vwo_InitNCLib"),function(){const e=window.VWO._.phoenixMT;e.on("vwo_loadSettings",ue),e.getEventHistory("vwo_loadSettings")&&ue()}()}();

(function(){
    var waitForCondition = function (condition, callback) {
        var execute = function () {
            if(condition()) {
                callback();
            } else {
                setTimeout(execute, 100);
            }
        };
        execute();
    };
    waitForCondition(function () { return VWO && VWO._ && VWO._.libLoaded } , function () {
!function(){"use strict";function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=Array(t);n<t;n++)i[n]=e[n];return i}function t(e,t,n){return t=s(t),function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,function(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return function(){return!!e}()}()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,h(i.key),i)}}function r(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function o(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=p(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function a(e,t,n){return(t=h(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);u=!0);}catch(e){c=!0,r=e}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return s}}(e,t)||p(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(t,n){if(t){if("string"==typeof t)return e(t,n);var i={}.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?e(t,n):void 0}}var w=function(){if(VWO._.eventsManager)return VWO._.eventsManager;var e=[],t=!0,n=[],i=[],r={bind:"unbind",live:"die",on:"off"},o=[];var a=/iPhone|iPad/.test(navigator.userAgent);function s(e){return!VWO.DONT_IOS&&(!("touchmove"!==e&&"touchstart"!==e&&"touchend"!==e||!a)||void 0)}function u(e,n){t&&o.push({type:e,state:n,ref:e[n]})}function c(){for(var e=o.length-1;e>=0;e--){var t=o[e];t.type[t.state]=t.ref}}return w={addEventListener:function(n,i,r,o){if(!s(i)){t&&e.push({$el:n,name:i,callback:r,capture:o});try{n.addEventListener?n.addEventListener(i,r,o):n.attachEvent&&n.attachEvent("on"+i,r,o)}catch(e){}return w}},addMutationObserver:function(e,t,n,r){var o;if(void 0!==window.MutationObserver?o=window.MutationObserver:void 0!==window.WebKitMutationObserver&&(o=window.WebKitMutationObserver),o)try{var a=new MutationObserver(e.bind(r));i.push(a),a.observe(t,n)}catch(e){}},clearAllListeners:function(){for(var t=0;t<e.length;t++){var a=e[t],s=a.$el;a.jqType?(u=s,l=a.jqType,d=a.eventName,f=a.callback,h=a.selector,v=a.capture,l&&(h?u[r[l]](d,h,f,v):u[r[l]](d,f,v))):s.removeEventListener?s.removeEventListener(a.name,a.callback,a.capture):s.detachEvent&&s.detachEvent("on"+a.name,a.callback)}var u,l,d,f,h,v;return i.forEach((function(e){e.disconnect()})),function(){for(var e=0;e<n.length;e++){var t=n[e];"interval"===t.type?clearInterval(t.name):clearTimeout(t.name)}}(),c(),e.length=0,o.length=0,i.length=0,n.length=0,w},addJqEventListener:function(n,i,r,o,a,u){return s(r)||(t&&e.push({$el:n,jqType:i,eventName:r,callback:o,selector:a,capture:u}),a?n[i](r,a,o,u):n[i](r,o,u)),w},pushTimers:function(e,i){if(t)return n.push({name:e,type:i}),w},addOverrideState:u,overrideHistoryPush:function(e,n,i){if(t){var r=e[i];u(e,i),e[i]=function(t){var i=r.apply(e,[].slice.call(arguments));try{n({state:t})}catch(e){}return i}}},revertOverriddenStates:c,init:function(e){t=e.shouldPushToQueue}},VWO.destroy=w.clearAllListeners,VWO._.eventsManager=w,w}(),m={INPUT:1,TEXTAREA:1,SELECT:1,OPTION:1,CANVAS:1,"FLUTTER-VIEW":1},g=window.vwo_$,y={isNodeVisible:function(e){if(!(e&&e instanceof HTMLElement))return!1;var t=window.getComputedStyle(e),n=e.getBoundingClientRect();return"none"!==(null==t?void 0:t.transition)&&""!==(null==t?void 0:t.transition)?!("none"===(null==t?void 0:t.display)||"hidden"===(null==t?void 0:t.visibility)):!("none"===(null==t?void 0:t.display)||"hidden"===(null==t?void 0:t.visibility)||"0"===(null==t?void 0:t.opacity)||n.width<=0||n.height<=0)},isLinkOrImmediateParentAnchor:function(e){if(e instanceof HTMLAnchorElement&&e.hasAttribute("href"))return!0;var t=e.parentElement;return!!(t instanceof HTMLAnchorElement&&t.hasAttribute("href"))},isNonDeadClickElement:function(e){switch(e.nodeName.toUpperCase()){case"LABEL":if(e.hasAttribute("for")){var t=e.getAttribute("for");if(document.getElementById(t))return!0}else if(g(e).find("input,select,textarea,option").length>0)return!0}return!e||e._vwo_nd&&!e.disabled||1===m[e.nodeName&&e.nodeName.toUpperCase&&e.nodeName.toUpperCase()]},isElementInViewport:function(e){var t=e.getBoundingClientRect();return!!(t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth))||t.top<(window.innerHeight||document.documentElement.clientHeight)&&t.bottom>0&&t.left<(window.innerWidth||document.documentElement.clientWidth)&&t.right>0},updateNodeVisibility:function(e){y.isNodeVisible(e)?e._vwo_vba_vis=!0:e&&e._vwo_vba_vis&&delete e._vwo_vba_vis}},E="pageExitEvent",b="nlsClick",O={debounce:function(e,t){var n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];clearTimeout(n),n=window.setTimeout((function(){e.apply(void 0,r)}),t)}},sanitizeActionData:function(e){return"string"!=typeof e?"INVALIDATA":e.replace(/_/g,"!-u-!").replace(/,/g,"!-c-!")},containsOurDomain:function(e){if(!e)return!1;return/visualwebsiteoptimizer\.com|cdn\.pushcrew\.com|app\.vwo\.com|wingify\-assets/.test(e)},getAnonymizedUrl:function(e){var t,n,i;if(!VWO.phoenix||null===(t=VWO._.allSettings)||void 0===t||null===(n=t.dataStore)||void 0===n||null===(i=n.plugins)||void 0===i||!i.PIICONFIG)return e;try{var r=window.VWO._.allSettings.dataStore.plugins.PIICONFIG,o=new URL(e),a={};o.searchParams.forEach((function(e,t){var n,i,o,s,u=!1,c=t.toLowerCase(),l=null===(n=r.queryParamSettings)||void 0===n||null===(i=n.w)||void 0===i?void 0:i[c],d=null===(o=r.queryParamSettings)||void 0===o||null===(s=o.b)||void 0===s?void 0:s[c];if(void 0!==l){if(l.length&&e.match(l))return;l||(u=!0)}(!u&&(void 0!==d||c.match(r.globalBlacklist))||e.match(r.globalValueRegex))&&(a[t]="vwo_anonymized")})),e=this.constructAnonymizedURL(a,o.toString())}catch(t){e=e.replace(/(\?|\&)([^\&\#]*?)=([^\&\#]*)/g,"$1$2=vwo_anonymized")}return e},getTargetNode:function(e){var t;return e.composedPath&&null!==(t=e.composedPath())&&void 0!==t&&t.length?e.composedPath()[0]:e.target},getCookieDomain:function(){return window.VWO._.cookies.domain},validateLastNErrors:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=e.slice(-t);if(n.length<t)return!1;var i=n.every((function(e){return e.id===n[0].id}));return i},constructAnonymizedURL:function(e,t){var n=/([\[\]\-(){}.+|$^?\\])/g,i=function(){if(Object.hasOwnProperty.call(e,r)){var i=e[r],o=r.replace(n,"\\$1"),a=i.replace(/\$/g,"$$$$");a&&o&&(r=o,i=a);var s=new RegExp("[\\?&]"+r+"=([^&]*)","g");t=t.replace(s,(function(e,t){return e.replace(t,i)}))}};for(var r in e)i();return t}},T={canBeRageClick:function(e,t){var n=t.timeStamp,i=e.timeStamp;return!!(n&&i&&n-i<250&&O.getTargetNode(e)===O.getTargetNode(t))},getRageClicks:function(e){var t=0,n=0;if(e.length<7)return[];for(var i=1;i<e.length;i++)this.canBeRageClick(e[i-1],e[i])?n++:(this.markRageClicks(e,t,n),t=i,n=i);t!==n&&this.markRageClicks(e,t,n)},markRageClicks:function(e,t,n){if(!(n-t<6))for(var i=t;i<=n;i++)i===t&&(e[i].isFirst=!0),this.classifyRage(e[i])},classifyRage:function(e){e._vwo=l(l({},e._vwo),{},{aux:!0,isRageClick:!0}),e.isRageClick=!0}},C="nls.init",V=void 0!==VWO.v_e,k=window.VWO._.phoenixMT,S=window.VWO._.listener,_=function(){var e;return(null===(e=window.VWO.clickWatcher)||void 0===e?void 0:e.clickQueue)||[]},A=new(function(){function e(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(n(this,e),window.VWO.clickWatcher&&this.initialized)return window.VWO.clickWatcher;this.deadQueue=[],this.clickQueue=[],this.config=l({clickTimeout:(null===(t=window._vwoCc)||void 0===t?void 0:t.dCT)||500},i),this.sendClicks=O.debounce(this.triggerAuxClick.bind(this),this.config.clickTimeout),this.init()}return r(e,[{key:"init",value:function(){var e=this;S.onEventReceive(C,(function(){var t,n,i,r;(null!==(t=window.VWO)&&void 0!==t&&null!==(n=t.nls)&&void 0!==n&&n.r||null!==(i=window.VWO)&&void 0!==i&&null!==(r=i.nls)&&void 0!==r&&r.hs)&&e.initialize()})),V&&window.fetcher.getValue("VWO._.initClickWatcher").then((function(t){t&&!e.initialized&&e.initialize()}))}},{key:"initialize",value:function(){this.initialized||(this.initialized=!0,this.initMutationObserver(),this.initClickListener(),this.initScrollListeners(),this.initPageChangeListeners())}},{key:"initMutationObserver",value:function(){this.mutationObserver=new MutationObserver(this.processMutations.bind(this)),this.initializeNode(document.body)}},{key:"initializeNode",value:function(e){var t,n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null);for(this.mutationObserver.observe(e,{attributes:!0,childList:!0,subtree:!0});t=n.nextNode();)t instanceof HTMLElement&&(y.updateNodeVisibility(t),t.shadowRoot&&this.initializeNode(t.shadowRoot))}},{key:"initClickListener",value:function(){var e=this;V?k.on(window.VWO._.EventsEnum.DOM_CLICK,(function(t){e.processClick(t)})):S.onEventReceive(b,(function(t){e.processClick(t[1])}))}},{key:"initScrollListeners",value:function(){var e=this,t=O.debounce((function(){e.processDeadQueue()}),100);w.addEventListener(document,"scroll",t),w.addEventListener(document.body,"scroll",t,!0)}},{key:"initPageChangeListeners",value:function(){var e=this;V?k.on(E,(function(){e.processDeadQueue()})):w.addEventListener(window,"beforeunload",(function(){e.processDeadQueue()})),S.onEventReceive(window.VWO._.EventsEnum.URL_CHANGED,(function(){e.processDeadQueue()}))}},{key:"processClick",value:function(e){var t,n,i,r,o=this;if(null===(t=e._vwo)||void 0===t||!t.aux){this.clickQueue.push(e);var a=O.getTargetNode(e);y.updateNodeVisibility(a),e.eventUuid=e.eventUuid||(null===(n=window.VWO.modules)||void 0===n||null===(i=n.utils)||void 0===i||null===(r=i.libUtils)||void 0===r?void 0:r.generateUUID()),setTimeout((function(){o.processDeadQueue({filterQueue:!0})}),this.config.clickTimeout),this.sendClicks(),y.isLinkOrImmediateParentAnchor(a)||y.isNonDeadClickElement(a)||this.deadQueue.push({event:e,target:a,timestamp:Date.now()})}}},{key:"processMutations",value:function(e){var t,n=this,i=["style","id","class"],r=o(e);try{for(r.s();!(t=r.n()).done;){var a=t.value,s=a.target;if("attributes"===a.type){var u=a.attributeName;if(i.indexOf(u)>-1){var c=!!s._vwo_vba_vis;y.updateNodeVisibility(s);var l=!!s._vwo_vba_vis;(c||c!=l)&&this.processDeadQueue({mutatedNode:s})}}else"childList"===a.type&&(a.addedNodes.forEach((function(e){y.updateNodeVisibility(e),e.shadowRoot&&n.initializeNode(e.shadowRoot),e instanceof HTMLElement&&e._vwo_vba_vis&&n.processDeadQueue({mutatedNode:e})})),a.removedNodes.forEach((function(e){e instanceof HTMLElement&&e._vwo_vba_vis&&n.processDeadQueue()})))}}catch(e){r.e(e)}finally{r.f()}}},{key:"processDeadQueue",value:function(t){var n=this,i=t||{},r=i.mutatedNode,o=i.filterQueue;if(!r||y.isElementInViewport(r)){var a=Date.now();this.deadQueue=this.deadQueue.filter((function(t){var i=t.event,r=t.timestamp;return a-r>=n.config.clickTimeout?(e.classifyDead(i),!1):!!o}))}}},{key:"triggerAuxClick",value:function(){T.getRageClicks(this.clickQueue);var e,t=o(this.clickQueue);try{for(t.s();!(e=t.n()).done;){var n=e.value;n._vwo&&n._vwo.aux&&V&&k.trigger(window.VWO._.EventsEnum.DOM_CLICK,n)}}catch(e){t.e(e)}finally{t.f()}this.clickQueue=[]}},{key:"destroy",value:function(){this.mutationObserver.disconnect(),this.deadQueue=[]}}],[{key:"classifyDead",value:function(e){e._vwo=l(l({},e._vwo),{},{isDeadClick:!0,aux:!0}),e.isDeadClick=!0}}])}());window.VWO.clickWatcher=A;var L=VWO._&&VWO._.ac&&VWO._.ac.eNC;void 0===window.DISABLE_NATIVE_CONSTANTS&&(window.DISABLE_NATIVE_CONSTANTS=!L);var W,P,R,D,I={JSON:{stringify:function(e){var t=this,n=function(e){return"string"==typeof e},i=function(e){return null===e&&"object"===v(e)},r=function(e){return"number"==typeof e&&isNaN(e)},o=function(e){return"number"==typeof e&&!isFinite(e)},a=function(e){return"symbol"===v(e)},s=function(e){return function(e){return void 0===e&&void 0===e}(e)||function(e){return"function"==typeof e}(e)||a(e)},u=function(e){var t=e.split("");return t.pop(),t.join("")};if(!s(e)){if("object"===v(c=e)&&null!==c&&"function"==typeof c.getMonth)return'"'.concat(e.toISOString(),'"');var c;if(function(e){return r(e)||o(e)||i(e)}(e))return"".concat(null);if(!a(e)){var l,d;if(function(e){return function(e){return"number"==typeof e}(e)||n(e)||function(e){return"boolean"==typeof e}(e)}(e))return n(e)?(d='"',l=(l=(l=(l=(l=e.toString()).replace(/\\/g,"\\\\")).replace(/\n/g,"\\n")).replace(/\t/g,"\\t")).replace(/\"/g,'\\"')):d="",l?"".concat(d).concat(l).concat(d):"".concat(d).concat(e).concat(d);if(function(e){return Array.isArray(e)&&"object"===v(e)}(e)){var f="";return e.forEach((function(e){f+=function(e){return r(e)||o(e)||i(e)||s(e)}(e)?t.stringify(null):t.stringify(e),f+=","})),"["+u(f)+"]"}if(function(e){return"object"===v(e)&&null!==e&&!Array.isArray(e)}(e)){var h="";return Object.keys(e).forEach((function(n){var i=e[n],r=s(i);h+=r?"":t.stringify(n)+":"+t.stringify(i)+","})),"{"+u(h)+"}"}}}}}};window.VWO=window.VWO||[],window.VWO._=window.VWO._||{},window.VWO._.nativeConstants=window.VWO._.nativeConstants||(R=function(e,t){try{Object.defineProperty(e,t,{writable:!1})}catch(e){}},D=function(){if(!window.DISABLE_NATIVE_CONSTANTS){if(!document.body)return void(window.DISABLE_NATIVE_CONSTANTS=!0);W=window.document.createElement("iframe"),R(W,"src"),W.setAttribute=function(e,t){},W.style.display="none",W.onload=function(){(P=W.contentWindow).onerror=function(e,t,n,i){window.VWO&&window.VWO._&&window.VWO._.customError&&window.VWO._.customError({msg:e,url:t,lineno:n,colno:i,source:"nativeConstants"})}},document.body.appendChild(W),(P=W.contentWindow)&&R(P.location,"href")}},void 0===window.DISABLE_NATIVE_CONSTANTS?window.DISABLE_NATIVE_CONSTANTS=!0:!1===window.DISABLE_NATIVE_CONSTANTS&&D(),{get:function(e){W&&W.contentWindow||D();var t=P;return t&&!window.DISABLE_NATIVE_CONSTANTS||(t=window),window.VWO.featureInfo&&window.VWO.featureInfo.vwoNative&&I[e]?("JSON"===e&&(I[e].parse=t[e].parse),I[e]):t[e]}});var N=window.VWO._.nativeConstants,M=N,x="ex",F="pr",j="csp",H={FETCH:"fetch",XHR:"xmlhttprequest"},B=function(){return r((function e(){if(n(this,e),window.VWO.errorClickWatcher)return window.VWO.errorClickWatcher}),null,[{key:"markClickAsError",value:function(e){var t=e.map((function(e){var t=f(e.split(":"),2),n=t[0],i=t[1];return{timestamp:parseInt(n,10),id:parseInt(i,10)}}));if(!O.validateLastNErrors(t,3)){var n=Date.now()-performance.timeOrigin,i=_();if(i.length>0){var r=i[i.length-1];r.timeStamp>=n-500&&(r.isErrorClick=!0,r._vwo=l(l({},r._vwo),{},{isErrorClick:!0,aux:!0}))}}}}])}(),q=new B;window.VWO.errorClickWatcher=q;var z,U=parseInt(+new Date/1e3,10),X=function(){return z||(z=VWO.data.ts||U)};function Q(e){var t=X(),n=parseInt(+new Date/1e3,10)-U;return e?t+n:1e3*(t+n)+ +new Date%1e3}function G(e){return 1e3*(X()+(parseInt(e/1e3,10)-U))+ +new Date%1e3}var $=["Script error.","ResizeObserver loop completed with undelivered notifications."],J=N.get("Array"),K=function(){return r((function e(){n(this,e),this.processedData=new J,this.pageErrors=new J,this.nextErrorIndex=0,this.nextPageErrorIndex=0,this.truncationLenth=100}),[{key:"getDataToSend",value:function(){if(this.shouldSendData()){var e=this.processedData.slice(this.nextErrorIndex).join(","),t=this.pageErrors.slice(this.nextPageErrorIndex).join(",");return this.nextErrorIndex=this.processedData.length,this.nextPageErrorIndex=this.pageErrors.length,{er:e,pEr:t}}}},{key:"shouldSendData",value:function(){return this.nextErrorIndex!==this.processedData.length}},{key:"resetData",value:function(){this.processedData=new J,this.pageErrors=new J,this.nextErrorIndex=0,this.nextPageErrorIndex=0}},{key:"processErrorData",value:function(e){var t,n,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;if(!$.some((function(t){return"string"==typeof e[1]&&e[1].toLowerCase().indexOf(t.toLowerCase())>-1}))&&(i||(i=[]),B.markClickAsError(this.processedData),null!==(t=window.VWO.nls)&&void 0!==t&&t.startTime)){var o=e.join("_"),a=i.join("_"),s=r||Math.floor(Q()-(null===(n=window.VWO.nls)||void 0===n?void 0:n.startTime)),u=this.pageErrors.indexOf(o);u>=0?this.processedData.push("".concat(s,":").concat(u)):(u=this.pageErrors.length,this.pageErrors.push(o),i.length?this.processedData.push(["".concat(s,":").concat(u),o,a].join("_")):this.processedData.push(["".concat(s,":").concat(u),o].join("_")))}}}])}();var Y=function(e){var t=document.createElement("div");return t.innerHTML='<a href="'+(e.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")+'">x</a>'),t.firstChild.href},Z=function(){function e(){n(this,e)}return r(e,null,[{key:"patchFetchAPI",value:function(t){var n=window.fetch;window.fetch=function(i,r){var o=n.call(this,i,r);try{var a=Y(e.getFetchURL(i));if(ae.isUrlAllowed(a)){var s=O.getAnonymizedUrl(a),u=O.sanitizeActionData(s),c=r&&r.method||"GET";e.handleResponsePromise(t,o,u,c)}}catch(e){}return o}}},{key:"handleResponsePromise",value:function(e,t,n,i){t.then((function(t){"status"in t&&t.status>=400&&e.processErrorData([H.FETCH,n,t.status||0,i])})).catch((function(t){e.processErrorData([H.FETCH,n,0,i],[O.sanitizeActionData(t.message)])}))}},{key:"getFetchURL",value:function(e){return"object"===v(e)?e.url?e.url:e.toString():e}}])}(),ee=function(){return r((function e(){n(this,e)}),null,[{key:"patchXHRAPI",value:function(e){var t=XMLHttpRequest.prototype.open,n=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.open=function(e,n){try{var i=Y(n),r=O.getAnonymizedUrl(i),o=O.sanitizeActionData(r);this._url=o}catch(e){}this._method=e,t.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){try{ae.isUrlAllowed(this._url)&&(this.addEventListener("error",(function(t){e.processErrorData([H.XHR,this._url,this.status||0,this._method],[O.sanitizeActionData(t.message)])})),this.addEventListener("load",(function(t){this.status>=400&&e.processErrorData([H.XHR,this._url,this.status||0,this._method],[O.sanitizeActionData(t.message)])})))}catch(e){}n.apply(this,arguments)}}}])}();window._vwo_evq=window._vwo_evq||[];var te=window._vwo_evq,ne=window._vwo_ev=window._vwo_ev||function(){"jI"!==arguments[0]?te.push([].slice.call(arguments)):te.unshift(["jI"])};window.VWO._.triggerEvent=window._vwo_ev;var ie="pTLD",re=["co","org","com","net","edu","au","ac"],oe=window.vwo_$||window.$;var ae=function(e){function i(){var e;return n(this,i),(e=t(this,i)).processXHRRequests(),e.addPerformanceObserver(),ee.patchXHRAPI(e),Z.patchFetchAPI(e),e}return u(i,e),r(i,[{key:"processXHRRequests",value:function(){var e=this;performance.getEntriesByType("resource").forEach((function(t){if(!([H.FETCH,H.XHR].indexOf(t.initiatorType)<0)&&i.isUrlAllowed(t.name)&&t.responseStatus>=400){var n,r=G(performance.timeOrigin+t.responseEnd-(null===(n=window.VWO.nls)||void 0===n?void 0:n.startTime)),o=O.getAnonymizedUrl(t.name),a=O.sanitizeActionData(o),s=[t.initiatorType,a,t.responseStatus];e.processErrorData(s,null,r)}}))}},{key:"addPerformanceObserver",value:function(){var e=this,t=new PerformanceObserver((function(t){t.getEntries().forEach((function(t){if(!([H.FETCH,H.XHR].indexOf(t.initiatorType)>-1)&&i.isUrlAllowed(t.name)&&t.responseStatus>=400){var n,r=G(performance.timeOrigin+t.responseEnd-(null===(n=window.VWO.nls)||void 0===n?void 0:n.startTime)),o=O.getAnonymizedUrl(t.name),a=O.sanitizeActionData(o),s=[t.initiatorType,a,t.responseStatus];e.processErrorData(s,null,r)}}))}));t.observe({type:"resource",buffered:!0}),window.addEventListener("beforeunload",(function(){t.disconnect()}))}}],[{key:"isUrlAllowed",value:function(e){var t=O.getCookieDomain(),n=!0;try{n=!/^$/g.test(e)&&!O.containsOurDomain(e)&&function(e){var t,n=e.split("."),i=n.length,r=n[i-2];return r&&-1!==oe.inArray(r,re)?(t=n[i-3]+"."+r+"."+n[i-1],ne(ie,e,t),t):(t=r+"."+n[i-1],ne(ie,e,t),t)}(new URL(e).host)===t}catch(e){}return n}}])}(K),se=function(e){function i(){var e;return n(this,i),(e=t(this,i)).addErrorListener(),e}return u(i,e),r(i,[{key:"addErrorListener",value:function(){var e=this;window.addEventListener("error",(function(t){if(t&&t.message){var n=O.sanitizeActionData(t.message.slice(0,e.truncationLenth));return e.processErrorData([x,n]),!0}})),window.addEventListener("unhandledrejection",(function(t){if(t&&t.reason){var n="Uncaught (in promise) "+t.reason,i=O.sanitizeActionData(n.slice(0,e.truncationLenth));return e.processErrorData([F,i]),!0}})),document.addEventListener("securitypolicyviolation",(function(t){if(t&&t.blockedURI&&ae.isUrlAllowed(t.blockedURI)){var n=O.getAnonymizedUrl(t.blockedURI),i=O.sanitizeActionData(n),r=[j,i,O.sanitizeActionData(t.violatedDirective)],o=[O.sanitizeActionData(t.originalPolicy)];e.processErrorData(r,o)}}))}}])}(K),ue=N.get("JSON"),ce=function(e){function i(){var e;return n(this,i),(e=t(this,i)).patchConsoleAPI(),e}return u(i,e),r(i,[{key:"patchConsoleAPI",value:function(){var e=console.error,t=this;console.error=function(n){try{var i=n;"string"!=typeof i&&(i=ue.stringify(n)),i=O.sanitizeActionData(i.slice(0,t.truncationLenth)),t.processErrorData([i])}catch(e){}e.apply(console,arguments)}}}])}(K),le=!1,de=window.VWO._.listener,fe=void 0!==VWO.v_e,he=function(){function e(){n(this,e),void 0!==VWO.v_e&&VWO.featureInfo.ele&&!le&&this.init()}return r(e,[{key:"init",value:function(){var e=this;de.onEventReceive(C,(function(){var t,n,i,r;(null!==(t=window.VWO)&&void 0!==t&&null!==(n=t.nls)&&void 0!==n&&n.r||null!==(i=window.VWO)&&void 0!==i&&null!==(r=i.nls)&&void 0!==r&&r.hs)&&e.initialize()})),fe&&window.fetcher.getValue("VWO._.initClickWatcher").then((function(t){t&&!le&&e.initialize()}))}},{key:"initialize",value:function(){le||(le=!0,this.exceptionRecorder=new se,this.consoleRecorder=new ce,this.networkRecorder=new ae)}},{key:"sendData",value:function(){var t;if(le&&this.isNewDataAvailable()){var n=this.exceptionRecorder.getDataToSend(),i=this.consoleRecorder.getDataToSend(),r=this.networkRecorder.getDataToSend();if(e.sendErrorOnPageAsEvent(n,i,r),null!==(t=window.VWO.nls)&&void 0!==t&&t.startTime)return e.parseErrorLoggerData(n,i,r)}}},{key:"isNewDataAvailable",value:function(){return this.exceptionRecorder.shouldSendData()||this.consoleRecorder.shouldSendData()||this.networkRecorder.shouldSendData()}},{key:"resetData",value:function(){le&&(this.exceptionRecorder.resetData(),this.consoleRecorder.resetData(),this.networkRecorder.resetData())}}],[{key:"sendErrorOnPageAsEvent",value:function(e,t,n){var i={};e&&e.pEr&&(i.e=e.pEr),t&&t.pEr&&(i.c=t.pEr),n&&n.pEr&&(i.n=n.pEr),Object.keys(i).length>0&&VWO._.phoenixMT&&VWO._.phoenixMT.trigger(window.VWO._.EventsEnum.ERROR_ONPAGE,i)}},{key:"parseErrorLoggerData",value:function(e,t,n){var i=M.get("JSON"),r={error:{e:null==e?void 0:e.er,c:null==t?void 0:t.er,n:null==n?void 0:n.er}};return null!=e&&e.pEr&&(r.pEr=r.pEr||{},r.pEr.e=e.pEr),null!=t&&t.pEr&&(r.pEr=r.pEr||{},r.pEr.c=t.pEr),null!=n&&n.pEr&&(r.pEr=r.pEr||{},r.pEr.n=n.pEr),r.pEr&&(r.pEr=i.stringify(r.pEr)),r.error=i.stringify(r.error),r}}])}();window.VWO.ErrorLogger=new he;window.VWO.ErrorLogger;function ve(e,t){var n=e.median,i=e.p10;if(n<=0)throw new Error("median must be greater than zero");if(i<=0)throw new Error("p10 must be greater than zero");if(i>=n)throw new Error("p10 must be less than the median");if(t<=0)return 1;var r,o,a,s=Math.max(Number.MIN_VALUE,t/n),u=Math.log(s),c=Math.max(Number.MIN_VALUE,i/n),l=-Math.log(c),d=(1-(o=(r=.9061938024368232*u/l)<0?-1:0===r?0:1,a=1/(1+.3275911*(r=Math.abs(r))),o*(1-a*(.254829592+a*(a*(1.421413741+a*(1.061405429*a-1.453152027))-.284496736))*Math.exp(-r*r))))/2;return t<=i?Math.max(.9,Math.min(1,d)):t<=n?Math.max(.5,Math.min(.8999999999999999,d)):Math.max(0,Math.min(.49999999999999994,d))}var pe=/url\(("[^"]*"|'[^']*'|[^)]*)\)/i,we=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);function me(){var e=document.documentElement;return{width:Math.max((null==e?void 0:e.clientWidth)||0,window.innerWidth||0),height:Math.max((null==e?void 0:e.clientHeight)||0,window.innerHeight||0)}}function ge(e,t){var n=Math.max(e.top,0),i=Math.max(e.left,0),r=Math.min(e.bottom,t.height),o=Math.min(e.right,t.width);return r<=n||o<=i?0:(r-n)*(o-i)}function ye(e){var t=pe.exec(e);if(!t)return"";var n=t[1];return 0===n.indexOf('"')||0===n.indexOf("'")?n.slice(1,-1):n}function Ee(e,t){var n={FCP:[3e3,1800,1600,934],SI:[5800,3387,2300,1311],LCP:[4e3,2500,2400,1200],TBT:[600,200,350,150],CLS:[.25,.1,.25,.1]}[e],i={FCP:[1187,7582,603,4251],SI:[2188,15400,831,6380],LCP:[1705,9389,683,8447],TBT:[60,4408,60,1930],CLS:[0,1.3192,0,1.3192]}[e],r=we?0:2,o=n[r],a=n[r+1],s=i[r],u=i[r+1];return t<s?100:t>u?0:100*function(e,t,n){var i=ve({median:t,p10:n},e);return i>.9&&(i+=.05*(i-.9)),Math.floor(100*i)/100}(t,o,a)}var be,Oe=-1,Te=function(e){addEventListener("pageshow",(function(t){t.persisted&&(Oe=t.timeStamp,e(t))}),!0)},Ce=function(){var e=self.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];if(e&&e.responseStart>0&&e.responseStart<performance.now())return e},Ve=function(){var e=Ce();return e&&e.activationStart||0},ke=function(e,t){var n=Ce(),i="navigate";Oe>=0?i="back-forward-cache":n&&(document.prerendering||Ve()>0?i="prerender":document.wasDiscarded?i="restore":n.type&&(i=n.type.replace(/_/g,"-")));return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v4-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:i}},Se=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},_e=function(e,t,n,i){var r,o;return function(a){t.value>=0&&(a||i)&&((o=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=o,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},Ae=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},Le=function(e){document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&e()}))},We=function(e){var t=!1;return function(){t||(e(),t=!0)}},Pe=-1,Re=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},De=function(e){"hidden"===document.visibilityState&&Pe>-1&&(Pe="visibilitychange"===e.type?e.timeStamp:0,Ne())},Ie=function(){addEventListener("visibilitychange",De,!0),addEventListener("prerenderingchange",De,!0)},Ne=function(){removeEventListener("visibilitychange",De,!0),removeEventListener("prerenderingchange",De,!0)},Me=function(){return Pe<0&&(Pe=Re(),Ie(),Te((function(){setTimeout((function(){Pe=Re(),Ie()}),0)}))),{get firstHiddenTime(){return Pe}}},xe=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},Fe=[1800,3e3],je=function(e,t){t=t||{},xe((function(){var n,i=Me(),r=ke("FCP"),o=Se("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(o.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-Ve(),0),r.entries.push(e),n(!0)))}))}));o&&(n=_e(e,r,Fe,t.reportAllChanges),Te((function(i){r=ke("FCP"),n=_e(e,r,Fe,t.reportAllChanges),Ae((function(){r.value=performance.now()-i.timeStamp,n(!0)}))})))}))},He=[.1,.25],Be=0,qe=1/0,ze=0,Ue=function(e){e.forEach((function(e){e.interactionId&&(qe=Math.min(qe,e.interactionId),ze=Math.max(ze,e.interactionId),Be=ze?(ze-qe)/7+1:0)}))},Xe=function(){return be?Be:performance.interactionCount||0},Qe=function(){"interactionCount"in performance||be||(be=Se("event",Ue,{type:"event",buffered:!0,durationThreshold:0}))},Ge=[],$e=new Map,Je=0,Ke=function(){var e=Math.min(Ge.length-1,Math.floor((Xe()-Je)/50));return Ge[e]},Ye=[],Ze=function(e){if(Ye.forEach((function(t){return t(e)})),e.interactionId||"first-input"===e.entryType){var t=Ge[Ge.length-1],n=$e.get(e.interactionId);if(n||Ge.length<10||e.duration>t.latency){if(n)e.duration>n.latency?(n.entries=[e],n.latency=e.duration):e.duration===n.latency&&e.startTime===n.entries[0].startTime&&n.entries.push(e);else{var i={id:e.interactionId,latency:e.duration,entries:[e]};$e.set(i.id,i),Ge.push(i)}Ge.sort((function(e,t){return t.latency-e.latency})),Ge.length>10&&Ge.splice(10).forEach((function(e){return $e.delete(e.id)}))}}},et=function(e){var t=self.requestIdleCallback||self.setTimeout,n=-1;return e=We(e),"hidden"===document.visibilityState?e():(n=t(e),Le(e)),n},tt=[200,500],nt=function(e,t){"PerformanceEventTiming"in self&&"interactionId"in PerformanceEventTiming.prototype&&(t=t||{},xe((function(){var n;Qe();var i,r=ke("INP"),o=function(e){et((function(){e.forEach(Ze);var t=Ke();t&&t.latency!==r.value&&(r.value=t.latency,r.entries=t.entries,i())}))},a=Se("event",o,{durationThreshold:null!==(n=t.durationThreshold)&&void 0!==n?n:40});i=_e(e,r,tt,t.reportAllChanges),a&&(a.observe({type:"first-input",buffered:!0}),Le((function(){o(a.takeRecords()),i(!0)})),Te((function(){Je=Xe(),Ge.length=0,$e.clear(),r=ke("INP"),i=_e(e,r,tt,t.reportAllChanges)})))})))},it=[2500,4e3],rt={},ot=[800,1800],at=function(e){document.prerendering?xe((function(){return at(e)})):"complete"!==document.readyState?addEventListener("load",(function(){return at(e)}),!0):setTimeout(e,0)},st=function(){return[1053520].indexOf(window._vwo_acc_id)>-1},ut=["vwoEventName"],ct=void 0!==VWO.v_e&&VWO.featureInfo&&VWO.featureInfo.wve||st(),lt=window.VWO._.phoenixMT,dt=window.VWO._.listener,ft=window.VWO._.cookies.get("_vwo_uuid"),ht=new(function(){return r((function e(){var t=this;if(n(this,e),ct){if(window.VWO.performanceWatcher)return window.VWO.performanceWatcher;this.lastWebVitalsSent={},this.resources={},this.webVitals={},this.totalBlockingTime=0,this.isTTICalculated=!1,this.isHidden=!1,this.lastLongTask=0,this.lastVisuallyComplete=0,this.finalTBT=0,this.quietWindowTimeout=0,this.inFlightGetRequests=0,this.isDestroyed=!1,this.isSendingInitialMetrics=!1,this.originalPushState=history.pushState,this.originalReplaceState=history.replaceState,this.isHistoryPatched=!1,"PerformanceObserver"in window&&(this.resourceObserver=new PerformanceObserver((function(e){e.getEntries().forEach((function(e){var n;e.duration<0||(n=e.name,!/^https?:\/\//i.test(n))||null!==t.resources&&(t.resources[e.name]=e.startTime+e.duration)}))})),this.paintObserver=new PerformanceObserver((function(e){e.getEntries().forEach((function(e){"first-paint"!==e.name||t.isHidden||(t.paintObserver.disconnect(),t.firstPaint=e.startTime)}))})),this.longTaskObserver=new PerformanceObserver((function(e){e.getEntries().forEach((function(e){e.startTime>t.firstContentfulPaint&&(t.resetQuietWindowTimer(),e.duration>50&&(t.lastLongTask=e.startTime+e.duration,t.totalBlockingTime+=e.duration-50))}))})),this.initGetRequestTracking(),this.initializeWatcher())}}),[{key:"initGetRequestTracking",value:function(){this.originalFetch=window.fetch,this.originalXhrOpen=XMLHttpRequest.prototype.open,this.originalXhrSend=XMLHttpRequest.prototype.send,this.patchFetchAPI(),this.patchXhrAPI()}},{key:"patchFetchAPI",value:function(){var e=this;window.fetch=function(t,n){var i;return"GET"===((null==n||null===(i=n.method)||void 0===i?void 0:i.toUpperCase())||"GET")?(e.inFlightGetRequests++,e.originalFetch.call(this,t,n).finally((function(){e.inFlightGetRequests--}))):e.originalFetch.call(this,t,n)}}},{key:"patchXhrAPI",value:function(){var e=this;XMLHttpRequest.prototype.open=function(t){return this._method=t.toUpperCase(),e.originalXhrOpen.apply(this,arguments)},XMLHttpRequest.prototype.send=function(){return"GET"===this._method&&(e.inFlightGetRequests++,this.addEventListener("loadend",(function(){e.inFlightGetRequests--})),this.addEventListener("error",(function(){e.inFlightGetRequests--})),this.addEventListener("abort",(function(){e.inFlightGetRequests--}))),e.originalXhrSend.apply(this,arguments)}}},{key:"initializeWatcher",value:function(){var e=this;this.resourceObserver.observe({type:"resource",buffered:!0}),this.paintObserver.observe({type:"paint",buffered:!0}),lt.on(window.VWO._.EventsEnum.PERFORMANCE,(function(t){if(e.isSendingInitialMetrics)e.isSendingInitialMetrics=!1;else{var n=t.vwoEventName,i=function(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}(t,ut);t._vwo={eventDataConfig:a({},ft,i)},n||(t.vwoEventName=window.VWO._.EventsEnum.PERFORMANCE)}}),{syncToDataLayer:!0}),this.initLoadTimingListeners(),this.initWebVitalsListeners(),this.initListeners()}},{key:"initLoadTimingListeners",value:function(){var e=this;if("loading"===document.readyState)window.addEventListener("DOMContentLoaded",(function(){var t={dcl:parseFloat(performance.now().toFixed(3))};e.domContentLoaded=performance.now(),lt.trigger(window.VWO._.EventsEnum.PERFORMANCE,t)}));else{var t={dcl:parseFloat(performance.getEntriesByType("navigation")[0].domContentLoadedEventStart.toFixed(3))};this.domContentLoaded=performance.getEntriesByType("navigation")[0].domContentLoadedEventStart,lt.trigger(window.VWO._.EventsEnum.PERFORMANCE,t)}if("complete"===document.readyState){this.pageLoad=performance.getEntriesByType("navigation")[0].loadEventStart;var n={pl:parseFloat(this.pageLoad.toFixed(3))};lt.trigger(window.VWO._.EventsEnum.PERFORMANCE,n)}else window.addEventListener("load",(function(){e.pageLoad=performance.now();var t={pl:parseFloat(e.pageLoad.toFixed(3))};lt.trigger(window.VWO._.EventsEnum.PERFORMANCE,t)}))}},{key:"initWebVitalsListeners",value:function(){var e,t,n=this;e=function(e){n.isDestroyed||(n.webVitals.cls=parseFloat(e.value.toFixed(3)))},t=(t={reportAllChanges:!0})||{},je(We((function(){var n,i=ke("CLS",0),r=0,o=[],a=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=o[0],n=o[o.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,o.push(e)):(r=e.value,o=[e])}})),r>i.value&&(i.value=r,i.entries=o,n())},s=Se("layout-shift",a);s&&(n=_e(e,i,He,t.reportAllChanges),Le((function(){a(s.takeRecords()),n(!0)})),Te((function(){r=0,i=ke("CLS",0),n=_e(e,i,He,t.reportAllChanges),Ae((function(){return n()}))})),setTimeout(n,0))}))),nt((function(e){n.isDestroyed||(n.webVitals.inp=parseFloat(e.value.toFixed(3)))}),{reportAllChanges:!0}),function(e,t){t=t||{},xe((function(){var n,i=Me(),r=ke("LCP"),o=function(e){t.reportAllChanges||(e=e.slice(-1)),e.forEach((function(e){e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-Ve(),0),r.entries=[e],n())}))},a=Se("largest-contentful-paint",o);if(a){n=_e(e,r,it,t.reportAllChanges);var s=We((function(){rt[r.id]||(o(a.takeRecords()),a.disconnect(),rt[r.id]=!0,n(!0))}));["keydown","click"].forEach((function(e){addEventListener(e,(function(){return et(s)}),{once:!0,capture:!0})})),Le(s),Te((function(i){r=ke("LCP"),n=_e(e,r,it,t.reportAllChanges),Ae((function(){r.value=performance.now()-i.timeStamp,rt[r.id]=!0,n(!0)}))}))}}))}((function(e){n.isDestroyed||(n.webVitals.lcp=parseFloat(e.value.toFixed(3)))}),{reportAllChanges:!0}),function(e,t){t=t||{};var n=ke("TTFB"),i=_e(e,n,ot,t.reportAllChanges);at((function(){var r=Ce();r&&(n.value=Math.max(r.responseStart-Ve(),0),n.entries=[r],i(!0),Te((function(){n=ke("TTFB",0),(i=_e(e,n,ot,t.reportAllChanges))(!0)})))}))}((function(e){if(!n.isDestroyed){n.timeToFirstByte=e.value;var t={ttfb:parseFloat(n.timeToFirstByte.toFixed(3))};lt.trigger(window.VWO._.EventsEnum.PERFORMANCE,t)}})),je((function(e){if(!n.isDestroyed){n.firstContentfulPaint=e.value;var t={fcp:parseFloat(n.firstContentfulPaint.toFixed(3))};lt.trigger(window.VWO._.EventsEnum.PERFORMANCE,t),n.lastLongTask=n.firstContentfulPaint,n.longTaskObserver.observe({type:"longtask",buffered:!0}),n.resetQuietWindowTimer()}}))}},{key:"initListeners",value:function(){var e=this;window.addEventListener("beforeunload",(function(){!e.isTTICalculated&&e.firstContentfulPaint&&(e.webVitals.tti=parseFloat(e.firstContentfulPaint.toFixed(3)),e.webVitals.tbt=0),e.triggerWebVitals(),e.destroy()})),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&(e.isHidden=!0,e.triggerWebVitals())})),this.setupHistoryAPIOverride(),dt.onEventReceive(window.VWO._.EventsEnum.RETRACK_VISITOR,(function(){e.resetData()}))}},{key:"setupHistoryAPIOverride",value:function(){if(!this.isHistoryPatched&&window.history){var e=this;history.pushState=function(t,n,i){return e.handlePreUrlChange(window.location.href,null==i?void 0:i.toString()),e.originalPushState.apply(this,arguments)},history.replaceState=function(t,n,i){return e.handlePreUrlChange(window.location.href,null==i?void 0:i.toString()),e.originalReplaceState.apply(this,arguments)},this.isHistoryPatched=!0}}},{key:"handlePreUrlChange",value:function(e,t){try{if(!t||e===t)return;this.triggerWebVitals(),this.resetData()}catch(e){}}},{key:"triggerWebVitals",value:function(){this.isDestroyed||(this.webVitals.si||this.speedIndexCalculation(),this.performanceScoreCalculation(),this.areWebVitalsDifferent()&&(this.lastWebVitalsSent=l({},this.webVitals),lt.trigger(window.VWO._.EventsEnum.PERFORMANCE,l({},this.webVitals))))}},{key:"areWebVitalsDifferent",value:function(){return!this.lastWebVitalsSent||(this.webVitals.cls!==this.lastWebVitalsSent.cls||this.webVitals.inp!==this.lastWebVitalsSent.inp||this.webVitals.lcp!==this.lastWebVitalsSent.lcp||this.webVitals.si!==this.lastWebVitalsSent.si||this.webVitals.score!==this.lastWebVitalsSent.score||this.webVitals.tti!==this.lastWebVitalsSent.tti||this.webVitals.tbt!==this.lastWebVitalsSent.tbt)}},{key:"speedIndexCalculation",value:function(){if(!this.isDestroyed&&void 0===this.webVitals.si&&this.firstContentfulPaint){var e=0,t=null,n=performance.now();if(null!==this.resources&&(e=Math.max.apply(null,Object.keys(this.resources).map((function(e){return this.resources[e]}),this)))>this.lastVisuallyComplete&&n-e>1e3){t=function(e){for(var t,n,i=[],r=document.getElementsByTagName("*"),o=me(),a=0;a<r.length;a++){var s=r[a],u="";if(t="img",n=void 0,(null===(n=s.nodeName)||void 0===n?void 0:n.toLowerCase())===t&&(u=s.currentSrc||s.src),!u){var c=getComputedStyle(s).getPropertyValue("background-image");c&&(u=ye(c))}if(u){var l=0===u.indexOf("data:image")?0:e[u];if(void 0!==l){var d=ge(s.getBoundingClientRect(),o);d>0&&i.push({time:l,area:d})}}}return i}(this.resources),this.resources=null,this.lastVisuallyComplete=e;var i=null===t?0:function(e,t){var n,i=me(),r=i.width*i.height/10,a=r*e,s=o(t);try{for(s.s();!(n=s.n()).done;){var u=n.value,c=u.time,l=u.area;r+=l,a+=l*Math.max(c,e)}}catch(e){s.e(e)}finally{s.f()}return 0===r?0:a/r}(this.firstContentfulPaint||this.firstPaint,t);this.webVitals.si=parseFloat(i.toFixed(3))}}}},{key:"performanceScoreCalculation",value:function(){var e={FCP:.1,SI:.1,LCP:.25,TBT:.3,CLS:.25},t={FCP:this.firstContentfulPaint,SI:this.webVitals.si,LCP:this.webVitals.lcp,TBT:this.finalTBT,CLS:this.webVitals.cls},n=0;for(var i in t)if(void 0===t[i])return;for(var r in t){n+=Ee(r,t[r])*e[r]}this.webVitals.score=parseFloat(n.toFixed(3))}},{key:"sendInitialPerformanceMetrics",value:function(){if(!this.isSendingInitialMetrics){this.isSendingInitialMetrics=!0;var e={fcp:this.firstContentfulPaint,ttfb:this.timeToFirstByte,dcl:this.domContentLoaded,pl:this.pageLoad},t=Object.keys(e).reduce((function(t,n){var i=e[n];return void 0!==i&&(t[n]=parseFloat(i.toFixed(3))),t}),{});Object.keys(t).length>0&&window.VWO._.phoenixMT.trigger(window.VWO._.EventsEnum.PERFORMANCE,t)}}},{key:"resetQuietWindowTimer",value:function(){var e=this;this.quietWindowTimeout&&clearTimeout(this.quietWindowTimeout),this.quietWindowTimeout=window.setTimeout((function(){if(!e.isTTICalculated&&e.inFlightGetRequests<3){var t={tti:parseFloat(e.lastLongTask.toFixed(3)),tbt:parseFloat(e.totalBlockingTime.toFixed(3))};e.finalTBT=parseFloat(e.totalBlockingTime.toFixed(3)),lt.trigger(window.VWO._.EventsEnum.PERFORMANCE,t),e.isTTICalculated=!0,e.longTaskObserver.disconnect(),e.speedIndexCalculation()}}),5e3)}},{key:"resetData",value:function(){ct&&(this.webVitals={},this.lastWebVitalsSent={},this.resources={},this.totalBlockingTime=0,this.isTTICalculated=!1,this.isHidden=!1,this.lastLongTask=0,this.lastVisuallyComplete=0,this.finalTBT=0,this.firstPaint=void 0,this.firstContentfulPaint=void 0,this.timeToFirstByte=void 0,this.domContentLoaded=void 0,this.pageLoad=void 0,this.quietWindowTimeout&&(clearTimeout(this.quietWindowTimeout),this.quietWindowTimeout=0),this.inFlightGetRequests=0,this.isDestroyed||(this.destroy(),this.isDestroyed=!0))}},{key:"destroy",value:function(){this.resourceObserver.disconnect(),this.paintObserver.disconnect(),this.longTaskObserver.disconnect(),this.resources=null,this.isHistoryPatched&&(history.pushState=this.originalPushState,history.replaceState=this.originalReplaceState,this.isHistoryPatched=!1),this.originalFetch&&(window.fetch=this.originalFetch),this.originalXhrOpen&&(XMLHttpRequest.prototype.open=this.originalXhrOpen),this.originalXhrSend&&(XMLHttpRequest.prototype.send=this.originalXhrSend)}}])}());window.VWO.performanceWatcher=ht}();

 });
})();

</script><link rel="stylesheet" type="text/css" href="./Bubble_files/6281.14c9c3a9.css"><link rel="stylesheet" type="text/css" href="./Bubble_files/6538.a1cc8412.css"><script id="funnel-relay-installer" data-customer-id="merriamwebster_6e5b0_encyclopediabritannica" data-property-id="PROPERTY_ID" data-autorun="true" async="true" src="./Bubble_files/merriamwebster_6e5b0_encyclopediabritannica.js.download"></script><link rel="stylesheet" type="text/css" href="./Bubble_files/2888.0e9ba5c1.css"><style type="text/css">.transform-component-module_wrapper__SPB86 {
  position: relative;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  overflow: hidden;
  -webkit-touch-callout: none; /* iOS Safari */
  -webkit-user-select: none; /* Safari */
  -khtml-user-select: none; /* Konqueror HTML */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* Internet Explorer/Edge */
  user-select: none;
  margin: 0;
  padding: 0;
  transform: translate3d(0, 0, 0);
}
.transform-component-module_content__FBWxo {
  display: flex;
  flex-wrap: wrap;
  width: -moz-fit-content;
  width: fit-content;
  height: -moz-fit-content;
  height: fit-content;
  margin: 0;
  padding: 0;
  transform-origin: 0% 0%;
}
.transform-component-module_content__FBWxo img {
  pointer-events: none;
}
</style></head>

<body data-leg="C" class="new-topic topic-desktop first-page-true user-ANONYMOUS    md-desktop    leg-c " style="height: unset;">












    
    
        







<script id="json-navbar-info" type="application/json">
{"topSectionLinks":[{"title":"Ask the Chatbot","url":"/chatbot","navbarId":"CHATBOT"},{"title":"Games & Quizzes","url":"/quiz/browse","navbarId":"QUIZZES"},{"title":"History & Society","url":"/History-Society","navbarId":"HISTORY"},{"title":"Science & Tech","url":"/Science-Tech","navbarId":"SCIENCE"},{"title":"Biographies","url":"/Biographies","navbarId":"BIOS"},{"title":"Animals & Nature","url":"/Animals-Nature","navbarId":"ANIMALS"},{"title":"Geography & Travel","url":"/Geography-Travel","navbarId":"GEOGRAPHY"},{"title":"Arts & Culture","url":"/Arts-Culture","selected":true,"navbarId":"ART"},{"title":"ProCon","url":"/procon","navbarId":"PROCON"},{"title":"Money","url":"/money","navbarId":"MONEY"},{"title":"Videos","url":"/videos","navbarId":"VIDEOS"}],"selectedSuperCategory":{"id":2,"title":"Arts & Culture","url":"Arts-Culture","description":"Explore arts and culture; entertainment and pop culture, actors, comics, dance, film, food, music, theatre, tv; visual arts, architecture, fashion, painting, photography, sculpture; literature, fiction, nonfiction, plays, poetry, short story; sports and recreation","keywords":"entertainment and pop culture, actors, comics, dance, film, food, music, theatre, tv; visual arts, architecture, fashion, painting, photography, sculpture; literature, fiction, nonfiction, plays, poetry, short story; sports and recreation","classId":"ART","sortOrder":6},"selectedNavbarLink":{"title":"Arts & Culture","url":"/Arts-Culture","selected":true,"navbarId":"ART"}}
</script>









<script id="json-hamburger-menu" type="application/json">
{"britannicaMenu1":[{"title":"Home","url":"/"},{"title":"History & Society","url":"/History-Society"},{"title":"Science & Tech","url":"/Science-Tech"},{"title":"Biographies","url":"/Biographies"},{"title":"Animals & Nature","url":"/Animals-Nature"},{"title":"Geography & Travel","url":"/Geography-Travel"},{"title":"Arts & Culture","url":"/Arts-Culture"},{"title":"ProCon","url":"/procon"},{"title":"Money","url":"/money"}],"britannicaMenu2":[{"title":"Games & Quizzes","url":"/quiz/browse"},{"title":"Videos","url":"/videos"},{"title":"On This Day","url":"/on-this-day"},{"title":"One Good Fact","url":"/one-good-fact"},{"title":"Dictionary","url":"/dictionary"},{"title":"New Articles","url":"/new-articles"}],"browseByCategory":[{"title":{"id":5,"title":"History & Society","url":"/History-Society"},"links":[{"title":"Lifestyles & Social Issues","url":"/browse/Lifestyles-Social-Issues"},{"title":"Philosophy & Religion","url":"/browse/Philosophy-Religion"},{"title":"Politics, Law & Government","url":"/browse/Politics-Law-Government"},{"title":"World History","url":"/browse/World-History"}]},{"title":{"id":6,"title":"Science & Tech","url":"/Science-Tech"},"links":[{"title":"Health & Medicine","url":"/browse/Health-Medicine"},{"title":"Science","url":"/browse/Science"},{"title":"Technology","url":"/browse/Technology"}]},{"title":{"id":3,"title":"Biographies","url":"/Biographies"},"links":[{"title":"Browse Biographies","url":"/browse/biographies"}]},{"title":{"id":1,"title":"Animals & Nature","url":"/Animals-Nature"},"links":[{"title":"Birds, Reptiles & Other Vertebrates","url":"/browse/Birds-Reptiles-Vertebrates"},{"title":"Bugs, Mollusks & Other Invertebrates","url":"/browse/Bugs-Mollusks-Invertebrates"},{"title":"Environment","url":"/browse/Environment"},{"title":"Fossils & Geologic Time","url":"/browse/Fossil-Geologic-Time"},{"title":"Mammals","url":"/browse/Mammals"},{"title":"Plants","url":"/browse/Plants"}]},{"title":{"id":4,"title":"Geography & Travel","url":"/Geography-Travel"},"links":[{"title":"Geography & Travel","url":"/browse/Geography-Travel"}]},{"title":{"id":2,"title":"Arts & Culture","url":"/Arts-Culture"},"links":[{"title":"Entertainment & Pop Culture","url":"/browse/Entertainment-Pop-Culture"},{"title":"Literature","url":"/browse/Literature"},{"title":"Sports & Recreation","url":"/browse/Sports-Recreation"},{"title":"Visual Arts","url":"/browse/Visual-Arts"}]}],"browseByFeature":[{"title":"Image Galleries","url":"/gallery/browse"},{"title":"Podcasts","url":"/podcasts"},{"title":"Summaries","url":"/summary"},{"title":"Top Questions","url":"/question"}],"moreFromBritannica":[{"title":"Britannica Kids","url":"https://kids.britannica.com/","newTab":true}],"menuType":"DEFAULT"}
</script>

<header id="header" class="bg-navy-dark">
    <div class="global-nav-top-bar">
        <div class="grid gx-0 h-100 justify-content-between align-items-center container-lg mx-auto p-0 position-relative">
            <div class="d-flex align-items-center">
                <button class="d-flex align-items-center justify-self-start js-toggle js-toggle-hamburger btn btn-link link-white btn-sm rounded-0 p-10" aria-label="Explore" fdprocessedid="kt44cm">
                    <div class="hamburger-tooltip">
                        <em class="material-icons d-inline-block font-24" id="nav-toggle" data-icon="menu"></em>
                    </div>
                    <em class="material-icons d-inline-block font-24 global-nav-search-icon" id="nav-search-icon" data-icon="search"></em>
                    </button>
                <a href="https://www.britannica.com/" class="d-flex align-items-center justify-content-center ml-10">
                            






































<img loading="lazy" src="./Bubble_files/MendelNewThistleLogo.png" alt="Encyclopedia Britannica" class="global-nav-logo global-nav-logo-left">
</a>
                    <div class="global-nav-top-search-bar global-nav-top-search-container global-nav-search-container" id="global-nav-top-search-bar">
                    <form method="get" action="https://www.britannica.com/search" id="global-nav-search" class="md-search-form m-0 global-nav-search-bar-small">
    <div class="search-box position-relative col-100">
        <label class="sr-only" for="global-nav-search-query">Search Britannica</label>
        <input name="query" id="__6fccab39-3edd-414d-aeec-c69cab0d35f9" placeholder="Search Britannica..." class="form-control form-control-lg rounded-lg font-16 search-query pl-20 pr-70 shadow-sm" maxlength="200" autocomplete="off" aria-label="Search Britannica">
        <button class="search-reset-btn btn btn-link px-10 position-absolute top-0 h-100 d-none" type="reset">
            <em class="material-icons" data-icon="close"></em>
        </button>
        <button class="search-submit btn btn-link text-blue px-10 position-absolute top-0 right-0 h-100" type="submit" disabled="">
            <span class="sr-only">Click here to search</span>
            <em class="material-icons search-icon" data-icon="search"></em>
        </button>
        </div>
</form>
</div>
            </div>

            <a href="https://www.britannica.com/" aria-label="Home" class="d-flex align-items-center justify-content-center">
                        






































<img loading="lazy" src="./Bubble_files/MendelNewThistleLogo.png" alt="Encyclopedia Britannica" class="global-nav-center global-nav-logo non-homepage-logo">
</a>
                    <form method="get" action="https://www.britannica.com/search" id="global-nav-search" class="md-search-form m-0 global-nav-search-bar-small global-nav-center search global-nav-center-search-container">
    <div class="search-box position-relative col-100">
        <label class="sr-only" for="global-nav-search-query">Search Britannica</label>
        <input name="query" id="__e9f158a6-f765-4e3e-9e5c-8d5f33b75a22" placeholder="Search Britannica..." class="form-control form-control-lg rounded-lg font-16 search-query pl-20 pr-70 shadow-sm" maxlength="200" autocomplete="off" aria-label="Search Britannica">
        <button class="search-reset-btn btn btn-link px-10 position-absolute top-0 h-100 d-none" type="reset">
            <em class="material-icons" data-icon="close"></em>
        </button>
        <button class="search-submit btn btn-link text-blue px-10 position-absolute top-0 right-0 h-100" type="submit" disabled="">
            <span class="sr-only">Click here to search</span>
            <em class="material-icons search-icon" data-icon="search"></em>
        </button>
        </div>
</form>
<div class="col-35 col-sm-auto text-right order-3 mr-lg-15 align-items-center d-flex justify-content-end">
                <div class="d-none d-md-inline-block">
                            <span class="marketing-HEADER_SUBSCRIPTION_DESKTOP2 marketing-content" data-marketing-id="HEADER_SUBSCRIPTION_DESKTOP2"><a href="https://premium.britannica.com/premium-membership/?utm_source=premium&amp;utm_medium=global-nav&amp;utm_campaign=evergreen-cap" class="subscribe-link btn btn-sm btn-orange py-5 mr-10" target="_blank" rel="noopener">
   SUBSCRIBE
</a></span></div>
                        <div class="d-inline-block d-md-none mr-5 mr-sm-10">
                            <span class="marketing-HEADER_SUBSCRIPTION_MOBILE marketing-content" data-marketing-id="HEADER_SUBSCRIPTION_MOBILE"><a href="https://premium.britannica.com/premium-membership/?utm_source=premium&amp;utm_medium=global-nav-mobile&amp;utm_campaign=evergreen" class="subscribe-link btn btn-xs btn-orange p-5" target="_blank" rel="noopener">
   SUBSCRIBE
</a></span></div>
                        <button class="js-toggle-user-dropdown js-toggle btn btn-sm btn-link link-white rounded-0 px-md-15 pl-5 pr-5" fdprocessedid="wk15f">
                            <span class="d-none d-md-inline-block mr-5">Login</span>
                            <em class="material-icons d-inline-block d-md-none font-16 font-sm-20" data-icon="account_circle"></em>
                            <div class="d-none dropdown-menu-subscription-link">https://premium.britannica.com/premium-membership/?utm_source=premium&amp;utm_medium=nav-login-box&amp;utm_campaign=evergreen</div>
                            <em aria-label="" class="material-icons inactive-icon d-inline-block font-18" data-icon="keyboard_arrow_down"></em>
	<em aria-label="" class="material-icons active-icon d-inline-block font-18" data-icon="keyboard_arrow_up"></em>
	</button>
                    </div>
        </div>
    </div>

    <div class="d-none hamburger-menu-subscription-link"><div class="marketing-HAMBURGER_MENU_CTA marketing-content" data-marketing-id="HAMBURGER_MENU_CTA"><a href="https://premium.britannica.com/premium-membership/?utm_source=premium&amp;utm_medium=hamburger-menu&amp;utm_campaign=evergreen" class="subscribe-link btn btn-sm btn-orange py-5" target="_blank">
  SUBSCRIBE
</a></div></div>
    <div id="global-nav-react"></div>
</header>
<div class="bg-navy-dark">
        <div class="container-lg p-0 d-flex justify-content-center global-nav-categories-bar overflow-hidden">
            





















































































<div class="slider js-slider position-relative d-inline-flex align-items-center mw-100 global-nav-slider mb-5 category-snap-slider initialized">
    <div class="slider-container js-slider-container overflow-hidden d-flex font-14 text-nowrap mx-5 rw-slider rw-prev-disabled">
            
    
		
		
		
		
		
		
		
		
		
		
		

    <div class="rw-track"><a class="nav-bar-category mx-5 category-link-CHATBOT position-relative rw-slide" href="https://www.britannica.com/chatbot" style="vertical-align: inherit;"> <em class="material-icons" data-icon="auto_awesome"></em>
                                <span>Ask the Chatbot</span>
                            </a><a class="nav-bar-category mx-5 category-link-QUIZZES rw-slide" href="https://www.britannica.com/quiz/browse" style="vertical-align: inherit;"> Games &amp; Quizzes</a><a class="nav-bar-category mx-5 category-link-HISTORY rw-slide" href="https://www.britannica.com/History-Society" style="vertical-align: inherit;"> History &amp; Society</a><a class="nav-bar-category mx-5 category-link-SCIENCE rw-slide" href="https://www.britannica.com/Science-Tech" style="vertical-align: inherit;"> Science &amp; Tech</a><a class="nav-bar-category mx-5 category-link-BIOS rw-slide" href="https://www.britannica.com/Biographies" style="vertical-align: inherit;"> Biographies</a><a class="nav-bar-category mx-5 category-link-ANIMALS rw-slide" href="https://www.britannica.com/Animals-Nature" style="vertical-align: inherit;"> Animals &amp; Nature</a><a class="nav-bar-category mx-5 category-link-GEOGRAPHY rw-slide" href="https://www.britannica.com/Geography-Travel" style="vertical-align: inherit;"> Geography &amp; Travel</a><a class="nav-bar-category mx-5 category-link-ART selected rw-slide" href="https://www.britannica.com/Arts-Culture" style="vertical-align: inherit;"> Arts &amp; Culture</a><a class="nav-bar-category mx-5 category-link-PROCON rw-slide" href="https://www.britannica.com/procon" style="vertical-align: inherit;"> ProCon</a><a class="nav-bar-category mx-5 category-link-MONEY rw-slide" href="https://www.britannica.com/money" style="vertical-align: inherit;"> Money</a><a class="nav-bar-category mx-5 category-link-VIDEOS rw-slide" href="https://www.britannica.com/videos" style="vertical-align: inherit;"> Videos</a></div></div>

    

    

    

    <button disabled="" class="prev-button js-prev-button position-absolute btn btn-circle shadow btn-blue rw-disabled" aria-label="Previous">
        <span class="material-icons md-24" data-icon="keyboard_arrow_left"></span>
    </button>
    <button class="next-button js-next-button position-absolute btn btn-circle shadow  btn-blue " aria-label="Next" fdprocessedid="0t4q2">
        <span class="material-icons md-24" data-icon="keyboard_arrow_right"></span>
    </button>
</div>

</div>
    </div>

    


<main class="">

    

    <div class="md-page-wrapper">

        

        <div id="content" class="md-content">

            
                
                    <div class="md-article-container template-desktop">
		<div class="infinite-scroll-container article last">
		<script>
    Object.assign( window.Mendel.config, {
        
        "infiniteScrollList": [{"p":1,"t":2216741},{"p":3,"t":585115},{"p":1,"t":159351},{"p":2,"t":552397},{"p":1,"t":585127},{"p":1,"t":585098},{"p":1,"t":382463},{"p":12,"t":49594},{"p":1,"t":113885},{"p":1,"t":1452363}],
        "sequence": 1,
        "topics": {}
    });
</script>

<article class="article-content container-lg qa-content px-0 pt-0 pb-40 py-lg-20 content " data-topic-id="2216741">
    <div class="grid gx-0">

        <div class="col-auto">
            




































































<div class="topic-left-rail md-article-drawer position-relative d-flex border-right-sm border-left-sm open">
    <div class="drawer d-flex flex-column open">
        
    <div class="left-rail-section-content">

        

        

            <div class="topic-left-rail-header text-truncate bg-gray-50 position-relative text-right d-flex align-items-center">
                <div class="tlr-title px-20 py-15 text-left">
                    <em aria-label="" class="material-icons text-gray-400 d-lg-none" data-icon="toc"></em>
	
                    <a class="font-serif font-weight-bold text-black link-blue" href="https://www.britannica.com/topic/bubble-tea"> bubble tea</a>
		
                </div>

                <button aria-label="Close" class="js-sections-close-button btn-link btn-sm btn d-lg-none position-absolute top-0 p-10 right-0">
                    <em aria-label="" class="material-icons font-26" data-icon="close"></em>
	
                </button>
            </div>
        

        

        <div class="section-content pl-10 pr-20 pl-sm-50 pr-sm-60 pl-lg-5 pr-lg-10 pt-10 pt-lg-0 bg-gray-50 ">
            <div class="toc mb-20">
              
                <div class="font-serif font-14 font-weight-bold mx-15 mb-15 mt-20">
                    Table of Contents
                </div>
              

                
                    
                    
                        <span class="toc-extra-link selected link-gray-900 mt-15">
                            Introduction
                        </span>
                    
                    
                

                

                
                <a class="toc-extra-link link-gray-900" href="https://www.britannica.com/topic/bubble-tea/additional-info"> References &amp; Edit History</a>
		
                

                
                <a class="toc-extra-link link-gray-900" href="https://www.britannica.com/facts/bubble-tea"> Quick Facts &amp; Related Topics</a>
		
                
            </div>

            
                <div class="tlr-media-slider pb-10 mb-30">
                    <a class="section-header link-gray-900 font-serif font-14 font-weight-bold mb-10 mx-10" href="https://www.britannica.com/topic/bubble-tea/images-videos"> Images</a>
		

                    



















































<div class="slider js-slider position-relative d-inline-flex align-items-center mw-100 initialized">
    <div class="slider-container js-slider-container overflow-hidden d-flex text-nowrap ml-15 rw-slider">
            
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                    
    <div class="rw-track"><a href="https://cdn.britannica.com/43/236443-050-350513F6/Five-glasses-of-boba-with-different-colors-and-flavors.jpg" data-href="/media/1/2216741/273248" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/Five-glasses-of-boba-with-different-colors-and-flavors.jpg" alt="bubble tea" height="50">
    


                                        </a><a href="https://cdn.britannica.com/27/131327-050-8EDFAF73/tapioca.jpg" data-href="/media/1/2216741/273249" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/tapioca.jpg" alt="Pearled tapioca balls" height="50">
    


                                        </a></div></div>

    

    

    

    <button class="prev-button js-prev-button position-absolute btn btn-circle shadow  btn-blue " aria-label="Previous">
        <span class="material-icons md-24" data-icon="keyboard_arrow_left"></span>
    </button>
    <button class="next-button js-next-button position-absolute btn btn-circle shadow  btn-blue " aria-label="Next">
        <span class="material-icons md-24" data-icon="keyboard_arrow_right"></span>
    </button>
</div>

                </div>
            

            

            

            

            

        </div>

    </div>


    </div>
    <button class="drawerToggle btn position-sticky border btn-xs btn-white btn-circle rounded-sm d-none d-lg-flex " type="button" aria-label="Toggle Drawer">
        <em aria-label="" class="material-icons font-18 text-blue" data-icon="keyboard_arrow_left"></em>
	
    </button>
</div>

</div>

        <div class="col">
            <div class="h-100 ml-0 ">
                <div class="h-100 grid gx-0 ">
                    <div class="h-100 col-sm ">
                        <div class="h-100 infinite-pagination-container d-flex flex-column position-relative">
                            <div class="position-absolute top-0 h-100 w-100">
                                


































<div class="toc-sticky-header d-none d-lg-none bg-gray-50 px-10 px-sm-30 position-sticky w-100">
	<div class="toc-sticky-header-inner-container align-items-center d-flex mx-auto h-100 w-100">
		





































    
		
			<button class="d-flex d-lg-none btn btn-sm btn-white text-blue border-2 border-gray-100 gtm-mobile-toc-header-button js-sections-button d-lg-none p-10">
				<em aria-label="" class="material-icons my-n5 md-icon" data-icon="toc"></em>
	
					Contents
			</button>
    
    



		

		<div class="header-ai-simplify-button-placeholder"></div>
		<button class="ai-ask-button btn btn-sm border-2 btn-outline-red-400 border-red-400 mr-0 mr-lg-10 ml-5 ml-sm-10 ml-lg-0 p-10 px-sm-5 px-md-10 js-header-ai-ask-button">
    Ask the Chatbot a Question
	</button>
	</div>
</div>
</div>

                            




































	
	
		
	


<div class="grey-box w-100 grey-box-top
			grey-box-bottom">
	<div class="grey-box-content mx-auto w-100">
		









































		
			
			

			
				<script type="application/ld+json">
				{
					"@context" : "https://schema.org",
					"@type" : "BreadcrumbList",
					"itemListElement" :
					[
						
					
					{
					"@type" : "ListItem",
					"position" : 1,
					"item" :
					{
					"@id" : "https://www.britannica.com/browse/Entertainment-Pop-Culture",
					"name": "Entertainment &amp; Pop Culture"
					}
					}
				
					,
					{
					"@type" : "ListItem",
					"position" : 2,
					"item" :
					{
					"@id" : "https://www.britannica.com/browse/Food",
					"name": "Food"
					}
					}
				
					]
				}
				</script>
			

			<nav class="breadcrumb mt-20">
				
				
					<span class="breadcrumb-item ">
						
							
							
								<a class="link-gray-600" href="https://www.britannica.com/browse/Entertainment-Pop-Culture"> Entertainment &amp; Pop Culture</a>
		
							
						
					</span>
				
					<span class="breadcrumb-item ">
						
							
							
								<a class="link-gray-600" href="https://www.britannica.com/browse/Food"> Food</a>
		
							
						
					</span>
				
			</nav>
		
		

<div class="page2ref-true topic-content topic-type-REGULAR" data-student-article="false">

        







<script class="page-description-json" type="application/json">
{
	"url": "/topic/bubble-tea",
    "shareUrl": "https://www.britannica.com/topic/bubble-tea",
    "browserTitle": "Bubble tea | Definition, Origins, Types, Ingredients, & Health Benefits",
    "firstTopicPage": true,
    "topicId":2216741
    }
</script>

<div class="reading-channel">

            <div class="desktop-header-image module-spacing">
			


































<figure class="md-assembly m-0 mb-20 mb-md-0 card card-borderless print-false" data-assembly-id="13684" data-asm-type="image">
    <div class="md-assembly-wrapper card-media " data-type="image">
        <a style="min-height: 160px;" href="https://cdn.britannica.com/43/236443-050-350513F6/Five-glasses-of-boba-with-different-colors-and-flavors.jpg" class="gtm-assembly-link position-relative d-flex align-items-center justify-content-center media-overlay-link card-media" data-href="/media/1/2216741/273248">
            <picture>
                <source media="(min-width: 680px)" srcset="https://cdn.britannica.com/43/236443-050-350513F6/Five-glasses-of-boba-with-different-colors-and-flavors.jpg?w=300">
                <img src="./Bubble_files/Five-glasses-of-boba-with-different-colors-and-flavors(1).jpg" alt="bubble tea" loading="eager">
            </picture>
            <button class="magnifying-glass btn btn-circle position-absolute shadow btn-white top-10 right-10" aria-label="Zoom in" fdprocessedid="6v39hs">
                <em class="material-icons link-blue" data-icon="zoom_in"></em>
            </button>
        </a>
    </div>
    <figcaption class="card-body">
        <div class="md-assembly-caption text-muted font-14 font-serif line-clamp">
            <span>
                <a class="gtm-assembly-link md-assembly-title font-weight-bold d-inline font-sans-serif mr-5 media-overlay-link" href="https://cdn.britannica.com/43/236443-050-350513F6/Five-glasses-of-boba-with-different-colors-and-flavors.jpg" data-href="/media/1/2216741/273248">bubble tea</a>
                <span><span>Glasses of bubble tea with various colours and flavours. </span></span>
                <button class="js-more-btn d-none btn btn-unstyled font-12 bg-white js-content" aria-label="Toggle more/less fact data">
                    <span class="link-blue">(more)</span>
                </button>
            </span>
        </div>
    </figcaption>
</figure>
</div><div class="topic-header">

	<div class="d-flex align-items-top justify-content-between">

		<div class="d-flex flex-column">
			<div>

				<div>
					<h1>bubble tea</h1></div>

				</div>

			<div class="topic-identifier font-16 font-md-20">beverage</div>
			</div>

		







































</div>

	<div class="d-none d-sm-flex flex-row">
			<div class="mr-10 mb-15">
					



































  <button class="ai-ask-button btn btn-sm border-2 btn-outline-red-400 border-red-400 btn-sm btn-outline-red-400 border-red-400 px-sm-5 px-md-10 js-inline-ai-ask-button" fdprocessedid="m83wek">
    Ask the Chatbot a Question
	</button>

</div>
			









































    <div class="d-block md-topic-tools qa-action-buttons mb-15" data-topic-id="2216741">

        
        












































    
    
        
    
    







    
    
        <button class="js-tooltip btn btn-sm btn-outline-blue border pr-10 border-2 text-nowrap" fdprocessedid="jvfal">
            <em aria-label="More Actions" class="material-icons md-icon ml-n10 my-n5 mr-5" data-icon="more_vert"></em>
	
    
            
                More Actions
        </button>
    



        <div class="md-more-popover popover popover-sm p-0 font-14 z-1" style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(229px, 149px);" data-popper-placement="bottom-start">

            

            
                <div>
                    
                        
                        
                            <a class="js-modal btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" href="https://www.britannica.com/print/article/2216741" target="_blank" data-modal-initialized="true">
                                <em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="print"></em>
	
                                Print
                            </a>
                        
                    
                </div>
            

            

            
                <div>
                    









































    
        <button class="js-modal qa-cite-modal-button btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" data-modal="[data-topic-id=2216741]  .md-cite-modal" data-modal-initialized="true">
			
				<em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="verified"></em>
	
			
			Cite
		</button>
    
    




                </div>
            

            

            
                <div>
                    









































    
        <button class="js-share-modal-button js-modal btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" data-modal="[data-topic-id=2216741] .md-share-modal" data-modal-initialized="true">
            
                <em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="share"></em>
	
            
            Share
        </button>
    
    




                </div>
            

            

            
                <div>
                    <button class="js-feedback-modal-button js-modal btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" data-modal=".md-feedback-modal" data-modal-initialized="true">
                        <em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="message"></em>
	
                        Feedback
                    </button>
                </div>
            
            
                <div>
                    <button class="qa-external-website-modal-button js-modal btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" data-modal="[data-topic-id=2216741] .md-websites-modal" data-modal-initialized="true">
                        <em aria-label="" class="material-icons md-icon ml-n10 mr-5" data-icon="link"></em>
	
                        External Websites
                    </button>
                </div>
            
        </div>

        


        
    </div>

</div>
		<div class="toc-header-marker"></div>
	



































  

<div class="caption alternate-titles">Also known as: black pearl tea, boba tea</div>
	<div class="md-byline module-spacing ">
		<div class="font-serif font-12">
		<span class="written-by text-gray-700">
			
				Written by
				</span>
		<div class="editor-popover popover p-0" style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(90px, 206px);" data-popper-placement="bottom-start">
  <a class="d-block p-20 qa-editor-popup gtm-byline font-12 byline-contributor" href="https://www.britannica.com/editor/Gregory-Lewis-McNamee/4763">
        <div class="editor-title font-16 font-weight-bold">Gregory Lewis McNamee</div>

        <div class="editor-description font-12 font-serif mt-5 clamp-description text-black">Contributing Editor, Encyclopædia Britannica<em>.</em><em></em></div>
            </a>
    <div data-popper-arrow="" style="position: absolute; left: 0px; transform: translate(62px, 0px);"></div>
</div>

<span class="btn btn-link editor-link p-0 qa-byline-link font-serif gtm-byline font-12 byline-contributor ">
  Gregory Lewis McNamee</span>
</div>
	<div class="font-serif font-12 text-gray-700">
		<span class="qa-fact-checked-by">Fact-checked by</span> <div class="editor-popover popover p-0" style="position: absolute; inset: 0px auto auto 0px; margin: 0px; transform: translate(119px, 225px);" data-popper-placement="bottom-start">
  <a class="d-block p-20 qa-editor-popup font-12" href="https://www.britannica.com/editor/The-Editors-of-Encyclopaedia-Britannica/4419">
        <div class="editor-title font-16 font-weight-bold">The Editors of Encyclopaedia Britannica</div>

        <div class="editor-description font-12 font-serif mt-5 clamp-description text-black">Encyclopaedia Britannica's editors oversee subject areas in which they have extensive knowledge, whether from years of experience gained by working on that content or via study for an advanced degree....</div>
            </a>
    <div data-popper-arrow="" style="position: absolute; left: 0px; transform: translate(102px, 0px);"></div>
</div>

<span class="btn btn-link editor-link p-0 qa-byline-link font-serif font-12 ">
  The Editors of Encyclopaedia Britannica</span>
</div>
	<div class="last-updated font-12 font-serif">
			<a class="byline-edit-history" href="https://www.britannica.com/topic/bubble-tea/additional-info#history" rel="nofollow">Article History</a>
			</div></div>
</div>






































    
		
    
		<button class="d-flex d-lg-none btn btn-outline-blue border rounded-sm shadow-sm mobile-toc-button gtm-mobile-toc-inline-button d-none d-sm-block js-sections-inline-button module-spacing btn d-lg-none" fdprocessedid="fcylbp">
			<em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="toc"></em>
	
				Table of Contents
		</button>
    

<div class="d-flex d-sm-none flex-row">
                        





































    
		
    
		<button class="d-flex d-lg-none btn btn-outline-blue border rounded-sm shadow-sm mobile-toc-button gtm-mobile-toc-inline-button js-sections-inline-button module-spacing">
			<em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="toc"></em>
	
				Table of Contents
		</button>
    





































  <button class="ai-ask-button btn btn-sm border-2 btn-outline-red-400 border-red-400 module-spacing js-inline-ai-ask-button p-10 ml-5">
    Ask the Chatbot
	</button>

</div>
                <div class="js-qf-module qf-module px-40 px-sm-20 py-15 mx-auto module-spacing font-14 bg-gray-50 rounded">

		<div class="facts-list mt-10">
			<div class="">

					<div class="js-fact mb-10 line-clamp clamp-3">
						<dl>
								<dt>Also called: </dt>
								<dd>boba tea or black pearl tea</dd>
								</dl>
						<button class="js-more-btn d-none btn btn-unstyled font-12 bg-gray-50" aria-label="Toggle more/less fact data">
							<em class="js-content link-blue">(Show&nbsp;more)</em>
						</button>
					</div>

					</div>
			<div class="">

					<div class="js-fact mb-10 line-clamp clamp-3">
						<dl>
								<dt>Related Topics: </dt>
								<dd><a href="https://www.britannica.com/topic/tea-beverage" topicid="585115">tea</a></dd>
								</dl>
						<button class="js-more-btn d-none btn btn-unstyled font-12 bg-gray-50" aria-label="Toggle more/less fact data">
							<em class="js-content link-blue">(Show&nbsp;more)</em>
						</button>
					</div>

					<div class="text-center">
							<a class="btn btn-sm btn-link p-0" href="https://www.britannica.com/facts/bubble-tea">
								See all related content
							</a>
						</div>
					</div>
			</div>

		</div><!--[BEFORE-ARTICLE]--><span class="marker before-article"></span><section data-level="1" id="ref1"><!--[PREMOD1]--><span class="marker PREMOD1 mod-inline"></span><p class="topic-paragraph"><strong><span id="ref1307825"></span>bubble tea</strong>,  beverage <a class="md-dictionary-link md-dictionary-tt-off eb" data-term="combining" href="https://www.britannica.com/dictionary/combining" data-type="EB">combining</a> <a href="https://www.britannica.com/topic/tea-beverage" class="md-crosslink autoxref " data-show-preview="true">tea</a>, <a href="https://www.britannica.com/topic/milk" class="md-crosslink autoxref " data-show-preview="true">milk</a>, and “bubbles”—chewy gelatinous candies made of <a href="https://www.britannica.com/topic/tapioca" class="md-crosslink " data-show-preview="true">tapioca</a> or fruit jelly. Bubble tea is a favourite in its homeland of <a href="https://www.britannica.com/place/Taiwan" class="md-crosslink " data-show-preview="true">Taiwan</a> and is now popular worldwide.</p><!--[MOD1]--><span class="marker MOD1 mod-inline"></span><!--[PREMOD2]--><span class="marker PREMOD2 mod-inline"></span><p class="topic-paragraph">Bubble tea originated in the city of <a href="https://www.britannica.com/place/Tai-nan-Taiwan" class="md-crosslink " data-show-preview="true">T’ai-nan</a>, Taiwan, in the mid-1980s. Dozens of variations of the drink have evolved since then, especially throughout Taiwan and other East Asian locales such as <a href="https://www.britannica.com/place/Singapore" class="md-crosslink autoxref " data-show-preview="true">Singapore</a>, <a href="https://www.britannica.com/place/Hong-Kong" class="md-crosslink autoxref " data-show-preview="true">Hong Kong</a>, and <a href="https://www.britannica.com/place/Japan" class="md-crosslink autoxref " data-show-preview="true">Japan</a>. Popular renditions include taro tea, brown <a href="https://www.britannica.com/science/sugar-chemical-compound" class="md-crosslink autoxref " data-show-preview="true">sugar</a> tea, and <a href="https://www.britannica.com/topic/matcha" class="md-crosslink autoxref " data-show-preview="true">matcha</a> green tea.</p><!--[MOD2]--><span class="marker MOD2 mod-inline"></span><!--[PREMOD3]--><span class="marker PREMOD3 mod-inline"></span><div class="assemblies"><div class="w-100 assembly-container"><figure class="md-assembly m-0 mb-md-0 card card-borderless print-false" data-assembly-id="273249" data-asm-type="image"><div class="md-assembly-wrapper card-media" data-type="image"><a href="https://cdn.britannica.com/27/131327-050-8EDFAF73/tapioca.jpg" class="gtm-assembly-link position-relative d-flex align-items-center justify-content-center media-overlay-link card-media" data-href="/media/1/2216741/273249"><picture><source media="(min-width: 680px)" srcset="https://cdn.britannica.com/27/131327-050-8EDFAF73/tapioca.jpg?w=300"><img src="./Bubble_files/tapioca(1).jpg" alt="Pearled tapioca balls" data-width="800" data-height="533" loading="eager"></picture><button class="magnifying-glass btn btn-circle position-absolute shadow btn-white top-10 right-10" aria-label="Zoom in" fdprocessedid="x5hybc"><em class="material-icons link-blue" data-icon="zoom_in"></em></button></a></div><figcaption class="card-body"><div class="md-assembly-caption text-muted font-14 font-serif line-clamp"><span><a class="gtm-assembly-link md-assembly-title font-weight-bold d-inline font-sans-serif mr-5 media-overlay-link" href="https://cdn.britannica.com/27/131327-050-8EDFAF73/tapioca.jpg" data-href="/media/1/2216741/273249">pearled tapioca balls</a><span>Pearled tapioca, the key ingredient in bubble tea.</span><button class="js-more-btn d-none btn btn-unstyled font-12 bg-white js-content" aria-label="Toggle more/less fact data"><span class="link-blue">(more)</span></button></span></div></figcaption></figure></div></div><p class="topic-paragraph">The genesis of bubble tea can be traced to 1949, when an <a href="https://www.britannica.com/money/entrepreneurship" class="md-crosslink " data-show-preview="true">entrepreneur</a> and former bartender, Chang Fan Shu, developed a tea that was shaken in a <a href="https://www.britannica.com/topic/martini" class="md-crosslink " data-show-preview="true">martini</a> mixer to create a foamy surface. Called hand-shaken (<em>shou yao</em>) tea and served cold, the result was a luxury item that was not widely accessible to most Taiwanese until the economic boom of the 1980s. In 1986 another <a class="md-dictionary-link md-dictionary-tt-off mw" data-term="entrepreneur" href="https://www.merriam-webster.com/dictionary/entrepreneur" data-type="MW">entrepreneur</a>, Tu Zonghe, added <em>fen yuan</em>, or tapioca balls, to green tea and opened a tea shop in T’ainan. Alternate origin stories have been advanced, but, in all events, so popular was this “bubble tea” that the original shop grew to become a chain with locations across Taiwan and in <a href="https://www.britannica.com/place/North-America" class="md-crosslink autoxref " data-show-preview="true">North America</a>. The recipe has evolved to include larger tapioca balls, now called <em>boba</em>, giving rise to the name <em>boba nai cha</em>, or boba tea. These larger <em>boba</em> occasioned the development of a special extra-wide straw so that they can be sipped with the drink without need of a spoon.</p><div class="module-spacing">
    </div><!--[MOD3]--><span class="marker MOD3 mod-inline"></span><!--[PREMOD4]--><span class="marker PREMOD4 mod-inline"></span><p class="topic-paragraph">Bubble tea spread among Chinese <a href="https://www.britannica.com/topic/Jewish-Diaspora" class="md-crosslink " data-show-preview="true">diaspora</a> populations in places such as <a href="https://www.britannica.com/place/New-York-state" class="md-crosslink autoxref " data-show-preview="true">New York</a>, London, and Berlin in the 2000s, and several chains have since opened in Europe and the <a href="https://www.britannica.com/place/United-States" class="md-crosslink autoxref " data-show-preview="true">United States</a>. It has also appeared on the menus of fast-food restaurant chains such as Dunkin’ and McDonald’s.</p><div class="one-good-fact-module">
</div><!--[MOD4]--><span class="marker MOD4 mod-inline"></span><!--[PREMOD5]--><span class="marker PREMOD5 mod-inline"></span><p class="topic-paragraph"><a class="md-dictionary-link md-dictionary-tt-off eb" data-term="Consumed" href="https://www.britannica.com/dictionary/Consumed" data-type="EB">Consumed</a> alone, tea contains abundant antioxidants and helps promote metabolic functions, making it an efficacious drink for dieters. The addition of milk, while providing calcium and protein, might reduce the healthfulness of the drink in terms of fats and sugars, although the milk need not be dairy. However, standard <em>boba</em> contain high quantities of sugar and starch. Recognizing this, many vendors offer sugar-free varieties. Bubble tea can be made at home, but Taiwanese generally purchase it as an after-school or after-work treat from tea shops or street vendors.</p><!--[MOD5]--><span class="marker MOD5 mod-inline"></span></section>                <!--[BEFORE-SIGNATURE-1]--><span class="md-signature font-12"><a href="https://www.britannica.com/editor/Gregory-Lewis-McNamee/4763">Gregory Lewis McNamee</a></span><!--[END-OF-CONTENT]--><span class="marker end-of-content"></span><!--[AFTER-ARTICLE]--><span class="marker after-article"></span></div>

        <div id="chatbot-simplify-root"></div>

        <div id="chatbot-root"><dialog class="AiAskContainerBase AiAskContainerDialog ai-chatbot bg-gray-50 border-0 overflow-hidden w-100" id="ai-chatbot"><div class="modal-container grid g-20 justify-content-center h-100"><div class="modal-content col-100 col-sm h-100"><div class="MainContainer MainContainerDialog bg-white rounded-lg px-20 position-relative mt-sm-0 h-100" style="overflow-y: auto;"><div class="ai-chatbot-close-btn d-flex justify-content-end"><button class="btn btn-lg btn-circle chatbotCloseButton position-absolute border border-gray-100 top-0 right-0 mt-5 mx-5" data-testid="Button" type="button" aria-label="Close Button"><i class="material-icons text-white" data-icon="close"></i></button></div><div class="chatbot-content d-flex flex-column align-items-center pb-30 pb-sm-0 w-100 px-md-40 justify-content-center" id="chatbotContentContainer"><div class="px-10 px-sm-80 d-flex flex-column justify-content-center align-items-center rounded-bl-lg rounded-br-lg"><div class="Header ai-ask-header d-flex flex-column align-items-center justify-content-center"><img src="./Bubble_files/robot-logo.png" width="60" alt="Britannica Chatbot logo"><h1>Britannica Chatbot</h1></div><div class="TextInputContainer HomepageContainerWidth d-flex flex-column justify-content-center mb-5 px-0" id="textInputContainer"><div class="InputContainer ai-chatbot-text-input d-flex position-relative"><form method="dialog" novalidate="" class="w-100 gtm-chatbot-question-form"><input type="text" class="form-control form-control-sm TextInput text-gray-900 rounded-lg font-18 pr-60" data-testid="Input" placeholder="Ask a question" value=""></form><div class="InputButtonContainer right-0 position-absolute"><button class="btn btn-gray-50 btn-xl btn-circle TextInputButton border-0 mr-10" data-testid="Button" type="button" aria-label="Ask Ai" disabled=""><i class="InputTextIcon material-icons text-red-400" data-icon="arrow_forward"></i></button></div></div><span class="text-center text-gray-700 font-12 lh-sm my-10">Chatbot answers are created from Britannica articles using AI. This is a beta feature. AI answers may contain errors. Please verify important information using Britannica articles. <a href="https://www.britannica.com/about-britannica-ai" target="_blank">About Britannica AI.</a></span></div></div></div></div></div></div></dialog></div>

    </div>


	</div>
</div>
<div class="ai-dialog-placeholder"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

</article>

<div data-page-index="1"></div><div class="loaded-infinite-scroll-container qa-infinite-scroll-container">







































<script class="marketing-page-info" type="application/json">
{"pageType":"Topic","templateName":"DESKTOP","pageNumber":1,"pagesTotal":3,"pageId":585115,"pageLength":844,"initialLoad":false,"lastPageOfScroll":false}
</script>









<script class="marketing-content-info" type="application/json">
[]
</script>










<script class="analytics-metadata" type="application/json">
{"leg":"C","adLeg":"D","userType":"ANONYMOUS","pageType":"Topic","pageSubtype":null,"articleTemplateType":"PAGINATED","gisted":false,"topicId":585115,"articleId":105920,"hasSummarizeButton":false,"hasAskButton":true,"hasAiTopQuestions":true,"hasSimplifyButton":false,"mvstEvents":null}
</script>


<script>
    Object.assign( window.Mendel.config, {
        
        "infiniteScrollList": null,
        "sequence": 1,
        "topics": {}
    });
</script>

<article class="article-content container-lg qa-content px-0 pt-0 pb-40 py-lg-20 content md-expanded" data-topic-id="585115">
    <div class="grid gx-0">

        <div class="col-auto">
            




































































<div class="topic-left-rail md-article-drawer position-relative d-flex border-right-sm border-left-sm open">
    <div class="drawer d-flex flex-column open">
        
    <div class="left-rail-section-content">

        

        

            <div class="topic-left-rail-header text-truncate bg-gray-50 position-relative text-right d-flex align-items-center">
                <div class="tlr-title px-20 py-15 text-left">
                    <em aria-label="" class="material-icons text-gray-400 d-lg-none" data-icon="toc"></em>
	
                    <a class="font-serif font-weight-bold text-black link-blue" href="https://www.britannica.com/topic/tea-beverage"> tea</a>
		
                </div>

                <button aria-label="Close" class="js-sections-close-button btn-link btn-sm btn d-lg-none position-absolute top-0 p-10 right-0">
                    <em aria-label="" class="material-icons font-26" data-icon="close"></em>
	
                </button>
            </div>
        

        

        <div class="section-content pl-10 pr-20 pl-sm-50 pr-sm-60 pl-lg-5 pr-lg-10 pt-10 pt-lg-0 bg-gray-50 ">
            <div class="toc mb-20">
              
                <div class="font-serif font-14 font-weight-bold mx-15 mb-15 mt-20">
                    Table of Contents
                </div>
              

                
                    <ul class="list-unstyled my-0" data-level="h1"><li data-target="#ref1" class="spy-active"><div class="pl-25"><a class="link-gray-900 w-100" href="https://www.britannica.com/topic/tea-beverage">Introduction</a></div><div class="ml-40 toc-drawer sub-toc-drawer"></div></li><li data-target="#ref65371"><div class="d-flex align-items-center"><div class="ml-25"></div><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage#ref65371">History of the tea trade</a></div><div class="ml-40 toc-drawer sub-toc-drawer"></div></li><li data-target="#ref65372"><div class="d-flex align-items-center"><div class="ml-25"></div><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage#ref65372">Classification of teas</a></div><div class="ml-40 toc-drawer sub-toc-drawer"></div></li><li data-target="#ref65373"><div class="d-flex align-items-center"><button class="h1-link-drawer-button btn btn-xs btn-circle d-flex rounded" type="button" aria-label="Toggle Heading"><em class="material-icons font-18" data-icon="keyboard_arrow_right"></em></button><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage#ref65373">Processing the leaf</a></div><div class="ml-40 toc-drawer sub-toc-drawer"><ul class="list-unstyled" data-level="h2"><li data-target="#ref65374"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Black-tea">Black tea</a><ul class="list-unstyled" data-level="h3"><li data-target="#ref65375"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Black-tea#ref65375">Withering</a></li></ul><ul class="list-unstyled" data-level="h3"><li data-target="#ref65376"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Black-tea#ref65376">Rolling</a></li></ul><ul class="list-unstyled" data-level="h3"><li data-target="#ref65377"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Black-tea#ref65377">Fermentation</a></li></ul><ul class="list-unstyled" data-level="h3"><li data-target="#ref65378"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Black-tea#ref65378">Drying</a></li></ul></li></ul><ul class="list-unstyled" data-level="h2"><li data-target="#ref65379"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea">Green tea</a></li></ul><ul class="list-unstyled" data-level="h2"><li data-target="#ref65380"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea#ref65380">Oolong tea</a></li></ul></div></li><li data-target="#ref65381"><div class="d-flex align-items-center"><button class="h1-link-drawer-button btn btn-xs btn-circle d-flex rounded" type="button" aria-label="Toggle Heading"><em class="material-icons font-18" data-icon="keyboard_arrow_right"></em></button><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea#ref65381">Packaging</a></div><div class="ml-40 toc-drawer sub-toc-drawer"><ul class="list-unstyled" data-level="h2"><li data-target="#ref65382"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea#ref65382">Sorting and grading</a></li></ul><ul class="list-unstyled" data-level="h2"><li data-target="#ref65383"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea#ref65383">Packing</a></li></ul><ul class="list-unstyled" data-level="h2"><li data-target="#ref65384"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea#ref65384">Instant tea</a></li></ul></div></li><li data-target="#ref65385"><div class="d-flex align-items-center"><button class="h1-link-drawer-button btn btn-xs btn-circle d-flex rounded" type="button" aria-label="Toggle Heading"><em class="material-icons font-18" data-icon="keyboard_arrow_right"></em></button><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea#ref65385">Preparing the beverage</a></div><div class="ml-40 toc-drawer sub-toc-drawer"><ul class="list-unstyled" data-level="h2"><li data-target="#ref65386"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea#ref65386">Blending</a></li></ul><ul class="list-unstyled" data-level="h2"><li data-target="#ref65387"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea#ref65387">Brewing</a></li></ul><ul class="list-unstyled" data-level="h2"><li data-target="#ref65388"><a class="w-100 link-gray-900" href="https://www.britannica.com/topic/tea-beverage/Green-tea#ref65388">Tasting</a></li></ul></div></li></ul>
                    
                    
                

                

                
                <a class="toc-extra-link link-gray-900" href="https://www.britannica.com/topic/tea-beverage/additional-info"> References &amp; Edit History</a>
		
                

                
                <a class="toc-extra-link link-gray-900" href="https://www.britannica.com/facts/tea-beverage"> Related Topics</a>
		
                
            </div>

            
                <div class="tlr-media-slider pb-10 mb-30">
                    <a class="section-header link-gray-900 font-serif font-14 font-weight-bold mb-10 mx-10" href="https://www.britannica.com/topic/tea-beverage/images-videos"> Images, Videos &amp; Interactives</a>
		

                    



















































<div class="slider js-slider position-relative d-inline-flex align-items-center mw-100 initialized">
    <div class="slider-container js-slider-container overflow-hidden d-flex text-nowrap ml-15 rw-slider">
            
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                                
                                
                                    
                                        
                                    
                                    
                                    
                                
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                                
                                
                                    
                                    
                                    
                                        
                                    
                                
                        
                    
    <div class="rw-track"><a href="https://cdn.britannica.com/18/115018-050-FF886CBD/Rows-tea-background-Japan-Mount-Fuji.jpg" data-href="/media/1/585115/112313" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/Rows-tea-background-Japan-Mount-Fuji.jpg" alt="Tea cultivation in Japan" height="50">
    


                                        </a><a href="https://www.britannica.com/video/tea-cultivation-brewing/-194003" data-href="/media/1/585115/194003" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            





































    
    
        
    
    
    


<div class="position-relative --aspect-ratio: 16/9">
    
    








































    
    
    
        <img loading="lazy" src="./Bubble_files/tea-cultivation-brewing.jpg" alt="The secret to brewing a good cup of tea" class="col-100">
    


    <div class="btn btn-sm btn-white btn-circle position-absolute shadow" style="top: 50%; left:50%; transform: translate(-50%, -50%)">
        <em class="material-icons font-14" data-icon="play_arrow">
        </em>
    </div>
</div>

                                        </a><a href="https://cdn.britannica.com/89/102489-050-FD2DE9F4/Women-tea-leaves-hand-plantation-India-Kaziranga.jpg" data-href="/media/1/585115/112315" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/Women-tea-leaves-hand-plantation-India-Kaziranga.jpg" alt="tea plantation; tea harvesting" height="50">
    


                                        </a><a href="https://cdn.britannica.com/37/137537-050-614C06AA/Leaves-tea-plant.jpg" data-href="/media/1/585115/140412" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/Leaves-tea-plant.jpg" alt="Camellia sinensis" height="50">
    


                                        </a><a href="https://www.britannica.com/topic/bubble-tea" data-href="/media/1/585115/309032" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/caffeine-in-drinks.jpg" alt="Caffeine content of popular drinks." height="50">
    


                                        </a><a href="https://cdn.britannica.com/39/62739-050-C9239A49/racks-tea-leaves-air-moisture-rooms-much.jpg" data-href="/media/1/585115/112316" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/racks-tea-leaves-air-moisture-rooms-much.jpg" alt="tea processing; withering" height="50">
    


                                        </a><a href="https://cdn.britannica.com/13/236613-050-31D81074/matcha-tea-ceremony.jpg" data-href="/media/1/585115/271148" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/matcha-tea-ceremony.jpg" alt="Matcha" height="50">
    


                                        </a><a href="https://cdn.britannica.com/55/130255-050-3D51ED68/Tea.jpg" data-href="/media/1/585115/126542" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/Tea.jpg" alt="tea: teapot" height="50">
    


                                        </a><a href="https://cdn.britannica.com/45/192245-050-B1106D0C/Kombucha-lemon.jpg" data-href="/media/1/585115/217099" class="media-overlay-link d-inline-block mr-5 rw-slide" style="vertical-align: top;">
                                            








































    
    
    
        <img loading="lazy" src="./Bubble_files/Kombucha-lemon.jpg" alt="kombucha" height="50">
    


                                        </a></div></div>

    

    

    

    <button class="prev-button js-prev-button position-absolute btn btn-circle shadow  btn-blue " aria-label="Previous">
        <span class="material-icons md-24" data-icon="keyboard_arrow_left"></span>
    </button>
    <button class="next-button js-next-button position-absolute btn btn-circle shadow  btn-blue " aria-label="Next">
        <span class="material-icons md-24" data-icon="keyboard_arrow_right"></span>
    </button>
</div>

                </div>
            

            
                <div class="mb-30 tlr-student-links">
                    <div class="text-gray-900 p-5 font-serif font-14 font-weight-bold mx-10 mb-10">
                        For Students
                    </div>
                    
                        



















































<div class="imagelink-with-image-on-the-side card card-horizontal tlr-img-with-side-link ml-15 link-gray-900 mb-10">

	

	<div class="position-relative card-media" style="flex: 0;">

		

		<a class="ilf-image position-relative" href="https://www.britannica.com/summary/tea-beverage">
			








































    
        






































<img loading="lazy" src="./Bubble_files/default3.png" alt="default image" class="default " height="200" width="200">

    
    
    



			

		</a>
	</div>

	
		<div class="card-body ilf-content">
		<a class="font-weight-semi-bold d-block mb-5 font-16 ilf-title" href="https://www.britannica.com/summary/tea-beverage">tea summary</a>
		
	</div>
	
</div>

                    
                </div>
            

            
                <div class="mb-30 tlr-related-quizzes">
                    <div class="text-gray-900 p-5 font-serif font-14 font-weight-bold mx-10 mb-10">
                        Quizzes
                    </div>
                    
                        



















































<div class="imagelink-with-image-on-the-side card card-horizontal tlr-img-with-side-link ml-15 link-gray-900 mb-10">

	

	<div class="position-relative card-media" style="flex: 0;">

		

		<a class="ilf-image position-relative" href="https://www.britannica.com/quiz/drink-to-this">
			








































    
    
    
        <img loading="lazy" src="./Bubble_files/Fruit-Grape-Vitis-vinifera-Wine-grape-Blauer.jpg" alt="Fruit. Grape. Vitis vinifera. Blauer Portugieser. Wine. Wine grape. Autumn. Grape leaves. Two clusters of Blauer Portugieser grapes on the vine." width="200" height="200">
    



			

		</a>
	</div>

	
		<div class="card-body ilf-content">
		<a class="font-weight-semi-bold d-block mb-5 font-16 ilf-title" href="https://www.britannica.com/quiz/drink-to-this">Drink to This</a>
		
	</div>
	
</div>

                    
                        



















































<div class="imagelink-with-image-on-the-side card card-horizontal tlr-img-with-side-link ml-15 link-gray-900 mb-10">

	

	<div class="position-relative card-media" style="flex: 0;">

		

		<a class="ilf-image position-relative" href="https://www.britannica.com/quiz/properties-of-herbal-teas-quiz">
			








































    
    
    
        <img loading="lazy" src="./Bubble_files/Herbal-teas-in-white-porcelain-dishes-bamboo-background.jpg" alt="Herbal teas in white porcelain dishes over a bamboo background." width="200" height="200">
    



			

		</a>
	</div>

	
		<div class="card-body ilf-content">
		<a class="font-weight-semi-bold d-block mb-5 font-16 ilf-title" href="https://www.britannica.com/quiz/properties-of-herbal-teas-quiz">Properties of Herbal Teas Quiz</a>
		
	</div>
	
</div>

                    
                </div>
            

            

            

        </div>

    </div>


    </div>
    <button class="drawerToggle btn position-sticky border btn-xs btn-white btn-circle rounded-sm d-none d-lg-flex " type="button" aria-label="Toggle Drawer">
        <em aria-label="" class="material-icons font-18 text-blue" data-icon="keyboard_arrow_left"></em>
	
    </button>
</div>

</div>

        <div class="col">
            <div class="h-100 ml-0 ">
                <div class="h-100 grid gx-0 ">
                    <div class="h-100 col-sm ">
                        <div class="h-100 infinite-pagination-container d-flex flex-column position-relative">
                            <div class="position-absolute top-0 h-100 w-100">
                                


































<div class="toc-sticky-header d-none d-lg-none bg-gray-50 px-10 px-sm-30 position-sticky w-100">
	<div class="toc-sticky-header-inner-container align-items-center d-flex mx-auto h-100 w-100">
		





































    
		
			<button class="d-flex d-lg-none btn btn-sm btn-white text-blue border-2 border-gray-100 gtm-mobile-toc-header-button js-sections-button d-lg-none p-10">
				<em aria-label="" class="material-icons my-n5 md-icon" data-icon="toc"></em>
	
					Contents
			</button>
    
    



		

		<div class="header-ai-simplify-button-placeholder"></div>
		<button class="ai-ask-button btn btn-sm border-2 btn-outline-red-400 border-red-400 mr-0 mr-lg-10 ml-5 ml-sm-10 ml-lg-0 p-10 px-sm-5 px-md-10 js-header-ai-ask-button">
    Ask the Chatbot a Question
	</button>
	</div>
</div>
</div>

                            




































	
	
		
	


<div class="grey-box w-100 grey-box-top">
	<div class="grey-box-content mx-auto w-100">
		









































		
			
			

			
				<script type="application/ld+json">
				{
					"@context" : "https://schema.org",
					"@type" : "BreadcrumbList",
					"itemListElement" :
					[
						
					
					{
					"@type" : "ListItem",
					"position" : 1,
					"item" :
					{
					"@id" : "https://www.britannica.com/browse/Entertainment-Pop-Culture",
					"name": "Entertainment &amp; Pop Culture"
					}
					}
				
					,
					{
					"@type" : "ListItem",
					"position" : 2,
					"item" :
					{
					"@id" : "https://www.britannica.com/browse/Food",
					"name": "Food"
					}
					}
				
					]
				}
				</script>
			

			<nav class="breadcrumb mt-20">
				
				
					<span class="breadcrumb-item ">
						
							
							
								<a class="link-gray-600" href="https://www.britannica.com/browse/Entertainment-Pop-Culture"> Entertainment &amp; Pop Culture</a>
		
							
						
					</span>
				
					<span class="breadcrumb-item ">
						
							
							
								<a class="link-gray-600" href="https://www.britannica.com/browse/Food"> Food</a>
		
							
						
					</span>
				
			</nav>
		
		

<div class="page2ref-true topic-content topic-type-REGULAR" data-student-article="false">

        







<script class="page-description-json" type="application/json">
{
	"url": "/topic/tea-beverage",
    "shareUrl": "https://www.britannica.com/topic/tea-beverage",
    "browserTitle": "Tea | Definition, Types, & History",
    "firstTopicPage": true,
    "topicId":585115
    }
</script>

<div class="reading-channel">

            <div class="desktop-header-image module-spacing">
			


































<figure class="md-assembly m-0 mb-20 mb-md-0 card card-borderless print-false" data-assembly-id="13684" data-asm-type="image">
    <div class="md-assembly-wrapper card-media " data-type="image">
        <a style="min-height: 160px;" href="https://cdn.britannica.com/18/115018-050-FF886CBD/Rows-tea-background-Japan-Mount-Fuji.jpg" class="gtm-assembly-link position-relative d-flex align-items-center justify-content-center media-overlay-link card-media" data-href="/media/1/585115/112313">
            <picture>
                <source media="(min-width: 680px)" srcset="https://cdn.britannica.com/18/115018-050-FF886CBD/Rows-tea-background-Japan-Mount-Fuji.jpg?w=300">
                <img src="./Bubble_files/Rows-tea-background-Japan-Mount-Fuji(1).jpg" alt="Tea cultivation in Japan" loading="eager">
            </picture>
            <button class="magnifying-glass btn btn-circle position-absolute shadow btn-white top-10 right-10" aria-label="Zoom in" fdprocessedid="mitrg8">
                <em class="material-icons link-blue" data-icon="zoom_in"></em>
            </button>
        </a>
    </div>
    <figcaption class="card-body">
        <div class="md-assembly-caption text-muted font-14 font-serif line-clamp">
            <span>
                <a class="gtm-assembly-link md-assembly-title font-weight-bold d-inline font-sans-serif mr-5 media-overlay-link" href="https://cdn.britannica.com/18/115018-050-FF886CBD/Rows-tea-background-Japan-Mount-Fuji.jpg" data-href="/media/1/585115/112313">Tea cultivation in Japan</a>
                <span><span>Rows of tea (<em>Camellia sinensis</em>) growing in Japan, with Mount Fuji in the background.</span></span>
                <button class="js-more-btn d-none btn btn-unstyled font-12 bg-white js-content" aria-label="Toggle more/less fact data">
                    <span class="link-blue">(more)</span>
                </button>
            </span>
        </div>
    </figcaption>
</figure>
</div><div class="topic-header">

	<div class="d-flex align-items-top justify-content-between">

		<div class="d-flex flex-column">
			<div>

				<div>
					<h1>tea</h1></div>

				</div>

			<div class="topic-identifier font-16 font-md-20">beverage</div>
			</div>

		







































</div>

	<div class="d-none d-sm-flex flex-row">
			<div class="mr-10 mb-15">
					



































  <button class="ai-ask-button btn btn-sm border-2 btn-outline-red-400 border-red-400 btn-sm btn-outline-red-400 border-red-400 px-sm-5 px-md-10 js-inline-ai-ask-button" fdprocessedid="f8pq7a">
    Ask the Chatbot a Question
	</button>

</div>
			









































    <div class="d-block md-topic-tools qa-action-buttons mb-15" data-topic-id="585115">

        
        












































    
    
        
    
    







    
    
        <button class="js-tooltip btn btn-sm btn-outline-blue border pr-10 border-2 text-nowrap" fdprocessedid="cd2g4b">
            <em aria-label="More Actions" class="material-icons md-icon ml-n10 my-n5 mr-5" data-icon="more_vert"></em>
	
    
            
                More Actions
        </button>
    



        <div class="md-more-popover popover popover-sm p-0 font-14 z-1" style="position: absolute; inset: auto auto 0px 0px; margin: 0px; transform: translate(229px, -3014px);" data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="top-start">

            

            
                <div>
                    
                        
                            <button class="js-print-modal-button js-modal gtm-topic-tool btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" data-modal="[data-topic-id=585115] .md-print-modal" data-modal-initialized="true">
                                <em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="print"></em>
	
                                Print
                            </button>
                            

                        
                        
                    
                </div>
            

            

            
                <div>
                    









































    
        <button class="js-modal qa-cite-modal-button btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" data-modal="[data-topic-id=585115]  .md-cite-modal" data-modal-initialized="true">
			
				<em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="verified"></em>
	
			
			Cite
		</button>
    
    




                </div>
            

            

            
                <div>
                    









































    
        <button class="js-share-modal-button js-modal btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" data-modal="[data-topic-id=585115] .md-share-modal" data-modal-initialized="true">
            
                <em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="share"></em>
	
            
            Share
        </button>
    
    




                </div>
            

            

            
                <div>
                    <button class="js-feedback-modal-button js-modal btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" data-modal=".md-feedback-modal" data-modal-initialized="true">
                        <em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="message"></em>
	
                        Feedback
                    </button>
                </div>
            
            
                <div>
                    <button class="qa-external-website-modal-button js-modal btn btn-sm btn-link gtm-topic-tool font-weight-bold btn-link" data-modal="[data-topic-id=585115] .md-websites-modal" data-modal-initialized="true">
                        <em aria-label="" class="material-icons md-icon ml-n10 mr-5" data-icon="link"></em>
	
                        External Websites
                    </button>
                </div>
            
        </div>

        


        
    </div>

</div>
		<div class="toc-header-marker"></div>
	



































  

<div class="md-byline module-spacing ">
		<div class="font-serif font-12">
		<span class="written-by text-gray-700">
			
				Written by
				</span>
		<div class="editor-popover popover p-0" style="position: absolute; inset: auto auto 0px 0px; margin: 0px; transform: translate(90px, -2959px);" data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="top-start">
  <a class="d-block p-20 qa-editor-popup gtm-byline font-12 byline-contributor" href="https://www.britannica.com/contributor/Sinnathurai-Sivasubramaniam/3441">
        <div class="editor-title font-16 font-weight-bold">Sinnathurai Sivasubramaniam</div>

        <div class="editor-description font-12 font-serif mt-5 clamp-description text-black">Senior Lecturer in Agronomy, Eastern University, Chenkaladi, Sri Lanka. Project Coordinator, Agricultural Research Project, Tea Research Institute of Sri Lanka, Talawakelle, 1988.</div>
            </a>
    <div data-popper-arrow="" style="position: absolute; left: 0px; transform: translate(76px, 0px);"></div>
</div>

<span class="btn btn-link editor-link p-0 qa-byline-link font-serif gtm-byline font-12 byline-contributor ">
  Sinnathurai Sivasubramaniam</span>
</div>
	<div class="font-serif font-12 text-gray-700">
		<span class="qa-fact-checked-by">Fact-checked by</span> <div class="editor-popover popover p-0" style="position: absolute; inset: auto auto 0px 0px; margin: 0px; transform: translate(119px, -2941px);" data-popper-reference-hidden="" data-popper-escaped="" data-popper-placement="top-start">
  <a class="d-block p-20 qa-editor-popup font-12" href="https://www.britannica.com/editor/The-Editors-of-Encyclopaedia-Britannica/4419">
        <div class="editor-title font-16 font-weight-bold">The Editors of Encyclopaedia Britannica</div>

        <div class="editor-description font-12 font-serif mt-5 clamp-description text-black">Encyclopaedia Britannica's editors oversee subject areas in which they have extensive knowledge, whether from years of experience gained by working on that content or via study for an advanced degree....</div>
            </a>
    <div data-popper-arrow="" style="position: absolute; left: 0px; transform: translate(102px, 0px);"></div>
</div>

<span class="btn btn-link editor-link p-0 qa-byline-link font-serif font-12 ">
  The Editors of Encyclopaedia Britannica</span>
</div>
	<div class="last-updated font-12 font-serif">
			<a class="byline-edit-history" href="https://www.britannica.com/topic/tea-beverage/additional-info#history" rel="nofollow">Article History</a>
			</div></div>
</div>






































    
		
    
		<button class="d-flex d-lg-none btn btn-outline-blue border rounded-sm shadow-sm mobile-toc-button gtm-mobile-toc-inline-button d-none d-sm-block js-sections-inline-button module-spacing btn d-lg-none" fdprocessedid="othwif">
			<em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="toc"></em>
	
				Table of Contents
		</button>
    

<div class="d-flex d-sm-none flex-row">
                        





































    
		
    
		<button class="d-flex d-lg-none btn btn-outline-blue border rounded-sm shadow-sm mobile-toc-button gtm-mobile-toc-inline-button js-sections-inline-button module-spacing">
			<em aria-label="" class="material-icons mr-5 ml-n10 my-n5 md-icon" data-icon="toc"></em>
	
				Table of Contents
		</button>
    





































  <button class="ai-ask-button btn btn-sm border-2 btn-outline-red-400 border-red-400 module-spacing js-inline-ai-ask-button p-10 ml-5">
    Ask the Chatbot
	</button>

</div>
                <div class="js-qf-module qf-module px-40 px-sm-20 py-15 mx-auto module-spacing font-14 bg-gray-50 rounded">

		<div class="facts-list mt-10">
			<div class="">

					<div class="js-fact mb-10 line-clamp clamp-3">
						<dl>
								<dt>Key People: </dt>
								<dd><a href="https://www.britannica.com/money/Thomas-Lipton" topicid="343005">Thomas Lipton</a></dd>
								</dl>
						<button class="js-more-btn d-none btn btn-unstyled font-12 bg-gray-50" aria-label="Toggle more/less fact data">
							<em class="js-content link-blue">(Show&nbsp;more)</em>
						</button>
					</div>

					</div>
			<div class="">

					<div class="js-fact mb-10 line-clamp clamp-3">
						<dl>
								<dt>Related Topics: </dt>
								<dd><a href="https://www.britannica.com/topic/kombucha" topicid="2069038">kombucha</a></dd>
								<dd><a href="https://www.britannica.com/topic/oolong" topicid="429485">oolong</a></dd>
								<dd><a href="https://www.britannica.com/topic/green-tea" topicid="245099">green tea</a></dd>
								<dd><a href="https://www.britannica.com/topic/instant-tea" topicid="289225">instant tea</a></dd>
								<dd><a href="https://www.britannica.com/topic/black-tea" topicid="68358">black tea</a></dd>
								</dl>
						<button class="js-more-btn d-none btn btn-unstyled font-12 bg-gray-50" aria-label="Toggle more/less fact data">
							<em class="js-content link-blue">(Show&nbsp;more)</em>
						</button>
					</div>

					<div class="text-center">
							<a class="btn btn-sm btn-link p-0" href="https://www.britannica.com/facts/tea-beverage">
								See all related content
							</a>
						</div>
					</div>
			</div>

		</div><div class="ai-qna-module ai-top-questions-module module-spacing ai-tq collapsed font-sans-serif">

    <div class="font-weight-bold font-14">
        Top Questions
    </div>

    <ul class="mt-5">
        <li class="ai-qna-item ai-tq-item mb-5 bg-gray-50 rounded ">
                <div class="ai-qna-question ai-top-question justify-content-between align-items-center font-14 px-10 py-5 rounded " data-qn="0">
                    <div>What is tea?</div>
                </div>
                <div class="ai-qna-answer answer p-10 ui-hidden" data-loaded="false"></div>
                <div class="ai-loader ui-hidden"></div>
            </li>
        <li class="ai-qna-item ai-tq-item mb-5 bg-gray-50 rounded ">
                <div class="ai-qna-question ai-top-question justify-content-between align-items-center font-14 px-10 py-5 rounded " data-qn="1">
                    <div>Where and when did people first start drinking tea?</div>
                </div>
                <div class="ai-qna-answer answer p-10 ui-hidden" data-loaded="false"></div>
                <div class="ai-loader ui-hidden"></div>
            </li>
        <li class="ai-qna-item ai-tq-item mb-5 bg-gray-50 rounded ">
                <div class="ai-qna-question ai-top-question justify-content-between align-items-center font-14 px-10 py-5 rounded " data-qn="2">
                    <div>What are the main types of tea, and how do they differ?</div>
                </div>
                <div class="ai-qna-answer answer p-10 ui-hidden" data-loaded="false"></div>
                <div class="ai-loader ui-hidden"></div>
            </li>
        <li class="ai-qna-item ai-tq-item mb-5 bg-gray-50 rounded ">
                <div class="ai-qna-question ai-top-question justify-content-between align-items-center font-14 px-10 py-5 rounded " data-qn="3">
                    <div>How is tea typically produced and processed?</div>
                </div>
                <div class="ai-qna-answer answer p-10 ui-hidden" data-loaded="false"></div>
                <div class="ai-loader ui-hidden"></div>
            </li>
        <li class="ai-qna-item ai-tq-item mb-5 bg-gray-50 rounded af3">
                <div class="ai-qna-question ai-top-question justify-content-between align-items-center font-14 px-10 py-5 rounded " data-qn="4">
                    <div>How does the preparation of tea vary in different cultures around the world?</div>
                </div>
                <div class="ai-qna-answer answer p-10 ui-hidden" data-loaded="false"></div>
                <div class="ai-loader ui-hidden"></div>
            </li>
        <li class="ai-qna-item ai-tq-item mb-5 bg-gray-50 rounded af3">
                <div class="ai-qna-question ai-top-question justify-content-between align-items-center font-14 px-10 py-5 rounded " data-qn="5">
                    <div>What role does tea play in social rituals or ceremonies in different countries?</div>
                </div>
                <div class="ai-qna-answer answer p-10 ui-hidden" data-loaded="false"></div>
                <div class="ai-loader ui-hidden"></div>
            </li>
        <li class="ai-qna-item ai-tq-item mb-5 bg-gray-50 rounded af3">
                <div class="ai-qna-question ai-top-question justify-content-between align-items-center font-14 px-10 py-5 rounded " data-qn="6">
                    <div>How has the global trade of tea impacted economies and cultures?</div>
                </div>
                <div class="ai-qna-answer answer p-10 ui-hidden" data-loaded="false"></div>
                <div class="ai-loader ui-hidden"></div>
            </li>
        </ul>
  </div><div class="bg-gray-50 p-15 rounded module-spacing recent-news d-flex flex-column float-false">		
		<div>
			<h2 class="font-weight-bold font-14 m-0 d-inline">
				News <span class="text-gray-600">•</span>
			</h2>

			






































<div class="recent-news-item first-recent-news-item d-inline">
	<a class="font-14 gtm-ap-news-link" href="https://www.cbsnews.com/texas/news/texas-education-agency-fort-worth-isd-visit-august-28/" rel="nofollow">TEA visits Fort Worth ISD, commissioner says district takeover decision to come at end of year</a>
	<span class="font-14 text-gray-600">
		<span>•</span> Aug. 28, 2025, 9:50 AM ET (CBS)

		
			<button class="btn btn-link d-inline p-0 font-12 js-toggle-recent-news" fdprocessedid="h8fjnh">
				<span class="text-gray-500">...</span><span>(Show more)</span>
			</button>
		
	</span>
</div>
</div>

		<div class="rest-of-recent-news-items">
			






































<div class="recent-news-item mt-5">
	<a class="font-14 gtm-ap-news-link" href="https://www.wsj.com/business/retail/chinese-fast-food-chain-mixues-profit-surges-on-appetite-for-ice-cream-tea-drinks-24ccb53e" rel="nofollow">Chinese Fast-Food Chain Mixue’s Profit Surges on Appetite for Ice Cream, Tea Drinks</a>
	<span class="font-14 text-gray-600">
		<span>•</span> Aug. 27, 2025, 2:40 AM ET (Wall Street Journal)

		
	</span>
</div>







































<div class="recent-news-item mt-5">
	<a class="font-14 gtm-ap-news-link" href="https://techcrunch.com/2025/08/06/a-rival-tea-app-for-men-is-leaking-its-users-personal-data-and-drivers-licenses/" rel="nofollow">A rival Tea app for men is leaking its users’ personal data and driver’s licenses</a>
	<span class="font-14 text-gray-600">
		<span>•</span> Aug. 6, 2025, 10:33 AM ET (TechCrunch)

		
	</span>
</div>
<button class="js-toggle-recent-news d-flex btn btn-unstyled font-14 pr-10 rounded-sm mt-10" aria-label="Toggle additional news items">
				Show less <em class="material-icons" data-icon="expand_less"></em>
			</button>
		</div>
	</div><!--[BEFORE-ARTICLE]--><span class="marker before-article"></span><div class="md-sentinel--spy-target"></div><section data-level="1" id="ref1" data-has-spy="true"><!--[PREMOD1]--><span class="marker PREMOD1 mod-inline"></span><p class="topic-paragraph"><strong><span id="ref218937"></span>tea</strong>,  beverage produced by steeping in freshly boiled water the young leaves and leaf buds of the <a href="https://www.britannica.com/plant/tea-plant" class="md-crosslink autoxref " data-show-preview="true">tea plant</a>, <em>Camellia sinensis</em>. Two principal varieties are used, the small-leaved China plant (<em>C. sinensis</em> variety <em>sinensis</em>) and the large-leaved <a href="https://www.britannica.com/place/Assam" class="md-crosslink autoxref " data-show-preview="true">Assam</a> plant (<em>C. sinensis</em> variety <em>assamica</em>). Hybrids of these two varieties are also grown. The leaves may be fermented or left unfermented.</p><!--[MOD1]--><span class="marker MOD1 mod-inline"></span></section>    <!--[H2]--><span class="marker h2"></span><div class="md-sentinel--spy-target"></div><section data-level="1" id="ref65371" data-has-spy="true"><h2 class="h1">History of the tea trade</h2> <!--[PREMOD2]--><span class="marker PREMOD2 mod-inline"></span><div class="assemblies"><div class="w-100 assembly-container"><figure class="md-assembly m-0 mb-md-0 card card-borderless print-false" data-assembly-id="194003" data-asm-type="video"><div class="md-assembly-wrapper card-media" data-type="video" video-id="180112"><a data-id="180112" class="gtm-assembly-link d-flex justify-content-center" style="--aspect-ratio: 16/9" href="https://www.britannica.com/video/tea-cultivation-brewing/-194003"><img src="./Bubble_files/tea-cultivation-brewing(1).jpg" alt="The secret to brewing a good cup of tea" loading="lazy"><script type="application/json">
								{
								"sources": [ { "file" : "//content.jwplatform.com/manifests/Wze8NlFJ.m3u8" } ],
								"image": "https://cdn.britannica.com/12/180112-138-DBC1C64A/tea-cultivation-brewing.jpg"
								
									,"tracks": [ { "file" : "//assets-jpcust.jwpsrv.com/tracks/A6Hg679H", "label": "English" } ]
								
									,"adfile": "//content.jwplatform.com/manifests/Goniwulv.m3u8"
								
								}
							</script><div class="btn btn-xl btn-white btn-circle position-absolute shadow" style="top: 50%; transform: translateY(-50%)"><em class="material-icons" data-icon="play_arrow"></em></div></a></div><figcaption class="card-body"><div class="md-assembly-caption text-muted font-14 font-serif line-clamp"><span><span class="md-assembly-title font-weight-bold mr-5 d-inline font-sans-serif md-video-caption" video-control="180112">The secret to brewing a good cup of tea</span><span>Learn about tea, from cultivation to brewing.</span><button class="js-more-btn d-none btn btn-unstyled font-12 bg-white js-content" aria-label="Toggle more/less fact data"><span class="link-blue">(more)</span></button></span></div><a class="font-14 mt-10 d-inline-block" href="https://www.britannica.com/topic/tea-beverage/images-videos">See all videos for this article</a></figcaption></figure></div></div><p class="topic-paragraph">According to <a class="md-dictionary-link md-dictionary-tt-off mw" data-term="legend" href="https://www.merriam-webster.com/dictionary/legend" data-type="MW">legend</a>, tea has been known in <span id="ref218938"></span><a href="https://www.britannica.com/place/China" class="md-crosslink " data-show-preview="true">China</a> since about 2700 <span class="text-smallcaps">bce</span>. For millennia it was a medicinal beverage obtained by boiling fresh leaves in water, but around the 3rd century <span class="text-smallcaps">ce</span> it became a daily drink, and tea cultivation and processing began. The first published account of methods of planting, processing, and drinking came in 350 <span class="text-smallcaps">ce</span>. Around 800 the first seeds were brought to <a href="https://www.britannica.com/place/Japan" class="md-crosslink autoxref " data-show-preview="true">Japan</a>, where cultivation became established by the 13th century. Chinese from <a href="https://www.britannica.com/place/Xiamen" class="md-crosslink autoxref " data-show-preview="true">Amoy</a> brought tea cultivation to the island of Formosa (Taiwan) in 1810. Tea cultivation in Java began under the Dutch, who brought seeds from Japan in 1826 and seeds, workers, and <a class="md-dictionary-link md-dictionary-tt-off mw" data-term="implements" href="https://www.merriam-webster.com/dictionary/implements" data-type="MW">implements</a> from China in 1833.</p><!--[MOD2]--><span class="marker MOD2 mod-inline"></span> <!--[PREMOD3]--><span class="marker PREMOD3 mod-inline"></span><p class="topic-paragraph">In 1824 tea plants were discovered in the hills along the frontier between Burma and the Indian state of Assam. The British introduced tea <a class="md-dictionary-link md-dictionary-tt-off mw" data-term="culture" href="https://www.merriam-webster.com/dictionary/culture" data-type="MW">culture</a> into <a href="https://www.britannica.com/place/India" class="md-crosslink autoxref " data-show-preview="true">India</a> in 1836 and into <a href="https://www.britannica.com/place/Sri-Lanka" class="md-crosslink autoxref " data-show-preview="true">Ceylon</a> (Sri Lanka) in 1867. At first they used seeds from China, but later seeds from the Assam plant were used.</p><!--[MOD3]--><span class="marker MOD3 mod-inline"></span> <!--[PREMOD4]--><span class="marker PREMOD4 mod-inline"></span><p class="topic-paragraph">The <a href="https://www.britannica.com/topic/Dutch-East-India-Company" class="md-crosslink autoxref " data-show-preview="true">Dutch East India Company</a> carried the first consignment of China tea to Europe in 1610. In 1669 the <span id="ref218939"></span><a href="https://www.britannica.com/place/England" class="md-crosslink " data-show-preview="true">English</a> <a href="https://www.britannica.com/topic/East-India-Company" class="md-crosslink autoxref " data-show-preview="true">East India Company</a> brought China tea from ports in Java to the London market. Later, teas grown on British estates in India and Ceylon reached Mincing Lane, the centre of the tea trade in London. By the late 19th and early 20th centuries, tea growing had spread to Russian Georgia, Sumatra, and <a href="https://www.britannica.com/place/Iran" class="md-crosslink autoxref " data-show-preview="true">Iran</a> and extended to non-Asian countries such as Natal, <a href="https://www.britannica.com/place/Malawi" class="md-crosslink autoxref " data-show-preview="true">Malawi</a>, <a href="https://www.britannica.com/place/Uganda" class="md-crosslink autoxref " data-show-preview="true">Uganda</a>, <a href="https://www.britannica.com/place/Kenya" class="md-crosslink autoxref " data-show-preview="true">Kenya</a>, Congo, <a href="https://www.britannica.com/place/Tanzania" class="md-crosslink autoxref " data-show-preview="true">Tanzania</a>, and Mozambique in Africa, to <a href="https://www.britannica.com/place/Argentina" class="md-crosslink autoxref " data-show-preview="true">Argentina</a>, Brazil, and Peru in <a href="https://www.britannica.com/place/South-America" class="md-crosslink autoxref " data-show-preview="true">South America</a>, and to Queensland in Australia.</p><!--[MOD4]--><span class="marker MOD4 mod-inline"></span></section> <!--[H3]--><span class="marker h3"></span><div class="md-sentinel--spy-target"></div><section data-level="1" id="ref65372" data-has-spy="true"><h2 class="h1">Classification of teas</h2> <!--[PREMOD5]--><span class="marker PREMOD5 mod-inline"></span><p class="topic-paragraph">Teas are classified according to region of origin, as in China, Ceylon, Japanese, Indonesian, and African tea, or by smaller district, as in <a href="https://www.britannica.com/place/Darjeeling-India" class="md-crosslink autoxref " data-show-preview="true">Darjeeling</a>, Assam, and Nilgris from India, Uva and Dimbula from Sri Lanka, Keemun from Chi-men in China’s Anhwei Province, and Enshu from Japan.</p><a class="link-module shadow-sm d-block qa-quiz-module" href="https://www.britannica.com/quiz/properties-of-herbal-teas-quiz">
	
	








































    
    
    
        <img loading="lazy" src="./Bubble_files/Herbal-teas-in-white-porcelain-dishes-bamboo-background(1).jpg" alt="Herbal teas in white porcelain dishes over a bamboo background." class="rounded-sm mr-15" width="70">
    


	

	<div class="line-clamp clamp-5">
		<div class="module-title bg-green">Britannica Quiz</div>
		<div class="font-weight-semi-bold mt-5">Properties of Herbal Teas Quiz</div>
	</div>
</a><!--[MOD5]--><span class="marker MOD5 mod-inline"></span> <!--[PREMOD6]--><span class="marker PREMOD6 mod-inline"></span><p class="topic-paragraph">Teas are also classified by the size of the processed leaf. Traditional operations result in larger leafy grades and smaller broken grades. The leafy grades are flowery pekoe (FP), orange pekoe (OP), pekoe (P), pekoe souchong (PS), and souchong (S). The broken grades are: broken orange pekoe (<a class="md-dictionary-link md-dictionary-tt-off eb" data-term="BOP" href="https://www.britannica.com/dictionary/BOP" data-type="EB">BOP</a>), broken pekoe (BP), BOP fanning, fannings, and dust. Broken grades usually have substantial contributions from the more tender shoots, while leafy grades come mainly from the tougher and maturer leaves. In modern commercial grading, 95 to 100 percent of production belongs to broken grades, whereas earlier a substantial quantity of leafy grades was produced. This shift has been caused by an increased demand for teas of smaller particle size, which produce a quick, strong brew.</p><!--[MOD6]--><span class="marker MOD6 mod-inline"></span> <!--[PREMOD7]--><span class="marker PREMOD7 mod-inline"></span><p class="topic-paragraph">The most important classification is by the manufacturing process, resulting in the three categories of fermented (black), unfermented (green), and semifermented (oolong or pouchong). Green tea is usually produced from the China plant and is grown mostly in Japan, China, and to some extent Malaysia and <a href="https://www.britannica.com/place/Indonesia" class="md-crosslink autoxref " data-show-preview="true">Indonesia</a>. The <a class="md-dictionary-link md-dictionary-tt-off eb" data-term="infused" href="https://www.britannica.com/dictionary/infused" data-type="EB">infused</a> leaf is green, and the <a href="https://www.britannica.com/topic/alcoholic-beverage" class="md-crosslink autoxref " data-show-preview="true">liquor</a> is mild, pale green or lemon-yellow, and slightly bitter. Black tea, by far the most common type produced, is best made from Assam or hybrid plants. The infused leaf is bright red or copper coloured, and the liquor is bright red and slightly <a href="https://www.britannica.com/science/astringent" class="md-crosslink autoxref " data-show-preview="true">astringent</a> but not bitter, bearing the characteristic aroma of tea. Oolong and pouchong teas are produced mostly in southern China and <a href="https://www.britannica.com/place/Taiwan" class="md-crosslink autoxref " data-show-preview="true">Taiwan</a> from a special variety of the China plant. The liquor is pale or yellow in colour, as in green tea, and has a unique malty, or smoky, flavour.</p><div class="module-spacing">
    <div class="marketing-INLINE_SUBSCRIPTION marketing-content" data-marketing-id="INLINE_SUBSCRIPTION"><style> .student-promo-banner-wrapper {
    container-type: inline-size;
  margin-bottom: 15px;
  }

@container (min-width: 475px) {
  .student-promo-banner {
    flex-direction: row;
  }
  .student-promo-banner-img-wrapper {
    margin-bottom: 0;
    margin-right: 10px;
    justify-content: flex-start;
  }
  .student-promo-banner-text-wrapper {
    text-align: left;
    margin-bottom: 0px;
    margin-left: 10px;
  }
  .student-promo-banner-button-wrapper {
    margin-right: 0;
  }
}</style>
<div class="student-promo-banner-wrapper">
  <div class="student-promo-banner d-flex flex-column align-items-center bg-blue rounded p-20">
    <div class="student-promo-banner-img-wrapper mb-20 mr-0 d-flex justify-content-center">
      <img class="rounded" style="max-width: 100px; min-width: 80px" src="./Bubble_files/BlueThistle.webp">
    </div>
    <div class="student-promo-banner-text-wrapper ml-0 mb-10 text-center text-white">
      <div class="h2 mb-10">Access for the whole family!</div>
      <div class="h4 font-weight-semi-bold">Bundle Britannica Premium and Kids for the ultimate resource destination.</div>
    </div> 
    <div class="student-promo-banner-button-wrapper d-flex justify-content-center align-items-center ml-auto mr-auto">
      <a class="btn btn-m btn-orange" href="https://premium.britannica.com/family-bundle/?utm_source=premium&amp;utm_medium=inline-cta&amp;utm_campaign=family-bundle">Subscribe</a>
    </div>
  </div>
</div>

</div></div><!--[MOD7]--><span class="marker MOD7 mod-inline"></span></section> <!--[H4]--><span class="marker h4"></span><div class="md-sentinel--spy-target"></div><section data-level="1" id="ref65373" data-has-spy="true"> <h2 class="h1">Processing the leaf</h2> <!--[PREMOD8]--><span class="marker PREMOD8 mod-inline"></span><div class="assemblies"><div class="w-100 assembly-container"><figure class="md-assembly m-0 mb-md-0 card card-borderless print-false" data-assembly-id="112315" data-asm-type="image"><div class="md-assembly-wrapper card-media" data-type="image"><a href="https://cdn.britannica.com/89/102489-050-FD2DE9F4/Women-tea-leaves-hand-plantation-India-Kaziranga.jpg" class="gtm-assembly-link position-relative d-flex align-items-center justify-content-center media-overlay-link card-media" data-href="/media/1/585115/112315"><picture><source media="(min-width: 680px)" srcset="https://cdn.britannica.com/89/102489-050-FD2DE9F4/Women-tea-leaves-hand-plantation-India-Kaziranga.jpg?w=300"><img src="./Bubble_files/Women-tea-leaves-hand-plantation-India-Kaziranga(1).jpg" alt="tea plantation; tea harvesting" data-width="1600" data-height="1020" loading="eager"></picture><button class="magnifying-glass btn btn-circle position-absolute shadow btn-white top-10 right-10" aria-label="Zoom in" fdprocessedid="po17bb"><em class="material-icons link-blue" data-icon="zoom_in"></em></button></a></div><figcaption class="card-body"><div class="md-assembly-caption text-muted font-14 font-serif line-clamp"><span><a class="gtm-assembly-link md-assembly-title font-weight-bold d-inline font-sans-serif mr-5 media-overlay-link" href="https://cdn.britannica.com/89/102489-050-FD2DE9F4/Women-tea-leaves-hand-plantation-India-Kaziranga.jpg" data-href="/media/1/585115/112315">tea plantation; tea harvesting</a><span>Women harvesting tea leaves by hand at a plantation in Kaziranga, India. </span><button class="js-more-btn d-none btn btn-unstyled font-12 bg-white js-content" aria-label="Toggle more/less fact data"><span class="link-blue">(more)</span></button></span></div></figcaption></figure></div></div><p class="topic-paragraph">In tea manufacture, the leaf goes through some or all of the stages of withering, rolling, fermentation, and drying. The process has a twofold purpose: (1) to dry the leaf and (2) to allow the chemical <a class="md-dictionary-link md-dictionary-tt-off mw" data-term="constituents" href="https://www.merriam-webster.com/dictionary/constituents" data-type="MW">constituents</a> of the leaf to produce the quality peculiar to each type of tea.</p><!--[MOD8]--><span class="marker MOD8 mod-inline"></span> <!--[PREMOD9]--><span class="marker PREMOD9 mod-inline"></span><div class="assemblies"><div class="w-100 assembly-container"><figure class="md-assembly m-0 mb-md-0 card card-borderless print-false" data-assembly-id="140412" data-asm-type="image"><div class="md-assembly-wrapper card-media" data-type="image"><a href="https://cdn.britannica.com/37/137537-050-614C06AA/Leaves-tea-plant.jpg" class="gtm-assembly-link position-relative d-flex align-items-center justify-content-center media-overlay-link card-media" data-href="/media/1/585115/140412"><picture><source media="(min-width: 680px)" srcset="https://cdn.britannica.com/37/137537-050-614C06AA/Leaves-tea-plant.jpg?w=300"><img src="./Bubble_files/Leaves-tea-plant(1).jpg" alt="Camellia sinensis" data-width="600" data-height="692" loading="eager"></picture><button class="magnifying-glass btn btn-circle position-absolute shadow btn-white top-10 right-10" aria-label="Zoom in" fdprocessedid="3vck1"><em class="material-icons link-blue" data-icon="zoom_in"></em></button></a></div><figcaption class="card-body"><div class="md-assembly-caption text-muted font-14 font-serif line-clamp"><span><a class="gtm-assembly-link md-assembly-title font-weight-bold d-inline font-sans-serif mr-5 media-overlay-link" href="https://cdn.britannica.com/37/137537-050-614C06AA/Leaves-tea-plant.jpg" data-href="/media/1/585115/140412"><em>Camellia sinensis</em></a><span>Young, fragrant leaves of the tea plant (<em>Camellia sinensis</em>).</span><button class="js-more-btn d-none btn btn-unstyled font-12 bg-white js-content" aria-label="Toggle more/less fact data"><span class="link-blue">(more)</span></button></span></div></figcaption></figure></div></div><p class="topic-paragraph">The best-known <a class="md-dictionary-link md-dictionary-tt-off mw" data-term="constituent" href="https://www.merriam-webster.com/dictionary/constituent" data-type="MW">constituent</a> of tea is <span id="ref218940"></span><a href="https://www.britannica.com/science/caffeine" class="md-crosslink " data-show-preview="true">caffeine</a>, which gives the beverage its stimulating character but contributes only a little to colour, flavour, and aroma. About 4 percent of the solids in fresh leaf is caffeine, and one teacup of the beverage contains 60 to 90 milligrams of caffeine. The most important chemicals in tea are the <span id="ref218941"></span><a href="https://www.britannica.com/science/tannin" class="md-crosslink " data-show-preview="true">tannins</a>, or polyphenols, which are colourless, bitter-tasting substances that give the drink its astringency. When acted upon by an <a href="https://www.britannica.com/science/enzyme" class="md-crosslink autoxref " data-show-preview="true">enzyme</a> called polyphenol oxidase, polyphenols acquire a reddish colour and form the flavouring <a class="md-dictionary-link md-dictionary-tt-off mw" data-term="compounds" href="https://www.merriam-webster.com/dictionary/compounds" data-type="MW">compounds</a> of the beverage. Certain volatile oils contribute to the aroma of tea, and also contributing to beverage quality are various sugars and amino acids.</p><div class="one-good-fact-module">
</div><!--[MOD9]--><span class="marker MOD9 mod-inline"></span> <!--[PREMOD10]--><span class="marker PREMOD10 mod-inline"></span><p class="topic-paragraph">Only black tea goes through all stages of the manufacturing process. Green tea and <a href="https://www.britannica.com/topic/oolong" class="md-crosslink autoxref " data-show-preview="true">oolong</a> acquire their qualities through variations in the crucial fermentation stage.</p><!--[MOD10]--><span class="marker MOD10 mod-inline"></span> <div class="mb-20"><div class="w-100 assembly-container"><figure class="md-assembly m-0 mb-md-0 card card-borderless print-false" data-assembly-id="309032" data-asm-type="infogram"><div class="md-assembly-wrapper card-media" data-type="infogram"><script id="infogram_0__/3t71Lk8RcTefhLEC1fVb" src="./Bubble_files/embed.js.download" title="Caffeine content of popular drinks."></script><iframe scrolling="no" frameborder="0" allowfullscreen="" style="border: none; width: 879px; height: 731px;" src="./Bubble_files/3t71Lk8RcTefhLEC1fVb.html" title="Caffeine content of popular drinks."></iframe></div></figure></div></div> </section><!--[END-OF-CONTENT]--><span class="marker end-of-content"></span><!--[AFTER-ARTICLE]--><span class="marker after-article"></span></div>

        <div id="chatbot-simplify-root"></div>

        <div id="chatbot-root"><dialog class="AiAskContainerBase AiAskContainerDialog ai-chatbot bg-gray-50 border-0 overflow-hidden w-100" id="ai-chatbot"><div class="modal-container grid g-20 justify-content-center h-100"><div class="modal-content col-100 col-sm h-100"><div class="MainContainer MainContainerDialog bg-white rounded-lg px-20 position-relative mt-sm-0 h-100" style="overflow-y: auto;"><div class="ai-chatbot-close-btn d-flex justify-content-end"><button class="btn btn-lg btn-circle chatbotCloseButton position-absolute border border-gray-100 top-0 right-0 mt-5 mx-5" data-testid="Button" type="button" aria-label="Close Button"><i class="material-icons text-white" data-icon="close"></i></button></div><div class="chatbot-content d-flex flex-column align-items-center pb-30 pb-sm-0 w-100 px-md-40 justify-content-center" id="chatbotContentContainer"><div class="px-10 px-sm-80 d-flex flex-column justify-content-center align-items-center rounded-bl-lg rounded-br-lg"><div class="Header ai-ask-header d-flex flex-column align-items-center justify-content-center"><img src="./Bubble_files/robot-logo.png" width="60" alt="Britannica Chatbot logo"><h1>Britannica Chatbot</h1></div><div class="TextInputContainer HomepageContainerWidth d-flex flex-column justify-content-center mb-5 px-0" id="textInputContainer"><div class="InputContainer ai-chatbot-text-input d-flex position-relative"><form method="dialog" novalidate="" class="w-100 gtm-chatbot-question-form"><input type="text" class="form-control form-control-sm TextInput text-gray-900 rounded-lg font-18 pr-60" data-testid="Input" placeholder="Ask a question" value=""></form><div class="InputButtonContainer right-0 position-absolute"><button class="btn btn-gray-50 btn-xl btn-circle TextInputButton border-0 mr-10" data-testid="Button" type="button" aria-label="Ask Ai" disabled=""><i class="InputTextIcon material-icons text-red-400" data-icon="arrow_forward"></i></button></div></div><span class="text-center text-gray-700 font-12 lh-sm my-10">Chatbot answers are created from Britannica articles using AI. This is a beta feature. AI answers may contain errors. Please verify important information using Britannica articles. <a href="https://www.britannica.com/about-britannica-ai" target="_blank">About Britannica AI.</a></span></div></div></div></div></div></div></dialog></div>

    </div>


	</div>
</div>
<div class="ai-dialog-placeholder"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

</article>


</div></div>
                        <div class="infinite-pagination-loading ui-ajax-loading ui-hidden" style="margin-top: -1px; background-color: white !important; display: none;"></div> 
                        <div class="infinite-pagination-button d-flex justify-content-center" style="margin-top: -1px">
                            <button class="js-load-next btn btn-sm btn-blue mt-15 pr-10 mb-100" style="display: block;" fdprocessedid="j3o20p">
                                Load Next Page <em class="material-icons" data-icon="keyboard_arrow_down"></em> 
                            </button>
                        </div>
	</div>


                
                
            

        </div>
    </div>
</main>







<div id="md-footer" class=""></div> 




<noscript><iframe title="google-gtm" src="//www.googletagmanager.com/ns.html?id=GTM-5W6NC8" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
			<noscript><iframe title="google-gtm" src="//www.googletagmanager.com/ns.html?id=GTM-KRJ753NG" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
		















<script class="marketing-page-info" type="application/json">
{"pageType":"Topic","templateName":"DESKTOP","pageNumber":1,"pagesTotal":1,"pageId":2216741,"pageLength":381,"initialLoad":true,"lastPageOfScroll":false}
</script>









<script class="marketing-content-info" type="application/json">
[]
</script>







<script src="./Bubble_files/jquery-3.5.0.min.js.download"></script>








<script type="text/javascript" data-type="Init Mendel Code Splitting">
              (function() {
                $.ajax({
                  dataType: 'script',
                  cache: true,
                  url: 'https://cdn.britannica.com/mendel-resources/3-148/dist/topic-page.js?v=3.148.5'
                });
              })();
            </script>
		













<div id="bc-fixed-dialogue"></div>
<script defer="" src="./Bubble_files/vcd15cbe7772f49c399c6a5babf22c1241717689176015" integrity="sha512-ZpsOmlRQV6y907TI0dKBHq9Md29nnaEIPlkf84rnaERnq6zvWvPUqr2ft8M1aS28oN72PdrCzSjY4U6VaAw1EQ==" data-cf-beacon="{&quot;rayId&quot;:&quot;977006cd09b2d969&quot;,&quot;serverTiming&quot;:{&quot;name&quot;:{&quot;cfExtPri&quot;:true,&quot;cfEdge&quot;:true,&quot;cfOrigin&quot;:true,&quot;cfL4&quot;:true,&quot;cfSpeedBrain&quot;:true,&quot;cfCacheStatus&quot;:true}},&quot;version&quot;:&quot;2025.8.0&quot;,&quot;token&quot;:&quot;5cc7d7124de641b181da990fc8c9a0b6&quot;}" crossorigin="anonymous"></script>


<div class="md-tooltip-container md-preview-tooltip" style="display: none;">
                                <div class="md-tooltip-arrow"></div>
                                <div class="md-tooltip flex-column">
                                    <div class="md-tooltip-content"></div>
                                    
                                </div>
                            </div><div class="media-overlay-container"></div><div class="md-modal2 md-modal2-md light" style="display: none;"><div class="md-feedback-modal size-lg d-none md-modal2-content size-md" id="___id1" style="display: block;"><em class="md-close material-icons" data-icon="close"></em>
	<div class="md-modal-body">
		<div class="h2 font-serif pb-15 border-bottom">
			Feedback
		</div>

		<form method="post" action="https://www.britannica.com/submission/feedback/2216741" id="___id2" class="md-form2-initialized">

			<div class="my-20">
				Corrections? Updates? Omissions? Let us know if you have suggestions to improve this article (requires login).
			</div>

			<div class="type-menu">
				<label for="feedback-type-2216741" class="label mb-10">Feedback Type</label>
				<select id="feedback-type-2216741" class="form-select mb-30" name="feedbackTypeId" required="">
					<option value="" selected="selected">Select a type (Required)</option>
					<option value="1">Factual Correction</option>
					<option value="2">Spelling/Grammar Correction</option>
					<option value="3">Link Correction</option>
					<option value="4">Additional Information</option>
					<option value="5">Other</option>
				</select>
			</div>

			<label for="feedback-2216741" class="label mb-10">Your Feedback</label>
			<textarea id="feedback-2216741" class="form-control mb-30" name="feedback" maxlength="3000" rows="7" required=""></textarea>

			<button class="btn btn-blue" type="submit" disabled="disabled">Submit Feedback</button>
		</form>

		<div class="success-messaging d-none mt-30">
			<div class="title">Thank you for your feedback</div>
			<p>Our editors will review what you’ve submitted and determine whether to revise the article.</p>
		</div>
	</div>
</div></div><div class="md-modal2 md-modal2-md light" style="display: none;"><div class="md-cite-modal size-lg d-none md-modal2-content size-md" id="___id4" style="display: block;"><em class="md-close material-icons" data-icon="close"></em>
	<div class="md-modal-body">
		<div class="h2 font-serif d-flex align-items-center pb-15 border-bottom mb-15">
			<em class="material-icons text-blue mr-10">verified</em>Cite
		</div>
		<div class="font-serif">
			While every effort has been made to follow citation style rules, there may be some discrepancies.
			Please refer to the appropriate style manual or other sources if you have any questions.
		</div>
		<div class="label mt-20 mb-10">Select Citation Style</div>
		<select class="js-citation-format-select form-select">
			<option selected="" value="mla">MLA</option>
			<option value="apa">APA</option>
			<option value="chicago">Chicago Manual of Style</option>
		</select>
		<div class="citation font-serif border rounded p-15 mt-20" data-authors="McNamee, Gregory Lewis" data-authors-initial="McNamee, G.L." data-title="bubble tea" data-published-date="21 Apr. 2025" data-url="https://www.britannica.com/topic/bubble-tea">
			<div class="citation-text">McNamee, Gregory Lewis. "bubble tea". <em>Encyclopedia Britannica</em>, 21 Apr. 2025, https://www.britannica.com/topic/bubble-tea. Accessed 30 August 2025.</div>
		</div>

		












































    
    
    
        
    







    
    
        <button class="js-copy-citation-button mt-20 btn btn-xs btn-outline-blue border shadow-sm pr-10">
            <em aria-label="" class="material-icons md-icon ml-n10 my-n5 mr-5" data-icon="file_copy"></em>
	
    
			<span class="js-citation-status-text">Copy Citation</span>
        </button>
    


	</div>
</div></div><div class="md-modal2 md-modal2-md light" style="display: none;"><div class="md-share-modal size-lg d-none qa-share-modal md-modal2-content size-md" id="___id5" style="display: block;"><em class="md-close material-icons" data-icon="close"></em>
    <div class="md-modal-body">
        <div class="h2 font-serif d-flex align-items-center pb-15 border-bottom">
            <em aria-label="" class="material-icons text-blue mr-10" data-icon="share"></em>
	
            Share
        </div>
        <div class="label my-20">Share to social media</div>
        










































    
    
    
        
    



    
        
    
    
    






<div class="md-social-toolbar-circle d-flex align-items-start inverted" data-value="share" title="bubble tea" data-url="https://www.britannica.com/topic/bubble-tea">
    
    
        <a class="social-icon facebook justify-content-center d-flex align-items-center align-self-center" aria-label="Share on Facebook" data-provider="facebook" href="https://www.facebook.com/BRITANNICA/" target="_blank" rel="noopener"><span>Facebook</span></a>
    
    
        <a class="social-icon x justify-content-center d-flex align-items-center align-self-center" aria-label="Share on X" data-provider="x" href="https://x.com/britannica" target="_blank" rel="noopener"><span>X</span></a>
    
    
    
    
    
    
</div>



        <div class="label pt-20 mt-20 mb-5 border-top">URL</div>
        <a class="font-serif text-truncate d-inline-block" href="https://www.britannica.com/topic/bubble-tea">https://www.britannica.com/topic/bubble-tea</a>
    </div>
</div></div><div class="md-modal2 md-modal2-md light" style="display: none;"><div class="md-websites-modal size-lg d-none md-modal2-content size-md" id="___id6" style="display: block;"><em class="md-close material-icons" data-icon="close"></em>
            <div class="md-modal-body">
                <div class="h2 font-serif pb-15 border-bottom font-weight-bold">
                    External Websites
                </div>
                <div class="pb-20">
            <ul class="list-unstyled mt-20 lh-lg">
            <li><a class="external" href="https://pmc.ncbi.nlm.nih.gov/articles/PMC5217910/" target="_blank" rel="noopener ">National Center for Biotechnology Information - PubMed Central - Calories and sugars in boba milk tea: implications for obesity risk in Asian Pacific Islanders</a></li>
            <li><a class="external" href="https://www.webmd.com/diet/boba-tea-health-benefits" target="_blank" rel="noopener ">WebMD - Boba Tea: Are There Health Benefits?</a></li>
            <li><a class="external" href="https://www.abc.net.au/listen/programs/sydney-afternoons/bubble-tea/102463148" target="_blank" rel="noopener ">ABC Listen - The bubble tea hype explained</a></li>
            <li><a class="external" href="https://edition.cnn.com/travel/bubble-tea-origin-history-taiwan-intl-hnk/" target="_blank" rel="noopener ">CNN Travel - The origins of bubble tea, one of Taiwan’s most beloved beverages</a></li>
            <li><a class="external" href="https://eresources.nlb.gov.sg/infopedia/articles/SIP_2014-01-29_182158.html" target="_blank" rel="noopener ">Singapore Infopedia - Bubble tea</a></li>
            <li><a class="external" href="https://www.nationalgeographic.com/travel/article/what-is-boba-bubble-tea-taiwan" target="_blank" rel="noopener ">National Geographic - The story behind bubble tea, Taiwan’s iconic drink</a></li>
            </ul>
        </div>

    
            </div>
        </div></div><div class="md-tooltip-container md-dictionary-tooltip" style="display: none;">
                                <div class="md-tooltip-arrow"></div>
                                <div class="md-tooltip flex-column">
                                    <div class="md-tooltip-content"></div>
                                    <div class="md-tooltip-close"><em class="material-icons " data-icon="close"></em></div>
                                </div>
                            </div><script id="" text="" charset="" type="text/javascript" src="./Bubble_files/mendelstats.js.download"></script>
<script type="text/javascript" id="" charset="">!function(b,e,f,g,a,c,d){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],c=e.createElement(f),c.async=!0,c.src=g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js");typeof window.geoCountry==="undefined"&&console.warn("geoCountry is undefined. Fix - this is unexpected");
typeof window.geoRegion==="undefined"&&console.warn("geoRegion is undefined. Fix - this is unexpected");typeof window.geoCountry==="string"&&window.geoCountry==="US"&&(window.geoRegion==="CA"?fbq("dataProcessingOptions",["LDU"],1,1E3):window.geoRegion==="CO"?fbq("dataProcessingOptions",["LDU"],1,1001):window.geoRegion==="CT"&&fbq("dataProcessingOptions",["LDU"],1,1002));fbq("init","154643575315468");fbq("track","PageView");</script>
<script type="text/javascript" id="" charset="">!function(b,c,d,e,a,f,g){b.fbq||(a=b.fbq=function(){a.callMethod?a.callMethod.apply(a,arguments):a.queue.push(arguments)},b._fbq||(b._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[])}(window,document);</script>
<script type="text/javascript" id="" charset="">(function(a,e,b,f,g,c,d){a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)};c=e.createElement(f);c.async=1;c.src="https://www.clarity.ms/tag/"+g+"?ref\x3dgtm2";d=e.getElementsByTagName(f)[0];d.parentNode.insertBefore(c,d)})(window,document,"clarity","script","aqzywv6j4m");</script><script type="text/javascript" id="" charset="">document.addEventListener("account_creation",function(a){window.dataLayer.push({event:"account_submission",formId:a.detail.contactFormId,response:a.detail.inputs})});</script><script type="text/javascript" id="" charset="">window.addEventListener("load",function(){try{if(window.Mendel&&window.Mendel.GA&&window.Mendel.GA.mvstEvents&&window.Mendel.GA.mvstEvents.length>0){var a=window.Mendel.GA.mvstEvents[0];dataLayer.push({event:"mvstEventsReady",bcom_id:a.bcom_id,flag_key:a.flag_key,in_experiment:a.in_experiment,page_location:a.page_location,variation:a.variation})}}catch(b){}});</script><script type="text/javascript" id="" charset="">var scrEm=document.createElement("script");scrEm.setAttribute("id","funnel-relay-installer");scrEm.setAttribute("data-customer-id","merriamwebster_6e5b0_encyclopediabritannica");scrEm.setAttribute("data-property-id","PROPERTY_ID");scrEm.setAttribute("data-autorun","true");scrEm.setAttribute("async","true");scrEm.setAttribute("src","https://cdn-magiclinks.trackonomics.net/client/static/v2/merriamwebster_6e5b0_encyclopediabritannica.js");document.head.appendChild(scrEm);</script>
<script type="text/javascript" id="" charset="">window.writeStat&&window.EBStat&&window.writeStat(null,window.EBStat);</script><img id="eb-stat-ctn" src="./Bubble_files/stats.gif" width="1px" height="1px" alt="" style="display: none;"><span id="PING_IFRAME_FORM_DETECTION" style="display: none;"></span><div class="md-modal2 md-modal2-md light" style="display: none;"><div class="md-feedback-modal size-lg d-none md-modal2-content size-md" id="___id7" style="display: block;"><em class="md-close material-icons" data-icon="close"></em>
	<div class="md-modal-body">
		<div class="h2 font-serif pb-15 border-bottom">
			Feedback
		</div>

		<form method="post" action="https://www.britannica.com/submission/feedback/585115" id="___id8" class="md-form2-initialized">

			<div class="my-20">
				Corrections? Updates? Omissions? Let us know if you have suggestions to improve this article (requires login).
			</div>

			<div class="type-menu">
				<label for="feedback-type-585115" class="label mb-10">Feedback Type</label>
				<select id="feedback-type-585115" class="form-select mb-30" name="feedbackTypeId" required="">
					<option value="" selected="selected">Select a type (Required)</option>
					<option value="1">Factual Correction</option>
					<option value="2">Spelling/Grammar Correction</option>
					<option value="3">Link Correction</option>
					<option value="4">Additional Information</option>
					<option value="5">Other</option>
				</select>
			</div>

			<label for="feedback-585115" class="label mb-10">Your Feedback</label>
			<textarea id="feedback-585115" class="form-control mb-30" name="feedback" maxlength="3000" rows="7" required=""></textarea>

			<button class="btn btn-blue" type="submit" disabled="disabled">Submit Feedback</button>
		</form>

		<div class="success-messaging d-none mt-30">
			<div class="title">Thank you for your feedback</div>
			<p>Our editors will review what you’ve submitted and determine whether to revise the article.</p>
		</div>
	</div>
</div></div><div class="md-modal2 md-modal2-md light" style="display: none;"><div class="md-print-modal size-lg d-none md-modal2-content size-md" id="___id9" style="display: block;"><em class="md-close material-icons" data-icon="close"></em>
	<div class="md-modal-body">
		<div class="h2 font-serif d-flex align-items-center pb-15 border-bottom">
			<em class="material-icons text-blue mr-10">print</em>
			Print
		</div>
		<div class="mt-20 mb-10">
			Please select which sections you would like to print:
		</div>
		<form action="https://www.britannica.com/print/article/585115" method="post" target="_blank" rel="noopener">
			<div class="print-box-items">
				<ul class="list-unstyled">
					<li><label><input class="mr-10" type="checkbox" name="sequence[]" value="0">Table Of Contents</label></li>
				<li><label><input class="mr-10" type="checkbox" name="sequence[]" value="1">Introduction</label></li><li><label><input class="mr-10" type="checkbox" name="sequence[]" value="2">History of the tea trade</label></li><li><label><input class="mr-10" type="checkbox" name="sequence[]" value="3">Classification of teas</label></li><li><label><input class="mr-10" type="checkbox" name="sequence[]" value="4">Processing the leaf</label></li><li><label><input class="mr-10" type="checkbox" name="sequence[]" value="5">Packaging</label></li><li><label><input class="mr-10" type="checkbox" name="sequence[]" value="6">Preparing the beverage</label></li></ul>
			</div>
			<input type="submit" class="btn btn-blue md-disabled" value="Print">
		</form>
	</div>
</div></div><div class="md-modal2 md-modal2-md light" style="display: none;"><div class="md-cite-modal size-lg d-none md-modal2-content size-md" id="___id10" style="display: block;"><em class="md-close material-icons" data-icon="close"></em>
	<div class="md-modal-body">
		<div class="h2 font-serif d-flex align-items-center pb-15 border-bottom mb-15">
			<em class="material-icons text-blue mr-10">verified</em>Cite
		</div>
		<div class="font-serif">
			While every effort has been made to follow citation style rules, there may be some discrepancies.
			Please refer to the appropriate style manual or other sources if you have any questions.
		</div>
		<div class="label mt-20 mb-10">Select Citation Style</div>
		<select class="js-citation-format-select form-select">
			<option selected="" value="mla">MLA</option>
			<option value="apa">APA</option>
			<option value="chicago">Chicago Manual of Style</option>
		</select>
		<div class="citation font-serif border rounded p-15 mt-20" data-authors="Sivasubramaniam, Sinnathurai" data-authors-initial="Sivasubramaniam, S." data-title="tea" data-published-date="15 Jan. 2025" data-url="https://www.britannica.com/topic/tea-beverage">
			<div class="citation-text">Sivasubramaniam, Sinnathurai. "tea". <em>Encyclopedia Britannica</em>, 15 Jan. 2025, https://www.britannica.com/topic/tea-beverage. Accessed 30 August 2025.</div>
		</div>

		












































    
    
    
        
    







    
    
        <button class="js-copy-citation-button mt-20 btn btn-xs btn-outline-blue border shadow-sm pr-10">
            <em aria-label="" class="material-icons md-icon ml-n10 my-n5 mr-5" data-icon="file_copy"></em>
	
    
			<span class="js-citation-status-text">Copy Citation</span>
        </button>
    


	</div>
</div></div><div class="md-modal2 md-modal2-md light" style="display: none;"><div class="md-share-modal size-lg d-none qa-share-modal md-modal2-content size-md" id="___id11" style="display: block;"><em class="md-close material-icons" data-icon="close"></em>
    <div class="md-modal-body">
        <div class="h2 font-serif d-flex align-items-center pb-15 border-bottom">
            <em aria-label="" class="material-icons text-blue mr-10" data-icon="share"></em>
	
            Share
        </div>
        <div class="label my-20">Share to social media</div>
        










































    
    
    
        
    



    
        
    
    
    






<div class="md-social-toolbar-circle d-flex align-items-start inverted" data-value="share" title="tea" data-url="https://www.britannica.com/topic/tea-beverage">
    
    
        <a class="social-icon facebook justify-content-center d-flex align-items-center align-self-center" aria-label="Share on Facebook" data-provider="facebook" href="https://www.facebook.com/BRITANNICA/" target="_blank" rel="noopener"><span>Facebook</span></a>
    
    
        <a class="social-icon x justify-content-center d-flex align-items-center align-self-center" aria-label="Share on X" data-provider="x" href="https://x.com/britannica" target="_blank" rel="noopener"><span>X</span></a>
    
    
    
    
    
    
</div>



        <div class="label pt-20 mt-20 mb-5 border-top">URL</div>
        <a class="font-serif text-truncate d-inline-block" href="https://www.britannica.com/topic/tea-beverage">https://www.britannica.com/topic/tea-beverage</a>
    </div>
</div></div><div class="md-modal2 md-modal2-md light" style="display: none;"><div class="md-websites-modal size-lg d-none md-modal2-content size-md" id="___id12" style="display: block;"><em class="md-close material-icons" data-icon="close"></em>
            <div class="md-modal-body">
                <div class="h2 font-serif pb-15 border-bottom font-weight-bold">
                    External Websites
                </div>
                <div class="pb-20">
            <ul class="list-unstyled mt-20 lh-lg">
            <li><a class="external" href="https://www.ncbi.nlm.nih.gov/books/NBK92768/" target="_blank" rel="noopener ">National Center for Biotechnology Information - Health Benefits of Tea</a></li>
            <li><a class="external" href="https://nutritionsource.hsph.harvard.edu/food-features/tea/" target="_blank" rel="noopener ">Harvard T.H. Chan School of Public Health - The Nutrition Source - Tea</a></li>
            <li><a class="external" href="https://health.clevelandclinic.org/teas-for-health" target="_blank" rel="noopener ">Cleveland Clinic - The best Teas to drink for your health</a></li>
            <li><a class="external" href="https://plantvillage.psu.edu/topics/tea/infos" target="_blank" rel="noopener ">Pennsylvania State University - PlantVillage - Tea</a></li>
            <li><a class="external" href="https://www.memphis.edu/vecl/pdfs/busting_the_myth_the_real_scoop_on_tea.pdf" target="_blank" rel="noopener ">The University of Memphis - Busting the Myth: The Real Scoop on Tea (PDF)</a></li>
            <li><a class="external" href="https://www.verywellfit.com/health-benefits-of-tea-how-different-types-compare-4148086" target="_blank" rel="noopener ">Verywell Fit - Health Benefits of Traditional and Herbal Teas</a></li>
            <li><a class="external" href="https://lpi.oregonstate.edu/mic/food-beverages/tea" target="_blank" rel="noopener ">Oregon State University - Linus Pauling Institute - Tea</a></li>
            <li><a class="external" href="https://www.rmg.co.uk/discover/explore/interesting-facts-about-tea" target="_blank" rel="noopener ">Royal Museums Greenwich - Interesting Facts About Tea</a></li>
            <li><a class="external" href="https://www.webmd.com/diet/tea-health-benefits" target="_blank" rel="noopener ">WebMD - Are There Health Benefits to Drinking Tea?</a></li>
            </ul>
        </div>

    <div class="md-websites-ebk-title">Britannica Websites</div>
        <div class="md-websites-ebk-subtitle">Articles from Britannica Encyclopedias for elementary and high school students.</div>

        <ul class="list-unstyled bps-topic-web-sites lh-lg">
            <li><a class="external" href="https://kids.britannica.com/kids/article/tea/353838" target="_blank" rel="noopener">tea - Children's Encyclopedia (Ages 8-11)</a></li>
            <li><a class="external" href="https://kids.britannica.com/students/article/tea/275434" target="_blank" rel="noopener">tea - Student Encyclopedia (Ages 11 and up)</a></li>
            </ul>

    
            </div>
        </div></div><img id="eb-stat-ctn" src="./Bubble_files/stats(1).gif" width="1px" height="1px" alt="" style="display: none;"></body></html>